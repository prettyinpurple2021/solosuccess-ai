name = "solosuccess-ai"
compatibility_date = "2025-08-01"
compatibility_flags = ["nodejs_compat"]

# Pages build configuration (using @cloudflare/next-on-pages)
pages_build_output_dir = ".vercel/output"

# Production environment configuration
[env.production]
name = "solosuccess-ai-production"

[env.production.vars]
NODE_ENV = "production"
NEXT_PUBLIC_APP_URL = "https://solobossai.fun"
NEXT_PUBLIC_SITE_URL = "https://solobossai.fun"
FROM_EMAIL = "noreply@solobossai.fun"
CUSTOM_DOMAINS = "solobossai.fun"
NEXT_PUBLIC_PERFORMANCE_MONITOR = "false"
NEXT_PUBLIC_DISABLE_EXIT_INTENT = "true"

# Service bindings to AI workers
[[env.production.services]]
binding = "OPENAI_WORKER"
service = "solosuccess-openai-worker-production"

[[env.production.services]]
binding = "GOOGLE_AI_WORKER"
service = "solosuccess-google-ai-worker-production"

[[env.production.services]]
binding = "COMPETITOR_WORKER"
service = "solosuccess-competitor-worker-production"

[[env.production.services]]
binding = "INTELLIGENCE_WORKER"
service = "solosuccess-intelligence-worker-production"

# All production secrets should be set via: wrangler pages secret put SECRET_NAME --env production
# Examples:
# wrangler pages secret put DATABASE_URL --env production
# wrangler pages secret put JWT_SECRET --env production
# wrangler pages secret put BETTER_AUTH_SECRET --env production
# wrangler pages secret put GITHUB_CLIENT_SECRET --env production
# wrangler pages secret put RESEND_API_KEY --env production
# wrangler pages secret put OPENAI_API_KEY --env production
# wrangler pages secret put ANTHROPIC_API_KEY --env production
# wrangler pages secret put GOOGLE_AI_API_KEY --env production
# wrangler pages secret put STRIPE_SECRET_KEY --env production
# wrangler pages secret put STRIPE_WEBHOOK_SECRET --env production
# wrangler pages secret put SENTRY_DSN --env production
# wrangler pages secret put CLOUDFLARE_API_TOKEN --env production

# Preview environment configuration
[env.preview]
name = "solosuccess-ai-preview"

[env.preview.vars]
NODE_ENV = "preview"
NEXT_PUBLIC_PERFORMANCE_MONITOR = "false"
NEXT_PUBLIC_DISABLE_EXIT_INTENT = "true"
FROM_EMAIL = "noreply@solobossai.fun"

# Service bindings to AI workers
[[env.preview.services]]
binding = "OPENAI_WORKER"
service = "solosuccess-openai-worker-preview"

[[env.preview.services]]
binding = "GOOGLE_AI_WORKER"
service = "solosuccess-google-ai-worker-preview"

[[env.preview.services]]
binding = "COMPETITOR_WORKER"
service = "solosuccess-competitor-worker-preview"

[[env.preview.services]]
binding = "INTELLIGENCE_WORKER"
service = "solosuccess-intelligence-worker-preview"

# Preview secrets should be set via: wrangler pages secret put SECRET_NAME --env preview
