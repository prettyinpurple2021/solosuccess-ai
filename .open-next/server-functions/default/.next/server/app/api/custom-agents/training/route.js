(()=>{var a={};a.id=839,a.ids=[839],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29671:(a,b,c)=>{"use strict";c.d(b,{M:()=>e});var d=c(30477);class e{constructor(){this.interactions=[]}static getInstance(){return e.instance||(e.instance=new e),e.instance}async recordInteraction(a){let b=crypto.randomUUID(),c={id:b,timestamp:new Date,...a};return this.interactions.push(c),this.interactions.length>1e3&&(this.interactions=this.interactions.slice(-1e3)),(0,d.fH)(`Recorded training interaction for ${a.agentId}`,{id:b,userMessage:a.userMessage.substring(0,50)+"...",success:a.success,confidence:a.confidence}),b}async updateInteractionRating(a,b,c){let e=this.interactions.find(b=>b.id===a);e&&(e.userRating=b,e.userFeedback=c,(0,d.fH)(`Updated rating for interaction ${a}: ${b} stars`))}async getTrainingMetrics(a,b){let c=this.interactions.filter(b=>b.userId===a);b&&(c=c.filter(a=>a.timestamp>=b.start&&a.timestamp<=b.end));let d=c.length,e=c.filter(a=>a.success).length,f=c.filter(a=>void 0!==a.userRating),g=f.length>0?f.reduce((a,b)=>a+(b.userRating||0),0)/f.length:0,h=d>0?c.reduce((a,b)=>a+b.responseTime,0)/d:0,i=d>0?c.reduce((a,b)=>a+b.confidence,0)/d:0,j=new Map;c.forEach(a=>{let b=j.get(a.agentId)||{total:0,successful:0,ratings:[]};b.total++,a.success&&b.successful++,a.userRating&&b.ratings.push(a.userRating),j.set(a.agentId,b)});let k=Array.from(j.entries()).map(([a,b])=>({agentId:a,successRate:b.total>0?b.successful/b.total*100:0,averageRating:b.ratings.length>0?b.ratings.reduce((a,b)=>a+b,0)/b.ratings.length:0,totalInteractions:b.total})).sort((a,b)=>b.successRate-a.successRate).slice(0,5),l=new Date;l.setDate(l.getDate()-7);let m=c.filter(a=>a.timestamp>=l),n=new Map;return m.forEach(a=>{let b=a.timestamp.toISOString().split("T")[0],c=n.get(b)||{ratings:[],count:0};c.count++,a.userRating&&c.ratings.push(a.userRating),n.set(b,c)}),{totalInteractions:d,averageRating:g,successRate:d>0?e/d*100:0,averageResponseTime:h,averageConfidence:i,topPerformingAgents:k,commonFailurePatterns:[],userSatisfactionTrends:Array.from(n.entries()).map(([a,b])=>({date:a,averageRating:b.ratings.length>0?b.ratings.reduce((a,b)=>a+b,0)/b.ratings.length:0,totalInteractions:b.count})).sort((a,b)=>a.date.localeCompare(b.date))}}async getTrainingDataForAgent(a,b,c=1e3){return this.interactions.filter(c=>c.agentId===a&&c.userId===b).sort((a,b)=>b.timestamp.getTime()-a.timestamp.getTime()).slice(0,c)}async exportTrainingData(a,b="json"){let c=this.interactions.filter(b=>b.userId===a);if("csv"===b){let a=Object.keys(c[0]||{});return[a.join(","),...c.map(b=>a.map(a=>{let c=b[a];return"string"==typeof c?`"${c.replace(/"/g,'""')}"`:c}).join(","))].join("\n")}return JSON.stringify(c,null,2)}getAllInteractions(){return[...this.interactions]}clearData(){this.interactions=[]}}},30477:(a,b,c)=>{"use strict";c.d(b,{HG:()=>i,JE:()=>g,fH:()=>h,vF:()=>e,vV:()=>f});class d{constructor(){this.isDevelopment=!1,this.logLevel=this.isDevelopment?3:2}shouldLog(a){return a<=this.logLevel}formatLogEntry(a){let b=["ERROR","WARN","INFO","DEBUG"][a.level],c=`[${a.timestamp}] ${b}: ${a.message}`;return a.context&&Object.keys(a.context).length>0&&(c+=` | Context: ${JSON.stringify(a.context)}`),a.error&&(c+=` | Error: ${a.error.message}`,this.isDevelopment&&a.error.stack&&(c+=` | Stack: ${a.error.stack}`)),c}log(a,b,c,d){if(!this.shouldLog(a))return;let e={level:a,message:b,timestamp:new Date().toISOString(),context:c,error:d},f=this.formatLogEntry(e);0===a&&console.error(f),!this.isDevelopment&&a<=1&&this.sendToExternalService(e)}async sendToExternalService(a){}error(a,b,c){this.log(0,a,b,c)}warn(a,b){this.log(1,a,b)}info(a,b){this.log(2,a,b)}debug(a,b){this.log(3,a,b)}apiLog(a,b,c,d,e){let f=`${a} ${b} - ${c}${d?` (${d}ms)`:""}`,g=c>=500?0:c>=400?1:2;this.log(g,f,{method:a,path:b,statusCode:c,duration:d,...e})}dbLog(a,b,c,d){let e=`DB ${a} on ${b}${c?` (${c}ms)`:""}`;this.log(3,e,{operation:a,table:b,duration:c,...d})}authLog(a,b,c=!0,d){let e=`Auth ${a}${b?` for user ${b}`:""} - ${c?"SUCCESS":"FAILED"}`;this.log(c?2:1,e,{action:a,userId:b,success:c,...d})}}let e=new d,f=(a,b,c)=>{b instanceof Error?e.error(a,void 0,b):"object"==typeof b&&null!==b?e.error(a,b,c):e.error(a,void 0,c)},g=(a,b)=>e.warn(a,b),h=(a,b)=>e.info(a,b),i=(a,b,c,d,f)=>e.apiLog(a,b,c,d,f)},33719:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>H,patchFetch:()=>G,routeModule:()=>C,serverHooks:()=>F,workAsyncStorage:()=>D,workUnitAsyncStorage:()=>E});var d={};c.r(d),c.d(d,{GET:()=>A,POST:()=>B,dynamic:()=>z});var e=c(95736),f=c(9117),g=c(4044),h=c(39326),i=c(32324),j=c(261),k=c(54290),l=c(85328),m=c(38928),n=c(46595),o=c(3421),p=c(17679),q=c(41681),r=c(63446),s=c(86439),t=c(51356),u=c(30477),v=c(10641),w=c(29671);class x{constructor(){this.dataCollector=w.M.getInstance()}async analyzeAgentPerformance(a,b){let c=await this.dataCollector.getTrainingDataForAgent(a,b),d=await this.dataCollector.getTrainingMetrics(b);if(0===c.length)return{agentId:a,overallScore:0,strengths:[],weaknesses:["Insufficient training data"],improvementAreas:["Data collection"],recommendations:["Increase interaction volume to enable analysis"],performanceInsights:[],benchmarkComparison:{vsAverage:0,vsTopPerformer:0,percentile:0}};let e=this.calculateAgentMetrics(c),f=await this.generatePerformanceInsights(a,c,d),g=this.generateRecommendations(a,e,f);return{agentId:a,overallScore:this.calculateOverallScore(e),strengths:this.identifyStrengths(e),weaknesses:this.identifyWeaknesses(e),improvementAreas:this.identifyImprovementAreas(e,f),recommendations:g.map(a=>a.description),performanceInsights:f,benchmarkComparison:this.calculateBenchmarkComparison(e,d)}}calculateAgentMetrics(a){let b=a.length,c=a.filter(a=>a.success).length,d=a.filter(a=>null!==a.userRating);return{totalInteractions:b,successRate:c/b*100,averageRating:d.length>0?d.reduce((a,b)=>a+(b.userRating||0),0)/d.length:0,averageResponseTime:a.reduce((a,b)=>a+b.responseTime,0)/b,averageConfidence:a.reduce((a,b)=>a+b.confidence,0)/b,collaborationRate:a.filter(a=>a.collaborationRequests.length>0).length/b*100,followUpRate:a.filter(a=>a.followUpTasks.length>0).length/b*100,ratingDistribution:this.calculateRatingDistribution(d),responseTimeDistribution:this.calculateResponseTimeDistribution(a),confidenceDistribution:this.calculateConfidenceDistribution(a)}}calculateRatingDistribution(a){let b={1:0,2:0,3:0,4:0,5:0};return a.forEach(a=>{a.userRating&&b[a.userRating]++}),b}calculateResponseTimeDistribution(a){let b=a.map(a=>a.responseTime).sort((a,b)=>a-b);return{min:b[0]||0,max:b[b.length-1]||0,median:b[Math.floor(b.length/2)]||0,p95:b[Math.floor(.95*b.length)]||0}}calculateConfidenceDistribution(a){let b=a.map(a=>a.confidence).sort((a,b)=>a-b);return{min:b[0]||0,max:b[b.length-1]||0,median:b[Math.floor(b.length/2)]||0,p95:b[Math.floor(.95*b.length)]||0}}async generatePerformanceInsights(a,b,c){let d=[],e=this.calculateAgentMetrics(b);return e.successRate<70?d.push({type:"error",title:"Low Success Rate",description:`Agent has a ${e.successRate.toFixed(1)}% success rate, below the 70% threshold`,impact:"high",recommendation:"Review failed interactions and optimize prompts or model parameters",metrics:{successRate:e.successRate}}):e.successRate>90&&d.push({type:"success",title:"Excellent Success Rate",description:`Agent maintains a ${e.successRate.toFixed(1)}% success rate`,impact:"medium",recommendation:"Consider sharing best practices with other agents",metrics:{successRate:e.successRate}}),e.averageResponseTime>1e4&&d.push({type:"warning",title:"Slow Response Times",description:`Average response time is ${(e.averageResponseTime/1e3).toFixed(1)}s`,impact:"medium",recommendation:"Optimize model parameters or consider faster models",metrics:{averageResponseTime:e.averageResponseTime}}),e.averageRating<3&&d.push({type:"error",title:"Low User Satisfaction",description:`Average user rating is ${e.averageRating.toFixed(1)}/5`,impact:"high",recommendation:"Analyze user feedback and improve response quality",metrics:{averageRating:e.averageRating}}),e.collaborationRate<10&&d.push({type:"optimization",title:"Low Collaboration Rate",description:`Only ${e.collaborationRate.toFixed(1)}% of interactions involve collaboration`,impact:"low",recommendation:"Encourage more inter-agent collaboration for complex tasks",metrics:{collaborationRate:e.collaborationRate}}),d}generateRecommendations(a,b,c){let d=[];return b.successRate<70&&d.push({agentId:a,priority:"high",type:"fine_tuning",title:"Improve Success Rate",description:"Fine-tune the agent to handle common failure patterns",expectedImprovement:"Increase success rate by 15-25%",effort:"medium",dataRequirements:["Failed interaction examples","Success patterns"],implementationSteps:["Collect failed interaction data","Identify common failure patterns","Create training dataset","Fine-tune model parameters","Test and validate improvements"]}),b.averageResponseTime>1e4&&d.push({agentId:a,priority:"medium",type:"model_switch",title:"Optimize Response Speed",description:"Consider switching to a faster model or optimizing parameters",expectedImprovement:"Reduce response time by 30-50%",effort:"low",dataRequirements:["Current model performance data"],implementationSteps:["Benchmark current model performance","Test alternative models","Optimize temperature and token limits","Implement response caching","Monitor performance improvements"]}),b.averageRating<3.5&&d.push({agentId:a,priority:"high",type:"prompt_optimization",title:"Enhance Response Quality",description:"Optimize prompts to improve user satisfaction",expectedImprovement:"Increase average rating by 0.5-1.0 points",effort:"medium",dataRequirements:["User feedback data","Low-rated interactions"],implementationSteps:["Analyze user feedback patterns","Identify quality issues","Redesign system prompts","Add personality and context awareness","Test with user groups"]}),d}calculateOverallScore(a){let b={successRate:Math.min(a.successRate/100,1),averageRating:Math.min(a.averageRating/5,1),responseTime:Math.max(0,1-a.averageResponseTime/2e4),confidence:a.averageConfidence,collaborationRate:Math.min(a.collaborationRate/100,1)};return 100*Object.entries({successRate:.3,averageRating:.25,responseTime:.2,confidence:.15,collaborationRate:.1}).reduce((a,[c,d])=>a+b[c]*d,0)}identifyStrengths(a){let b=[];return a.successRate>85&&b.push("High success rate"),a.averageRating>4&&b.push("Excellent user satisfaction"),a.averageResponseTime<5e3&&b.push("Fast response times"),a.averageConfidence>.8&&b.push("High confidence responses"),a.collaborationRate>20&&b.push("Good collaboration skills"),b}identifyWeaknesses(a){let b=[];return a.successRate<70&&b.push("Low success rate"),a.averageRating<3&&b.push("Poor user satisfaction"),a.averageResponseTime>1e4&&b.push("Slow response times"),a.averageConfidence<.6&&b.push("Low confidence responses"),a.collaborationRate<10&&b.push("Limited collaboration"),b}identifyImprovementAreas(a,b){let c=[];return b.forEach(a=>{("error"===a.type||"warning"===a.type)&&c.push(a.title.toLowerCase())}),c}calculateBenchmarkComparison(a,b){let c={successRate:a.successRate-b.successRate,averageRating:a.averageRating-b.averageRating,responseTime:b.averageResponseTime-a.averageResponseTime},d=b.topPerformingAgents[0],e=d?{successRate:a.successRate-d.successRate,averageRating:a.averageRating-d.averageRating}:{successRate:0,averageRating:0},f=Math.min(100,Math.max(0,(a.successRate+20*a.averageRating)/2));return{vsAverage:(c.successRate+20*c.averageRating)/2,vsTopPerformer:(e.successRate+20*e.averageRating)/2,percentile:f}}async generateTrainingReport(a){let b=await this.dataCollector.getTrainingMetrics(a),c=await Promise.all(["roxy","blaze","echo","lumi","vex","lexi","nova","glitch"].map(b=>this.analyzeAgentPerformance(b,a))),d=c.flatMap(a=>this.generateRecommendations(a.agentId,this.calculateAgentMetrics([]),a.performanceInsights)),e=c.flatMap(a=>a.performanceInsights);return{summary:{totalAgents:c.length,averageScore:c.reduce((a,b)=>a+b.overallScore,0)/c.length,totalRecommendations:d.length,criticalIssues:e.filter(a=>"error"===a.type).length,...b},agentProfiles:c,recommendations:d.sort((a,b)=>{let c={critical:4,high:3,medium:2,low:1};return c[b.priority]-c[a.priority]}),insights:e}}}class y{constructor(){this.jobs=new Map,this.dataCollector=w.M.getInstance(),this.analytics=new x}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}async createFineTuningJob(a,b,c){let d=this.generateUUID();try{let e=await this.prepareTrainingData(a,b,c.dataFilters);if(e.length<5)throw Error("Insufficient training data. Need at least 5 interactions.");let f={id:d,agentId:a,userId:b,status:"pending",createdAt:new Date,trainingDataSize:e.length,validationDataSize:Math.floor(.2*e.length),parameters:c};return await this.storeFineTuningJob(f),this.startFineTuningProcess(f,e).catch(a=>{(0,u.vV)("Error in fine-tuning process:",a)}),f}catch(a){throw(0,u.vV)("Error creating fine-tuning job:",a),a}}async prepareTrainingData(a,b,c){let d=await this.dataCollector.getTrainingDataForAgent(a,b,5e3);return(0,u.fH)(`Found ${d.length} training interactions for agent ${a}`),c.minRating&&(d=d.filter(a=>(a.userRating||0)>=c.minRating)),c.minConfidence&&(d=d.filter(a=>a.confidence>=c.minConfidence)),c.successOnly&&(d=d.filter(a=>a.success)),(0,u.fH)(`After filtering: ${d.length} training interactions`),c.timeRange&&(d=d.filter(a=>a.timestamp>=c.timeRange.start&&a.timestamp<=c.timeRange.end)),d=this.shuffleArray(d)}shuffleArray(a){let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}return b}async storeFineTuningJob(a){this.jobs.set(a.id,a),(0,u.fH)("Storing fine-tuning job:",a.id)}async startFineTuningProcess(a,b){try{a.status="preparing",a.startedAt=new Date,await this.updateJobStatus(a);let c=await this.createTrainingDataset(a,b);a.status="training",await this.updateJobStatus(a);let d=await this.simulateFineTuning(a,c);a.status="validating",await this.updateJobStatus(a);let e=await this.validateFineTuningResults(a,d);a.status="completed",a.completedAt=new Date,a.results=e,await this.updateJobStatus(a)}catch(b){a.status="failed",a.error=b instanceof Error?b.message:"Unknown error",await this.updateJobStatus(a)}}async createTrainingDataset(a,b){return{id:this.generateUUID(),agentId:a.agentId,name:`Fine-tuning dataset for ${a.agentId}`,description:`Training dataset created for fine-tuning job ${a.id}`,size:b.length,createdAt:new Date,data:b,metadata:{source:"user_interactions",quality:this.assessDataQuality(b),diversity:this.calculateDataDiversity(b),balance:this.calculateDataBalance(b)}}}assessDataQuality(a){let b=a.filter(a=>a.userRating).reduce((a,b)=>a+(b.userRating||0),0)/a.length,c=a.filter(a=>a.success).length/a.length;return b>=4&&c>=.8?"high":b>=3&&c>=.6?"medium":"low"}calculateDataDiversity(a){return Math.min(1,(new Set(a.map(a=>JSON.stringify(a.context))).size+new Set(a.map(a=>a.userMessage.split(" ")[0])).size)/(2*a.length))}calculateDataBalance(a){let b=a.filter(a=>a.success).length,c=a.length-b;return 0===b||0===c?.5:Math.min(b,c)/Math.max(b,c)}async simulateFineTuning(a,b){return(0,u.fH)(`Simulating fine-tuning for ${a.agentId} with ${b.size} samples`),await new Promise(a=>setTimeout(a,5e3)),{accuracy:.85+.1*Math.random(),loss:.1+.05*Math.random(),validationAccuracy:.82+.08*Math.random(),validationLoss:.12+.03*Math.random()}}async validateFineTuningResults(a,b){let c=await this.getAgentMetrics(a.agentId,a.userId),d={...c,successRate:Math.min(100,c.successRate+(10*Math.random()-2)),averageRating:Math.min(5,c.averageRating+(.5*Math.random()-.1)),averageResponseTime:Math.max(1e3,c.averageResponseTime+(2e3*Math.random()-1e3)),averageConfidence:Math.min(1,c.averageConfidence+(.2*Math.random()-.1))};return{...b,improvementMetrics:{successRateChange:d.successRate-c.successRate,averageRatingChange:d.averageRating-c.averageRating,responseTimeChange:d.averageResponseTime-c.averageResponseTime,confidenceChange:d.averageConfidence-c.averageConfidence},beforeMetrics:c,afterMetrics:d}}async getAgentMetrics(a,b){let c=await this.dataCollector.getTrainingDataForAgent(a,b,1e3);if(0===c.length)return{successRate:0,averageRating:0,averageResponseTime:0,averageConfidence:0};let d=c.filter(a=>a.success).length,e=c.filter(a=>null!==a.userRating);return{successRate:d/c.length*100,averageRating:e.length>0?e.reduce((a,b)=>a+(b.userRating||0),0)/e.length:0,averageResponseTime:c.reduce((a,b)=>a+b.responseTime,0)/c.length,averageConfidence:c.reduce((a,b)=>a+b.confidence,0)/c.length}}async updateJobStatus(a){this.jobs.set(a.id,a),(0,u.fH)(`Job ${a.id} status updated to: ${a.status}`)}async getFineTuningJob(a){return(0,u.fH)(`Fetching fine-tuning job: ${a}`),this.jobs.get(a)||null}async listFineTuningJobs(a){return(0,u.fH)(`Listing fine-tuning jobs for user: ${a}`),Array.from(this.jobs.values()).filter(b=>b.userId===a)}async generateFineTuningRecommendations(a,b){let c=await this.analytics.analyzeAgentPerformance(a,b),d=[];return c.overallScore<70&&d.push({agentId:a,priority:"high",type:"fine_tuning",title:"Comprehensive Fine-tuning",description:"Fine-tune the agent with high-quality interaction data to improve overall performance",expectedImprovement:"Increase overall score by 15-25 points",effort:"high",dataRequirements:["Minimum 200 high-quality interactions","Balanced success/failure examples","Diverse user scenarios","User feedback data"],implementationSteps:["Collect and curate training data","Create balanced dataset","Configure fine-tuning parameters","Run fine-tuning job","Validate and deploy improved model","Monitor performance improvements"]}),c.weaknesses.includes("Low success rate")&&d.push({agentId:a,priority:"critical",type:"fine_tuning",title:"Success Rate Optimization",description:"Fine-tune specifically to improve success rate and reduce failures",expectedImprovement:"Increase success rate by 20-30%",effort:"medium",dataRequirements:["Failed interaction examples","Success pattern data","Error analysis results"],implementationSteps:["Analyze failure patterns","Create success-focused dataset","Fine-tune with emphasis on accuracy","Test with edge cases","Deploy and monitor"]}),d}async createTrainingDatasetFromRecommendation(a,b){let c=await this.dataCollector.getTrainingDataForAgent(a.agentId,b,5e3),d=c;a.title.includes("Success Rate")&&(d=c.filter(a=>a.success||a.userRating&&a.userRating>=4)),a.title.includes("Quality")&&(d=c.filter(a=>a.userRating&&a.userRating>=3));let e={id:this.generateUUID(),agentId:a.agentId,userId:b,status:"pending",createdAt:new Date,trainingDataSize:0,validationDataSize:0,parameters:{model:"gpt-4o",epochs:3,learningRate:1e-4,batchSize:32,temperature:.7,maxOutputTokens:1e3,customPrompts:[],dataFilters:{}}};return this.createTrainingDataset(e,d)}}let z="force-dynamic";async function A(a){try{let{searchParams:b}=new URL(a.url),c=b.get("action"),d=b.get("agentId"),e="default-user",f=w.M.getInstance(),g=new x,h=new y;switch(c){case"metrics":let i=await f.getTrainingMetrics(e);return v.NextResponse.json({success:!0,metrics:i});case"agent-performance":if(!d)return v.NextResponse.json({error:"Agent ID required"},{status:400});let j=await g.analyzeAgentPerformance(d,e);return v.NextResponse.json({success:!0,performance:j});case"training-report":let k=await g.generateTrainingReport(e);return v.NextResponse.json({success:!0,report:k});case"fine-tuning-jobs":let l=await h.listFineTuningJobs(e);return v.NextResponse.json({success:!0,jobs:l});case"recommendations":if(!d)return v.NextResponse.json({error:"Agent ID required"},{status:400});let m=await h.generateFineTuningRecommendations(d,e);return v.NextResponse.json({success:!0,recommendations:m});default:return v.NextResponse.json({error:"Invalid action"},{status:400})}}catch(a){return(0,u.vV)("Training API error:",a),v.NextResponse.json({error:"Internal server error",details:a instanceof Error?a.message:"Unknown error"},{status:500})}}async function B(a){try{let{action:b,agentId:c,userId:d="default-user",...e}=await a.json(),f=w.M.getInstance(),g=new y;switch(b){case"record-interaction":let h=await f.recordInteraction({userId:d,agentId:e.agentId,userMessage:e.userMessage,agentResponse:e.agentResponse,context:e.context||{},userRating:e.userRating,userFeedback:e.userFeedback,success:e.success,responseTime:e.responseTime,confidence:e.confidence,collaborationRequests:e.collaborationRequests||[],followUpTasks:e.followUpTasks||[],metadata:e.metadata||{}});return v.NextResponse.json({success:!0,interactionId:h});case"update-rating":return await f.updateInteractionRating(e.interactionId,e.rating,e.feedback),v.NextResponse.json({success:!0});case"create-fine-tuning-job":if(!c)return v.NextResponse.json({error:"Agent ID required"},{status:400});let i=await g.createFineTuningJob(c,d,e.parameters);return v.NextResponse.json({success:!0,job:i});case"export-data":let j=e.format||"json",k=await f.exportTrainingData(d,j);return v.NextResponse.json({success:!0,data:k,format:j});default:return v.NextResponse.json({error:"Invalid action"},{status:400})}}catch(a){return(0,u.vV)("Training API error:",a),v.NextResponse.json({error:"Internal server error",details:a instanceof Error?a.message:"Unknown error"},{status:500})}}let C=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/custom-agents/training/route",pathname:"/api/custom-agents/training",filename:"route",bundlePath:"app/api/custom-agents/training/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\api\\custom-agents\\training\\route.ts",nextConfigOutput:"standalone",userland:d}),{workAsyncStorage:D,workUnitAsyncStorage:E,serverHooks:F}=C;function G(){return(0,g.patchFetch)({workAsyncStorage:D,workUnitAsyncStorage:E})}async function H(a,b,c){var d;let e="/api/custom-agents/training/route";"/index"===e&&(e="/");let g=await C.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:y,routerServerContext:z,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:D}=g,E=(0,j.normalizeAppPath)(e),F=!!(y.dynamicRoutes[E]||y.routes[D]);if(F&&!x){let a=!!y.routes[D],b=y.dynamicRoutes[E];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let G=null;!F||C.isDev||x||(G="/index"===(G=D)?"/":G);let H=!0===C.isDev||!F,I=F&&!H,J=a.method||"GET",K=(0,i.getTracer)(),L=K.getActiveScopeSpan(),M={params:v,prerenderManifest:y,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:H,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:I,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>C.onRequestError(a,b,d,z)},sharedContext:{buildId:u}},N=new k.NodeNextRequest(a),O=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(N,(0,l.signalFromNodeResponse)(b));try{let d=async c=>C.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=K.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${J} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${J} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&A&&B&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=M.renderOpts.fetchMetrics;let i=M.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=M.renderOpts.collectedTags;if(!F)return await (0,o.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await C.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:A})},z),b}},l=await C.handleResponse({req:a,nextConfig:w,cacheKey:G,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:k,waitUntil:c.waitUntil});if(!F)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&F||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(N,O,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};L?await g(L):await K.withPropagatedContext(a.headers,()=>K.trace(m.BaseServerSpan.handleRequest,{spanName:`${J} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":J,"http.target":a.url}},g))}catch(b){if(L||b instanceof s.NoFallbackError||await C.onRequestError(a,b,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:A})}),F)throw b;return await (0,o.I)(N,O,new Response(null,{status:500})),null}}},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},96487:()=>{}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[5873,1428,1692],()=>b(b.s=33719));module.exports=c})();