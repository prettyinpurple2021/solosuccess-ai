(()=>{var a={};a.id=754,a.ids=[754],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16774:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\prett\\\\Desktop\\\\SoloSuccess AI\\\\app\\\\dashboard\\\\analytics\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\dashboard\\analytics\\page.tsx","default")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31506:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},32717:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},33873:a=>{"use strict";a.exports=require("path")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},41847:(a,b,c)=>{Promise.resolve().then(c.bind(c,16774))},43447:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},46575:(a,b,c)=>{Promise.resolve().then(c.bind(c,89738))},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66554:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.default,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(50539),D=c(62506),E=c(91203),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["dashboard",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,16774)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\dashboard\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,69694)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\layout.tsx"],error:[()=>Promise.resolve().then(c.bind(c,41697)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\error.tsx"],loading:[()=>Promise.resolve().then(c.bind(c,90391)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\loading.tsx"],"global-error":[()=>Promise.resolve().then(c.bind(c,50539)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\global-error.tsx"],"not-found":[()=>Promise.resolve().then(c.bind(c,8595)),"C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,H=["C:\\Users\\prett\\Desktop\\SoloSuccess AI\\app\\dashboard\\analytics\\page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/dashboard/analytics/page",pathname:"/dashboard/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",relativeProjectDir:""});async function K(a,b,d){var F;let L="/dashboard/analytics/page";"/index"===L&&(L="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await J.prepare(a,b,{srcPage:L,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(L),{isOnDemandRevalidate:ah}=O,ai=J.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(F=$.routes[ag]??$.dynamicRoutes[ag])?void 0:F.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===J.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&J.isDev&&(aB=aa),J.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...D,tree:G,pages:H,GlobalError:C.default,handler:K,routeModule:J,__next_app__:I};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:L,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=J.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:J,page:L,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),J.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!J.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===J.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await J.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await J.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!J.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&E.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:L,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},72567:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},75535:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},89738:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>as});var d=c(21124),e=c(38301),f=c.n(e),g=c(45119),h=c(6334),i=c(22544),j=c(88020),k=c(72966),l=c(18310),m=c(25345),n=c(49269),o=c(18004),p=c(3663),q=c(15952),r=c(43447),s=c(94684),t=c(4368),u=c(7158),v=c(25649),w=c(19217),x=c(60073),y=c(31506),z=c(65893),A=c(32717),B=c(81808),C=c(42830),D=c(4803),E=c(55169),F=c(26519),G=c(67748),H=c(16945),I=c(23339);let J=(0,I.A)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var K=c(46422);c(58610);var L=c(3368),M=c(81925),N=c(24101),O=c(75219),P=c(75535),Q=c(15514);function R({className:a=""}){let[b,c]=(0,e.useState)([]),[f,h]=(0,e.useState)(null),[j,k]=(0,e.useState)([]),[l,n]=(0,e.useState)(!0),[o,p]=(0,e.useState)(null),[q,r]=(0,e.useState)("30d"),[s,t]=(0,e.useState)("all"),[u,v]=(0,e.useState)(!1),y=async()=>{try{n(!0),p(null);let a=new URLSearchParams({timeframe:q,includeForecast:"true",includeAnomalies:"true"}),b=await fetch(`/api/analytics/predictive?${a}`);if(!b.ok)throw Error("Failed to fetch predictive insights");let d=await b.json();if(d.success)c(d.data.insights||[]),h(d.data.forecast||null),k(d.data.anomalies||[]);else throw Error(d.error||"Failed to load insights")}catch(a){(0,D.vV)("Error fetching predictive insights:",a),p(a instanceof Error?a.message:"Unknown error")}finally{n(!1)}},z=async()=>{v(!0),await y(),v(!1)},A=a=>{switch(a){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},C="all"===s?b:b.filter(a=>a.category===s),I=C.filter(a=>a.priority>=7),K=C.filter(a=>a.actionable);return l?(0,d.jsxs)("div",{className:(0,Q.cn)("space-y-6",a),children:[(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,d.jsx)(x.A,{className:"w-4 h-4 text-white"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Predictive Insights"})]})}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(a=>(0,d.jsx)(g.Zp,{className:"animate-pulse",children:(0,d.jsxs)(g.Wu,{className:"p-6",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,d.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},a))})]}):o?(0,d.jsxs)(F.Fc,{className:"border-red-200 bg-red-50",children:[(0,d.jsx)(H.A,{className:"h-4 w-4 text-red-600"}),(0,d.jsx)(F.TN,{className:"text-red-800",children:o})]}):(0,d.jsxs)("div",{className:(0,Q.cn)("space-y-6",a),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,d.jsx)(x.A,{className:"w-4 h-4 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Predictive Insights"}),(0,d.jsx)("p",{className:"text-gray-600",children:"AI-powered analytics and predictions"})]})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsxs)(w.$,{variant:"outline",size:"sm",onClick:z,disabled:u,children:[(0,d.jsx)(m.A,{className:(0,Q.cn)("w-4 h-4 mr-2",u&&"animate-spin")}),"Refresh"]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsx)(g.Zp,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:(0,d.jsx)(g.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Insights"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:b.length})]}),(0,d.jsx)(x.A,{className:"w-8 h-8 text-purple-500"})]})})}),(0,d.jsx)(g.Zp,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-red-50",children:(0,d.jsx)(g.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"High Priority"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:I.length})]}),(0,d.jsx)(H.A,{className:"w-8 h-8 text-orange-500"})]})})}),(0,d.jsx)(g.Zp,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:(0,d.jsx)(g.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Actionable"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-600",children:K.length})]}),(0,d.jsx)(B.A,{className:"w-8 h-8 text-green-500"})]})})}),(0,d.jsx)(g.Zp,{className:"border-red-200 bg-gradient-to-br from-red-50 to-pink-50",children:(0,d.jsx)(g.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Anomalies"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-red-600",children:j.length})]}),(0,d.jsx)(H.A,{className:"w-8 h-8 text-red-500"})]})})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(M.A,{className:"w-4 h-4 text-gray-500"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Timeframe:"}),(0,d.jsx)("div",{className:"flex gap-1",children:["7d","30d","90d","1y"].map(a=>(0,d.jsx)(w.$,{variant:q===a?"default":"outline",size:"sm",onClick:()=>r(a),className:"h-8 px-3",children:a},a))})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:"Category:"}),(0,d.jsx)("div",{className:"flex gap-1",children:["all","productivity","engagement","performance","business","user_behavior"].map(a=>(0,d.jsx)(w.$,{variant:s===a?"default":"outline",size:"sm",onClick:()=>t(a),className:"h-8 px-3",children:"all"===a?"All":a.charAt(0).toUpperCase()+a.slice(1).replace("_"," ")},a))})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:C.map((a,b)=>(0,d.jsx)(E.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*b},children:(0,d.jsxs)(g.Zp,{className:"relative overflow-hidden border-2 hover:shadow-lg transition-shadow",children:[a.priority>=8&&(0,d.jsx)("div",{className:"absolute top-0 right-0 w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] border-t-red-500"}),(0,d.jsx)(g.aR,{className:"pb-3",children:(0,d.jsx)("div",{className:"flex items-start justify-between",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(a=>{switch(a){case"trend":return(0,d.jsx)(G.A,{className:"w-4 h-4"});case"anomaly":case"risk":return(0,d.jsx)(H.A,{className:"w-4 h-4"});case"forecast":return(0,d.jsx)(J,{className:"w-4 h-4"});case"recommendation":return(0,d.jsx)(B.A,{className:"w-4 h-4"});default:return(0,d.jsx)(x.A,{className:"w-4 h-4"})}})(a.type)}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.ZB,{className:"text-lg",children:a.title}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,d.jsx)(i.E,{variant:"outline",className:A(a.impact),children:a.impact}),(0,d.jsxs)(i.E,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[a.confidence,"% confidence"]})]})]})]})})}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsx)("p",{className:"text-gray-600",children:a.description}),a.data&&(0,d.jsxs)("div",{className:"space-y-2",children:[void 0!==a.data.current&&(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{children:"Current:"}),(0,d.jsx)("span",{className:"font-medium",children:a.data.current})]}),void 0!==a.data.changePercent&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Change:"}),(0,d.jsxs)("div",{className:(0,Q.cn)("flex items-center gap-1 text-sm font-medium",a.data.changePercent>0?"text-green-600":"text-red-600"),children:[a.data.changePercent>0?(0,d.jsx)(G.A,{className:"w-3 h-3"}):(0,d.jsx)(N.A,{className:"w-3 h-3"}),Math.abs(a.data.changePercent),"%"]})]})]}),a.recommendations&&a.recommendations.length>0&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Recommendations:"}),(0,d.jsx)("ul",{className:"space-y-1",children:a.recommendations.slice(0,3).map((a,b)=>(0,d.jsxs)("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[(0,d.jsx)(O.A,{className:"w-3 h-3 text-green-500 mt-0.5 flex-shrink-0"}),a]},b))})]}),a.actionable&&(0,d.jsxs)(w.$,{size:"sm",className:"w-full",children:["Take Action",(0,d.jsx)(P.A,{className:"w-3 h-3 ml-2"})]})]})]})},a.id))}),f&&(0,d.jsxs)(g.Zp,{className:"border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-cyan-50",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(J,{className:"w-5 h-5 text-blue-600"}),"Business Forecast (",f.timeframe,")"]}),(0,d.jsxs)(g.BT,{children:["AI-powered predictions with ",f.confidence,"% confidence"]})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"User Growth"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:f.metrics.userGrowth[f.metrics.userGrowth.length-1]}),(0,d.jsxs)("p",{className:"text-xs text-green-600",children:["+",f.metrics.userGrowth[f.metrics.userGrowth.length-1]-f.metrics.userGrowth[0]]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Revenue"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",f.metrics.revenue[f.metrics.revenue.length-1]]}),(0,d.jsxs)("p",{className:"text-xs text-green-600",children:["+",f.metrics.revenue[f.metrics.revenue.length-1]-f.metrics.revenue[0]]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Engagement"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[f.metrics.engagement[f.metrics.engagement.length-1],"%"]}),(0,d.jsxs)("p",{className:"text-xs text-green-600",children:["+",f.metrics.engagement[f.metrics.engagement.length-1]-f.metrics.engagement[0],"%"]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Churn Rate"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[f.metrics.churn[f.metrics.churn.length-1],"%"]}),(0,d.jsxs)("p",{className:"text-xs text-green-600",children:["-",f.metrics.churn[0]-f.metrics.churn[f.metrics.churn.length-1],"%"]})]})]})})]}),j.length>0&&(0,d.jsxs)(g.Zp,{className:"border-2 border-red-200 bg-gradient-to-br from-red-50 to-pink-50",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(H.A,{className:"w-5 h-5 text-red-600"}),"Detected Anomalies"]}),(0,d.jsx)(g.BT,{children:"Unusual patterns detected in your data"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"space-y-3",children:j.map(a=>(0,d.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border",children:[(0,d.jsx)("div",{className:(0,Q.cn)("w-8 h-8 rounded-full flex items-center justify-center","critical"===a.severity?"bg-red-100 text-red-600":"high"===a.severity?"bg-orange-100 text-orange-600":"medium"===a.severity?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"),children:(0,d.jsx)(H.A,{className:"w-4 h-4"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900",children:a.description}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.impact}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,d.jsxs)("span",{children:["Expected: ",a.expectedValue.toFixed(2)]}),(0,d.jsxs)("span",{children:["Actual: ",a.actualValue.toFixed(2)]}),(0,d.jsxs)("span",{children:["Deviation: ",a.deviation.toFixed(2),"σ"]})]})]}),(0,d.jsx)(i.E,{variant:"outline",className:A(a.severity),children:a.severity})]},a.id))})})]})]})}var S=c(7629),T=c(53199),U=c(28241),V=c(92500),W=c(15303),X=c(81100),Y=c(40284);let Z=(0,I.A)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),$=(0,I.A)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);function _({className:a="",onSave:b,onExport:c}){let[f,j]=(0,e.useState)({name:"",description:"",timeframe:{start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0],granularity:"day"},metrics:[],filters:[],visualizations:[]}),[k,l]=(0,e.useState)([]),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)([]),[r,s]=(0,e.useState)(null),[t,u]=(0,e.useState)(!1),v=[{id:"user_count",name:"Total Users",type:"number",category:"user",description:"Total number of registered users",icon:z.A},{id:"active_users",name:"Active Users",type:"number",category:"user",description:"Users active in the selected timeframe",icon:z.A},{id:"engagement_rate",name:"Engagement Rate",type:"percentage",category:"engagement",description:"Percentage of users who are actively engaged",icon:G.A},{id:"task_completion_rate",name:"Task Completion Rate",type:"percentage",category:"productivity",description:"Percentage of tasks completed successfully",icon:B.A},{id:"avg_session_duration",name:"Average Session Duration",type:"duration",category:"engagement",description:"Average time users spend in sessions",icon:W.A},{id:"revenue",name:"Revenue",type:"currency",category:"business",description:"Total revenue generated",icon:G.A},{id:"churn_rate",name:"Churn Rate",type:"percentage",category:"business",description:"Percentage of users who stopped using the service",icon:G.A},{id:"feature_adoption",name:"Feature Adoption",type:"percentage",category:"engagement",description:"Percentage of users using specific features",icon:K.A}],x=a=>{l(k.filter(b=>b!==a))},y=async()=>{u(!0);try{await new Promise(a=>setTimeout(a,1e3)),s({metrics:k.map(a=>{let b=v.find(b=>b.id===a);return{id:a,name:b?.name||a,value:Math.floor(1e3*Math.random()),change:Math.floor(20*Math.random())-10,changePercent:Math.floor(40*Math.random())-20}}),charts:o.map(a=>({id:a.id,type:a.type,data:A(a.type)}))})}catch(a){(0,D.vV)("Error generating preview:",a)}finally{u(!1)}},A=a=>{let b=[];for(let a=0;a<7;a++)b.push({date:new Date(Date.now()-(6-a)*864e5).toISOString().split("T")[0],value:Math.floor(100*Math.random())});return b};return(0,d.jsxs)("div",{className:(0,Q.cn)("space-y-6",a),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,d.jsx)(q.A,{className:"w-4 h-4 text-white"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Custom Report Builder"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Create personalized analytics reports"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(w.$,{variant:"outline",onClick:y,disabled:t,children:[(0,d.jsx)(L.A,{className:"w-4 h-4 mr-2"}),"Preview"]}),(0,d.jsxs)(w.$,{onClick:()=>{if(!f.name)return void alert("Please enter a report name");let a={id:`report_${Date.now()}`,name:f.name,description:f.description||"",timeframe:f.timeframe,metrics:k,filters:m,visualizations:o,isPublic:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};b?.(a)},children:[(0,d.jsx)(X.A,{className:"w-4 h-4 mr-2"}),"Save Report"]})]})]}),(0,d.jsxs)(h.tU,{defaultValue:"setup",className:"space-y-6",children:[(0,d.jsxs)(h.j7,{className:"grid w-full grid-cols-4",children:[(0,d.jsx)(h.Xi,{value:"setup",children:"Setup"}),(0,d.jsx)(h.Xi,{value:"metrics",children:"Metrics"}),(0,d.jsx)(h.Xi,{value:"visualizations",children:"Visualizations"}),(0,d.jsx)(h.Xi,{value:"preview",children:"Preview"})]}),(0,d.jsx)(h.av,{value:"setup",className:"space-y-6",children:(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Report Configuration"}),(0,d.jsx)(g.BT,{children:"Configure the basic settings for your custom report"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(T.J,{htmlFor:"report-name",children:"Report Name"}),(0,d.jsx)(S.p,{id:"report-name",placeholder:"Enter report name",value:f.name,onChange:a=>j({...f,name:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(T.J,{htmlFor:"report-description",children:"Description"}),(0,d.jsx)(S.p,{id:"report-description",placeholder:"Enter report description",value:f.description,onChange:a=>j({...f,description:a.target.value})})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(T.J,{htmlFor:"start-date",children:"Start Date"}),(0,d.jsx)(S.p,{id:"start-date",type:"date",value:f.timeframe?.start,onChange:a=>j({...f,timeframe:{...f.timeframe,start:a.target.value}})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(T.J,{htmlFor:"end-date",children:"End Date"}),(0,d.jsx)(S.p,{id:"end-date",type:"date",value:f.timeframe?.end,onChange:a=>j({...f,timeframe:{...f.timeframe,end:a.target.value}})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(T.J,{htmlFor:"granularity",children:"Granularity"}),(0,d.jsxs)(U.l6,{value:f.timeframe?.granularity,onValueChange:a=>j({...f,timeframe:{...f.timeframe,granularity:a}}),children:[(0,d.jsx)(U.bq,{children:(0,d.jsx)(U.yv,{placeholder:"Select granularity"})}),(0,d.jsxs)(U.gC,{children:[(0,d.jsx)(U.eb,{value:"day",children:"Daily"}),(0,d.jsx)(U.eb,{value:"week",children:"Weekly"}),(0,d.jsx)(U.eb,{value:"month",children:"Monthly"}),(0,d.jsx)(U.eb,{value:"quarter",children:"Quarterly"}),(0,d.jsx)(U.eb,{value:"year",children:"Yearly"})]})]})]})]})]})]})}),(0,d.jsx)(h.av,{value:"metrics",className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Available Metrics"}),(0,d.jsx)(g.BT,{children:"Select metrics to include in your report"})]}),(0,d.jsx)(g.Wu,{className:"space-y-3",children:v.map(a=>(0,d.jsxs)("div",{className:(0,Q.cn)("flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors",k.includes(a.id)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{var b;return k.includes(a.id)?x(a.id):(b=a.id,void(!k.includes(b)&&l([...k,b])))},children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(a.icon,{className:"w-4 h-4 text-gray-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:a.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.description})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(i.E,{variant:"outline",className:(a=>{switch(a){case"user":return"bg-blue-100 text-blue-700 border-blue-200";case"engagement":return"bg-green-100 text-green-700 border-green-200";case"productivity":return"bg-purple-100 text-purple-700 border-purple-200";case"business":return"bg-orange-100 text-orange-700 border-orange-200";case"performance":return"bg-pink-100 text-pink-700 border-pink-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}})(a.category),children:[(a=>{switch(a){case"user":return(0,d.jsx)(z.A,{className:"w-4 h-4"});case"engagement":return(0,d.jsx)(G.A,{className:"w-4 h-4"});case"productivity":return(0,d.jsx)(B.A,{className:"w-4 h-4"});case"business":default:return(0,d.jsx)(q.A,{className:"w-4 h-4"});case"performance":return(0,d.jsx)(W.A,{className:"w-4 h-4"})}})(a.category),(0,d.jsx)("span",{className:"ml-1",children:a.category})]}),(0,d.jsx)(V.S,{checked:k.includes(a.id),onChange:()=>{}})]})]},a.id))})]}),(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{children:["Selected Metrics (",k.length,")"]}),(0,d.jsx)(g.BT,{children:"Metrics that will be included in your report"})]}),(0,d.jsx)(g.Wu,{children:0===k.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(q.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,d.jsx)("p",{children:"No metrics selected"}),(0,d.jsx)("p",{className:"text-sm",children:"Select metrics from the left panel"})]}):(0,d.jsx)("div",{className:"space-y-2",children:k.map(a=>{let b=v.find(b=>b.id===a);return b?(0,d.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(b.icon,{className:"w-4 h-4 text-gray-500"}),(0,d.jsx)("span",{className:"font-medium",children:b.name})]}),(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>x(a),children:(0,d.jsx)(Y.A,{className:"w-4 h-4"})})]},a):null})})})]})]})}),(0,d.jsx)(h.av,{value:"visualizations",className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Add Visualizations"}),(0,d.jsx)(g.BT,{children:"Choose how to display your data"})]}),(0,d.jsx)(g.Wu,{className:"grid grid-cols-2 gap-3",children:[{type:"bar",label:"Bar Chart",icon:q.A},{type:"line",label:"Line Chart",icon:J},{type:"pie",label:"Pie Chart",icon:Z},{type:"table",label:"Table",icon:$},{type:"metric",label:"Metric Cards",icon:B.A}].map(({type:a,label:b,icon:c})=>(0,d.jsxs)(w.$,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>{p([...o,{id:`viz_${Date.now()}`,type:a,title:`${a.charAt(0).toUpperCase()+a.slice(1)} Chart`,metrics:k,filters:m.map(a=>a.id),config:{color:"#8B5CF6",showLegend:!0,showGrid:!0,stacked:!1}}])},children:[(0,d.jsx)(c,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm",children:b})]},a))})]}),(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{children:["Report Visualizations (",o.length,")"]}),(0,d.jsx)(g.BT,{children:"Visualizations in your report"})]}),(0,d.jsx)(g.Wu,{children:0===o.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(L.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,d.jsx)("p",{children:"No visualizations added"}),(0,d.jsx)("p",{className:"text-sm",children:"Add visualizations from the left panel"})]}):(0,d.jsx)("div",{className:"space-y-3",children:o.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:["bar"===a.type&&(0,d.jsx)(q.A,{className:"w-4 h-4 text-blue-500"}),"line"===a.type&&(0,d.jsx)(J,{className:"w-4 h-4 text-green-500"}),"pie"===a.type&&(0,d.jsx)(Z,{className:"w-4 h-4 text-purple-500"}),"table"===a.type&&(0,d.jsx)($,{className:"w-4 h-4 text-orange-500"}),"metric"===a.type&&(0,d.jsx)(B.A,{className:"w-4 h-4 text-pink-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:a.title}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[a.metrics.length," metrics"]})]})]}),(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void p(o.filter(a=>a.id!==b))},children:(0,d.jsx)(Y.A,{className:"w-4 h-4"})})]},a.id))})})]})]})}),(0,d.jsx)(h.av,{value:"preview",className:"space-y-6",children:t?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Generating preview..."})]}):r?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(g.Zp,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsx)(g.ZB,{children:"Metrics Overview"})}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.metrics.map(a=>(0,d.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.name}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:a.value}),(0,d.jsxs)("p",{className:(0,Q.cn)("text-sm",a.changePercent>0?"text-green-600":"text-red-600"),children:[a.changePercent>0?"+":"",a.changePercent,"%"]})]},a.id))})})]}),r.charts.map(a=>(0,d.jsxs)(g.Zp,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"capitalize",children:[a.type," Chart"]})}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,d.jsx)("p",{className:"text-gray-500",children:"Chart preview will be rendered here"})})})]},a.id))]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(L.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,d.jsx)("p",{className:"text-gray-600",children:"No preview available"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Configure your report and click Preview"})]})})]})]})}function aa(){let[a,b]=(0,e.useState)("overview"),[c,f]=(0,e.useState)(!1),k=async()=>{f(!0);try{await new Promise(a=>setTimeout(a,1e3)),C.oR.success("Analytics data refreshed!",{icon:"✅"}),(0,D.fH)("Analytics dashboard refreshed")}catch(a){C.oR.error("Failed to refresh analytics data",{icon:"❌"}),D.vF.error("Analytics refresh error:",a)}finally{f(!1)}};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gradient",children:"Analytics Dashboard"}),(0,d.jsx)("p",{className:"text-purple-200 mt-1",children:"Comprehensive insights into your business performance"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(w.$,{variant:"outline",onClick:k,disabled:c,className:"text-purple-200 hover:text-white border-purple-700",children:[(0,d.jsx)(m.A,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),(0,d.jsxs)(w.$,{variant:"outline",onClick:()=>{C.oR.info("Exporting analytics as CSV...",{icon:"\uD83D\uDCCA"}),(0,D.fH)("Analytics exported as csv")},className:"text-purple-200 hover:text-white border-purple-700",children:[(0,d.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),(0,d.jsxs)(h.tU,{value:a,onValueChange:b,className:"space-y-6",children:[(0,d.jsxs)(h.j7,{className:"grid w-full grid-cols-5 bg-purple-900/50 border border-purple-700",children:[(0,d.jsx)(h.Xi,{value:"overview",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:"Overview"}),(0,d.jsx)(h.Xi,{value:"performance",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:"Performance"}),(0,d.jsxs)(h.Xi,{value:"predictive",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:[(0,d.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Predictive"]}),(0,d.jsxs)(h.Xi,{value:"reports",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:[(0,d.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Reports"]}),(0,d.jsx)(h.Xi,{value:"insights",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:"Insights"})]}),(0,d.jsxs)(h.av,{value:"overview",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(g.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,d.jsx)(z.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(g.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:"2,350"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,d.jsx)("span",{className:"text-green-600",children:"+12%"})," from last month"]})]})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(g.ZB,{className:"text-sm font-medium",children:"Revenue"}),(0,d.jsx)(A.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(g.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:"$45,231"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,d.jsx)("span",{className:"text-green-600",children:"+8%"})," from last month"]})]})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(g.ZB,{className:"text-sm font-medium",children:"Active Sessions"}),(0,d.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(g.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:"1,234"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,d.jsx)("span",{className:"text-green-600",children:"+23%"})," from last month"]})]})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,d.jsx)(g.ZB,{className:"text-sm font-medium",children:"Conversion Rate"}),(0,d.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,d.jsxs)(g.Wu,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:"3.2%"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,d.jsx)("span",{className:"text-red-600",children:"-2%"})," from last month"]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"User Growth"}),(0,d.jsx)(g.BT,{children:"Monthly user acquisition and retention"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,d.jsx)("p",{className:"text-gray-500",children:"User growth chart will be rendered here"})})})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Revenue Trends"}),(0,d.jsx)(g.BT,{children:"Monthly revenue and subscription metrics"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,d.jsx)("p",{className:"text-gray-500",children:"Revenue chart will be rendered here"})})})]})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Recent Activity"}),(0,d.jsx)(g.BT,{children:"Latest user interactions and system events"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:"New user registration"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]}),(0,d.jsx)(i.E,{variant:"secondary",children:"User"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:"AI task completed"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"5 minutes ago"})]}),(0,d.jsx)(i.E,{variant:"secondary",children:"AI"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:"Goal milestone reached"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"10 minutes ago"})]}),(0,d.jsx)(i.E,{variant:"secondary",children:"Goal"})]})]})})]})]}),(0,d.jsx)(h.av,{value:"performance",className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Performance Metrics"}),(0,d.jsx)(g.BT,{children:"Key performance indicators"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Page Load Time"}),(0,d.jsx)("span",{children:"1.2s"})]}),(0,d.jsx)(j.k,{value:80,className:"mt-1"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"API Response Time"}),(0,d.jsx)("span",{children:"245ms"})]}),(0,d.jsx)(j.k,{value:90,className:"mt-1"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Uptime"}),(0,d.jsx)("span",{children:"99.9%"})]}),(0,d.jsx)(j.k,{value:99,className:"mt-1"})]})]})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card lg:col-span-2",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"System Performance"}),(0,d.jsx)(g.BT,{children:"Real-time system metrics and health"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,d.jsx)("p",{className:"text-gray-500",children:"Performance charts will be rendered here"})})})]})]})}),(0,d.jsx)(h.av,{value:"predictive",className:"space-y-6",children:(0,d.jsx)(R,{})}),(0,d.jsx)(h.av,{value:"reports",className:"space-y-6",children:(0,d.jsx)(_,{onSave:a=>{C.oR.success("Report saved successfully!",{icon:"\uD83D\uDCBE"}),(0,D.fH)("Custom report saved:",a.name)},onExport:(a,b)=>{C.oR.info(`Exporting "${a.name}" as ${b.toUpperCase()}...`,{icon:"\uD83D\uDCE4"}),(0,D.fH)(`Custom report exported: ${a.name} as ${b}`)}})}),(0,d.jsxs)(h.av,{value:"insights",className:"space-y-6",children:[(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Business Insights"}),(0,d.jsx)(g.BT,{children:"AI-powered insights and recommendations"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-blue-900",children:"Growth Opportunity"}),(0,d.jsx)("p",{className:"text-blue-700 text-sm mt-1",children:"Your user engagement has increased by 23% this month. Consider launching a referral program to capitalize on this momentum."})]}),(0,d.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-green-900",children:"Performance Insight"}),(0,d.jsx)("p",{className:"text-green-700 text-sm mt-1",children:"AI task completion rates are highest between 9-11 AM. Consider scheduling important tasks during this peak period."})]}),(0,d.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,d.jsx)("h4",{className:"font-semibold text-yellow-900",children:"Optimization Suggestion"}),(0,d.jsx)("p",{className:"text-yellow-700 text-sm mt-1",children:"Users who complete onboarding within 3 days have 40% higher retention. Consider streamlining the onboarding process."})]})]})})]}),(0,d.jsxs)(g.Zp,{className:"holographic-card",children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Historical Trends"}),(0,d.jsx)(g.BT,{children:"Historical performance data and trends"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,d.jsx)("p",{className:"text-gray-500",children:"Performance charts will be rendered here"})})})]})]})]})]})}var ab=c(33847),ac=c(33305),ad=c(72567),ae=c(8849),af=c(62037);let ag=[{id:"total_users",name:"Total Users",type:"metric",dataType:"number",category:"Users",description:"Total number of registered users",aggregation:"count"},{id:"active_users",name:"Active Users",type:"metric",dataType:"number",category:"Users",description:"Users active in the last 30 days",aggregation:"count"},{id:"new_users",name:"New Users",type:"metric",dataType:"number",category:"Users",description:"Users who signed up in the selected period",aggregation:"count"},{id:"retention_rate",name:"Retention Rate",type:"calculated",dataType:"number",category:"Users",description:"Percentage of users who remain active",formula:"(active_users / total_users) * 100"},{id:"session_duration",name:"Session Duration",type:"metric",dataType:"number",category:"Engagement",description:"Average time spent per session",aggregation:"avg"},{id:"page_views",name:"Page Views",type:"metric",dataType:"number",category:"Engagement",description:"Total number of page views",aggregation:"sum"},{id:"bounce_rate",name:"Bounce Rate",type:"calculated",dataType:"number",category:"Engagement",description:"Percentage of single-page sessions",formula:"(single_page_sessions / total_sessions) * 100"},{id:"revenue",name:"Revenue",type:"metric",dataType:"number",category:"Business",description:"Total revenue generated",aggregation:"sum"},{id:"mrr",name:"Monthly Recurring Revenue",type:"metric",dataType:"number",category:"Business",description:"Monthly recurring revenue",aggregation:"sum"},{id:"conversion_rate",name:"Conversion Rate",type:"calculated",dataType:"number",category:"Business",description:"Percentage of users who convert",formula:"(converted_users / total_users) * 100"},{id:"ai_interactions",name:"AI Interactions",type:"metric",dataType:"number",category:"Features",description:"Total AI agent interactions",aggregation:"sum"},{id:"goals_created",name:"Goals Created",type:"metric",dataType:"number",category:"Features",description:"Number of goals created by users",aggregation:"sum"},{id:"tasks_completed",name:"Tasks Completed",type:"metric",dataType:"number",category:"Features",description:"Number of tasks completed",aggregation:"sum"},{id:"user_id",name:"User ID",type:"dimension",dataType:"string",category:"Dimensions",description:"Unique user identifier"},{id:"date",name:"Date",type:"dimension",dataType:"date",category:"Dimensions",description:"Event date"},{id:"feature_name",name:"Feature Name",type:"dimension",dataType:"string",category:"Dimensions",description:"Name of the feature used"},{id:"user_segment",name:"User Segment",type:"dimension",dataType:"string",category:"Dimensions",description:"User segmentation category"}],ah=[{id:"bar",name:"Bar Chart",icon:q.A,description:"Compare values across categories"},{id:"line",name:"Line Chart",icon:J,description:"Show trends over time"},{id:"pie",name:"Pie Chart",icon:Z,description:"Show proportions of a whole"},{id:"area",name:"Area Chart",icon:G.A,description:"Show cumulative values over time"},{id:"scatter",name:"Scatter Plot",icon:B.A,description:"Show relationships between variables"},{id:"table",name:"Data Table",icon:o.A,description:"Display raw data in tabular format"},{id:"kpi",name:"KPI Card",icon:O.A,description:"Display key performance indicators"},{id:"funnel",name:"Funnel Chart",icon:z.A,description:"Show conversion through stages"}];function ai({onSave:a,onExport:b,initialReport:c,className:j=""}){let[l,m]=(0,e.useState)(c||{id:crypto.randomUUID(),name:"",description:"",category:"General",tags:[],isPublic:!1,isTemplate:!1,visualizations:[],globalFilters:[],createdAt:new Date,updatedAt:new Date,createdBy:"current-user"}),[n,o]=(0,e.useState)("design"),[p,r]=(0,e.useState)(null),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[C,E]=(0,e.useState)(!1),{toast:F}=(0,af.dj)(),G=(0,e.useMemo)(()=>ag.reduce((a,b)=>(a[b.category]||(a[b.category]=[]),a[b.category].push(b),a),{}),[]),H=(0,e.useCallback)(()=>{let a={id:crypto.randomUUID(),type:"bar",title:"New Chart",metrics:[],filters:[],config:{}};m(b=>({...b,visualizations:[...b.visualizations,a]})),r(a),o("visualize")},[]),I=(0,e.useCallback)((a,b)=>{m(c=>({...c,visualizations:c.visualizations.map(c=>c.id===a?{...c,...b}:c)})),p?.id===a&&r(a=>a?{...a,...b}:null)},[p]),J=(0,e.useCallback)(a=>{m(b=>({...b,visualizations:b.visualizations.filter(b=>b.id!==a)})),p?.id===a&&r(null)},[p]),K=(0,e.useCallback)((a,b=!1)=>{let c={id:crypto.randomUUID(),field:"",operator:"equals",value:""};b?m(a=>({...a,globalFilters:[...a.globalFilters,c]})):I(a,{filters:[...p?.filters||[],c]})},[p,I]),N=(0,e.useCallback)((a,b,c=!1)=>{c?m(c=>({...c,globalFilters:c.globalFilters.map(c=>c.id===a?{...c,...b}:c)})):p&&I(p.id,{filters:p.filters.map(c=>c.id===a?{...c,...b}:c)})},[p,I]),O=(0,e.useCallback)((a,b=!1)=>{b?m(b=>({...b,globalFilters:b.globalFilters.filter(b=>b.id!==a)})):p&&I(p.id,{filters:p.filters.filter(b=>b.id!==a)})},[p,I]),P=(0,e.useCallback)(async()=>{if(!l.name.trim())return void F({title:"Validation Error",description:"Report name is required",variant:"destructive"});A(!0);try{let b={...l,updatedAt:new Date};m(b),a?.(b),F({title:"Report Saved",description:"Your custom report has been saved successfully",variant:"success"}),(0,D.fH)("Custom report saved:",{reportId:b.id,name:b.name})}catch(a){(0,D.vV)("Failed to save report:",a),F({title:"Save Failed",description:"Failed to save the report. Please try again.",variant:"destructive"})}finally{A(!1)}},[l,a,F]),Q=(0,e.useCallback)(async a=>{E(!0);try{b?.(l,a),F({title:"Export Started",description:`Exporting report as ${a.toUpperCase()}...`,variant:"success"}),(0,D.fH)("Report export initiated:",{reportId:l.id,format:a})}catch(a){(0,D.vV)("Failed to export report:",a),F({title:"Export Failed",description:"Failed to export the report. Please try again.",variant:"destructive"})}finally{E(!1)}},[l,b,F]);return(0,d.jsxs)("div",{className:`space-y-6 ${j}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold boss-heading",children:"Custom Report Builder"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Create powerful analytics reports with drag-and-drop visualization"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(t.lB,{variant:"outline",onClick:()=>y(!0),className:"flex items-center gap-2",children:[(0,d.jsx)(L.A,{className:"h-4 w-4"}),"Preview"]}),(0,d.jsx)(t.lB,{onClick:P,disabled:z,className:"flex items-center gap-2",children:z?(0,d.jsx)(v.cZ,{size:"sm",text:"Saving..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(X.A,{className:"h-4 w-4"}),"Save Report"]})})]})]}),(0,d.jsx)(u.p,{className:"p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{htmlFor:"report-name",children:"Report Name"}),(0,d.jsx)(S.p,{id:"report-name",value:l.name,onChange:a=>m(b=>({...b,name:a.target.value})),placeholder:"Enter report name...",className:"holographic-input"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{htmlFor:"report-category",children:"Category"}),(0,d.jsxs)(U.l6,{value:l.category,onValueChange:a=>m(b=>({...b,category:a})),children:[(0,d.jsx)(U.bq,{className:"holographic-input",children:(0,d.jsx)(U.yv,{placeholder:"Select category..."})}),(0,d.jsxs)(U.gC,{children:[(0,d.jsx)(U.eb,{value:"General",children:"General"}),(0,d.jsx)(U.eb,{value:"Users",children:"Users"}),(0,d.jsx)(U.eb,{value:"Engagement",children:"Engagement"}),(0,d.jsx)(U.eb,{value:"Business",children:"Business"}),(0,d.jsx)(U.eb,{value:"Features",children:"Features"}),(0,d.jsx)(U.eb,{value:"Performance",children:"Performance"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,d.jsx)(T.J,{htmlFor:"report-description",children:"Description"}),(0,d.jsx)(ab.T,{id:"report-description",value:l.description,onChange:a=>m(b=>({...b,description:a.target.value})),placeholder:"Describe what this report shows...",className:"holographic-input",rows:3})]})]})}),(0,d.jsxs)(h.tU,{value:n,onValueChange:a=>o(a),children:[(0,d.jsxs)(h.j7,{className:"grid w-full grid-cols-4",children:[(0,d.jsxs)(h.Xi,{value:"design",className:"flex items-center gap-2",children:[(0,d.jsx)(s.A,{className:"h-4 w-4"}),"Design"]}),(0,d.jsxs)(h.Xi,{value:"visualize",className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),"Visualize"]}),(0,d.jsxs)(h.Xi,{value:"schedule",className:"flex items-center gap-2",children:[(0,d.jsx)(ad.A,{className:"h-4 w-4"}),"Schedule"]}),(0,d.jsxs)(h.Xi,{value:"preview",className:"flex items-center gap-2",children:[(0,d.jsx)(L.A,{className:"h-4 w-4"}),"Preview"]})]}),(0,d.jsx)(h.av,{value:"design",className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)(u.p,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-5 w-5"}),"Available Fields"]}),(0,d.jsx)(g.BT,{children:"Drag fields to create visualizations"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)(k.F,{className:"h-96",children:Object.entries(G).map(([a,b])=>(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:a}),(0,d.jsx)("div",{className:"space-y-1",children:b.map(a=>(0,d.jsxs)("div",{className:"p-2 bg-gray-50 rounded-md cursor-move hover:bg-gray-100 transition-colors",draggable:!0,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:a.name}),(0,d.jsx)(i.E,{variant:"secondary",className:"text-xs",children:a.type})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.description})]},a.id))})]},a))})})]}),(0,d.jsxs)(u.p,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(M.A,{className:"h-5 w-5"}),"Global Filters"]}),(0,d.jsx)(g.BT,{children:"Apply filters to all visualizations"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsxs)("div",{className:"space-y-3",children:[l.globalFilters.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md",children:[(0,d.jsxs)(U.l6,{value:a.field,onValueChange:b=>N(a.id,{field:b},!0),children:[(0,d.jsx)(U.bq,{className:"flex-1",children:(0,d.jsx)(U.yv,{placeholder:"Select field..."})}),(0,d.jsx)(U.gC,{children:ag.map(a=>(0,d.jsx)(U.eb,{value:a.id,children:a.name},a.id))})]}),(0,d.jsxs)(U.l6,{value:a.operator,onValueChange:b=>N(a.id,{operator:b},!0),children:[(0,d.jsx)(U.bq,{className:"w-32",children:(0,d.jsx)(U.yv,{})}),(0,d.jsxs)(U.gC,{children:[(0,d.jsx)(U.eb,{value:"equals",children:"Equals"}),(0,d.jsx)(U.eb,{value:"not_equals",children:"Not Equals"}),(0,d.jsx)(U.eb,{value:"contains",children:"Contains"}),(0,d.jsx)(U.eb,{value:"not_contains",children:"Not Contains"}),(0,d.jsx)(U.eb,{value:"greater_than",children:"Greater Than"}),(0,d.jsx)(U.eb,{value:"less_than",children:"Less Than"}),(0,d.jsx)(U.eb,{value:"between",children:"Between"})]})]}),(0,d.jsx)(S.p,{value:a.value,onChange:b=>N(a.id,{value:b.target.value},!0),placeholder:"Value...",className:"flex-1"}),(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>O(a.id,!0),children:(0,d.jsx)(Y.A,{className:"h-4 w-4"})})]},a.id)),(0,d.jsxs)(w.$,{variant:"outline",onClick:()=>K("",!0),className:"w-full",children:[(0,d.jsx)(ae.A,{className:"h-4 w-4 mr-2"}),"Add Global Filter"]})]})})]})]})}),(0,d.jsxs)(h.av,{value:"visualize",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Visualizations"}),(0,d.jsxs)(t.lB,{onClick:H,children:[(0,d.jsx)(ae.A,{className:"h-4 w-4 mr-2"}),"Add Visualization"]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsx)("div",{className:"space-y-4",children:l.visualizations.map(a=>(0,d.jsx)(u.p,{className:`cursor-pointer transition-all ${p?.id===a.id?"ring-2 ring-purple-500":""}`,onClick:()=>r(a),children:(0,d.jsx)(g.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[ah.find(b=>b.id===a.type)?.icon&&f().createElement(ah.find(b=>b.id===a.type).icon,{className:"h-5 w-5 text-purple-500"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:ah.find(b=>b.id===a.type)?.name})]})]}),(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),J(a.id)},children:(0,d.jsx)(Y.A,{className:"h-4 w-4"})})]})})},a.id))}),p&&(0,d.jsxs)(u.p,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsx)(g.ZB,{children:"Edit Visualization"})}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Title"}),(0,d.jsx)(S.p,{value:p.title,onChange:a=>I(p.id,{title:a.target.value}),placeholder:"Enter visualization title..."})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Type"}),(0,d.jsxs)(U.l6,{value:p.type,onValueChange:a=>I(p.id,{type:a}),children:[(0,d.jsx)(U.bq,{children:(0,d.jsx)(U.yv,{})}),(0,d.jsx)(U.gC,{children:ah.map(a=>(0,d.jsx)(U.eb,{value:a.id,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(a.icon,{className:"h-4 w-4"}),a.name]})},a.id))})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Metrics"}),(0,d.jsxs)(U.l6,{value:"",onValueChange:a=>{p.metrics.includes(a)||I(p.id,{metrics:[...p.metrics,a]})},children:[(0,d.jsx)(U.bq,{children:(0,d.jsx)(U.yv,{placeholder:"Add metric..."})}),(0,d.jsx)(U.gC,{children:ag.filter(a=>"metric"===a.type).map(a=>(0,d.jsx)(U.eb,{value:a.id,children:a.name},a.id))})]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:p.metrics.map(a=>(0,d.jsxs)(i.E,{variant:"secondary",className:"flex items-center gap-1",children:[ag.find(b=>b.id===a)?.name,(0,d.jsx)("button",{onClick:()=>I(p.id,{metrics:p.metrics.filter(b=>b!==a)}),className:"ml-1 hover:text-red-500",children:"\xd7"})]},a))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Filters"}),(0,d.jsxs)("div",{className:"space-y-2",children:[p.filters.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(U.l6,{value:a.field,onValueChange:b=>N(a.id,{field:b}),children:[(0,d.jsx)(U.bq,{className:"flex-1",children:(0,d.jsx)(U.yv,{placeholder:"Field..."})}),(0,d.jsx)(U.gC,{children:ag.map(a=>(0,d.jsx)(U.eb,{value:a.id,children:a.name},a.id))})]}),(0,d.jsxs)(U.l6,{value:a.operator,onValueChange:b=>N(a.id,{operator:b}),children:[(0,d.jsx)(U.bq,{className:"w-24",children:(0,d.jsx)(U.yv,{})}),(0,d.jsxs)(U.gC,{children:[(0,d.jsx)(U.eb,{value:"equals",children:"="}),(0,d.jsx)(U.eb,{value:"not_equals",children:"≠"}),(0,d.jsx)(U.eb,{value:"contains",children:"⊃"}),(0,d.jsx)(U.eb,{value:"greater_than",children:">"}),(0,d.jsx)(U.eb,{value:"less_than",children:"<"})]})]}),(0,d.jsx)(S.p,{value:a.value,onChange:b=>N(a.id,{value:b.target.value}),placeholder:"Value...",className:"flex-1"}),(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>O(a.id),children:(0,d.jsx)(Y.A,{className:"h-4 w-4"})})]},a.id)),(0,d.jsxs)(w.$,{variant:"outline",onClick:()=>K(p.id),className:"w-full",children:[(0,d.jsx)(ae.A,{className:"h-4 w-4 mr-2"}),"Add Filter"]})]})]})]})]})]})]}),(0,d.jsx)(h.av,{value:"schedule",className:"space-y-6",children:(0,d.jsxs)(u.p,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Automated Reporting"}),(0,d.jsx)(g.BT,{children:"Schedule automatic report generation and delivery"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(V.S,{id:"enable-schedule",checked:!!l.schedule,onCheckedChange:a=>{a?m(a=>({...a,schedule:{frequency:"weekly",time:"09:00",recipients:[],format:"pdf"}})):m(a=>({...a,schedule:void 0}))}}),(0,d.jsx)(T.J,{htmlFor:"enable-schedule",children:"Enable automated reporting"})]}),l.schedule&&(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Frequency"}),(0,d.jsxs)(U.l6,{value:l.schedule.frequency,onValueChange:a=>m(b=>({...b,schedule:b.schedule?{...b.schedule,frequency:a}:void 0})),children:[(0,d.jsx)(U.bq,{children:(0,d.jsx)(U.yv,{})}),(0,d.jsxs)(U.gC,{children:[(0,d.jsx)(U.eb,{value:"daily",children:"Daily"}),(0,d.jsx)(U.eb,{value:"weekly",children:"Weekly"}),(0,d.jsx)(U.eb,{value:"monthly",children:"Monthly"}),(0,d.jsx)(U.eb,{value:"quarterly",children:"Quarterly"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Time"}),(0,d.jsx)(S.p,{type:"time",value:l.schedule.time,onChange:a=>m(b=>({...b,schedule:b.schedule?{...b.schedule,time:a.target.value}:void 0}))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Format"}),(0,d.jsxs)(U.l6,{value:l.schedule.format,onValueChange:a=>m(b=>({...b,schedule:b.schedule?{...b.schedule,format:a}:void 0})),children:[(0,d.jsx)(U.bq,{children:(0,d.jsx)(U.yv,{})}),(0,d.jsxs)(U.gC,{children:[(0,d.jsx)(U.eb,{value:"pdf",children:"PDF"}),(0,d.jsx)(U.eb,{value:"excel",children:"Excel"}),(0,d.jsx)(U.eb,{value:"csv",children:"CSV"}),(0,d.jsx)(U.eb,{value:"json",children:"JSON"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(T.J,{children:"Recipients (Email addresses)"}),(0,d.jsx)(ab.T,{value:l.schedule.recipients.join(", "),onChange:a=>m(b=>({...b,schedule:b.schedule?{...b.schedule,recipients:a.target.value.split(",").map(a=>a.trim()).filter(Boolean)}:void 0})),placeholder:"Enter email addresses separated by commas...",rows:3})]})]})]})]})}),(0,d.jsx)(h.av,{value:"preview",className:"space-y-6",children:(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(q.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Report Preview"}),(0,d.jsx)("p",{className:"text-gray-500 mb-4",children:"Preview your report with sample data"}),(0,d.jsxs)(t.lB,{onClick:()=>y(!0),children:[(0,d.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Open Preview"]})]})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm text-gray-500",children:"Export as:"}),(0,d.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>Q("pdf"),disabled:C,children:"PDF"}),(0,d.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>Q("excel"),disabled:C,children:"Excel"}),(0,d.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>Q("csv"),disabled:C,children:"CSV"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(V.S,{id:"is-public",checked:l.isPublic,onCheckedChange:a=>m(b=>({...b,isPublic:!!a}))}),(0,d.jsx)(T.J,{htmlFor:"is-public",className:"text-sm",children:"Make public"}),(0,d.jsx)(V.S,{id:"is-template",checked:l.isTemplate,onCheckedChange:a=>m(b=>({...b,isTemplate:!!a}))}),(0,d.jsx)(T.J,{htmlFor:"is-template",className:"text-sm",children:"Save as template"})]})]}),(0,d.jsx)(ac.lG,{open:x,onOpenChange:y,children:(0,d.jsxs)(ac.Cf,{className:"max-w-6xl max-h-[90vh]",children:[(0,d.jsxs)(ac.c7,{children:[(0,d.jsx)(ac.L3,{children:"Report Preview"}),(0,d.jsx)(ac.rr,{children:"Preview of your custom report with sample data"})]}),(0,d.jsx)(k.F,{className:"h-96",children:(0,d.jsx)("div",{className:"space-y-6",children:l.visualizations.map(a=>(0,d.jsxs)(u.p,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:a.title}),(0,d.jsx)(i.E,{variant:"secondary",children:ah.find(b=>b.id===a.type)?.name})]}),(0,d.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(q.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,d.jsx)("p",{className:"text-gray-500",children:"Chart preview would appear here"}),(0,d.jsxs)("p",{className:"text-sm text-gray-400",children:["Metrics: ",a.metrics.length,", Filters: ",a.filters.length]})]})})]},a.id))})})]})})]})}let aj=(0,I.A)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),ak=(0,I.A)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var al=c(50593),am=c(75234);let an={purple:["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE","#EDE9FE"],blue:["#3B82F6","#60A5FA","#93C5FD","#BFDBFE","#DBEAFE"],green:["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],orange:["#F59E0B","#FBBF24","#FCD34D","#FDE68A","#FEF3C7"],red:["#EF4444","#F87171","#FCA5A5","#FECACA","#FEE2E2"],pink:["#EC4899","#F472B6","#F9A8D4","#FBCFE8","#FCE7F3"],indigo:["#6366F1","#818CF8","#A5B4FC","#C7D2FE","#E0E7FF"],teal:["#14B8A6","#5EEAD4","#99F6E4","#CCFBF1","#F0FDFA"]},ao=[{id:"bar",name:"Bar Chart",icon:q.A,description:"Compare values across categories"},{id:"line",name:"Line Chart",icon:J,description:"Show trends over time"},{id:"pie",name:"Pie Chart",icon:Z,description:"Show proportions of a whole"},{id:"area",name:"Area Chart",icon:G.A,description:"Show cumulative values over time"},{id:"scatter",name:"Scatter Plot",icon:B.A,description:"Show relationships between variables"},{id:"funnel",name:"Funnel Chart",icon:z.A,description:"Show conversion through stages"},{id:"gauge",name:"Gauge Chart",icon:o.A,description:"Show progress towards a goal"},{id:"heatmap",name:"Heatmap",icon:o.A,description:"Show data density and patterns"},{id:"treemap",name:"Treemap",icon:B.A,description:"Show hierarchical data"},{id:"sankey",name:"Sankey Diagram",icon:G.A,description:"Show flow between entities"}],ap=(a,b=10)=>{let c=[];switch(a){case"bar":case"line":case"area":for(let a=0;a<b;a++)c.push({x:`Item ${a+1}`,y:Math.floor(100*Math.random())+10,label:`Data Point ${a+1}`,metadata:{category:`Category ${Math.floor(a/3)+1}`}});break;case"pie":["Desktop","Mobile","Tablet","Other"].forEach((a,b)=>{c.push({x:a,y:Math.floor(40*Math.random())+10,label:a,color:an.purple[b%an.purple.length]})});break;case"scatter":for(let a=0;a<b;a++)c.push({x:Math.floor(100*Math.random()),y:Math.floor(100*Math.random()),label:`Point ${a+1}`,metadata:{size:Math.floor(20*Math.random())+5}});break;case"funnel":let d=1e3;["Visitors","Leads","Opportunities","Customers"].forEach((a,b)=>{let e=Math.floor(d*(.6+.3*Math.random()));c.push({x:a,y:e,label:a,metadata:{conversion:b>0?(e/c[b-1].y*100).toFixed(1)+"%":"100%"}}),d=e});break;default:for(let a=0;a<b;a++)c.push({x:a,y:Math.floor(100*Math.random()),label:`Data ${a+1}`})}return c};function aq({data:a=[],onDataUpdate:b,onExport:c,className:j=""}){let[l,p]=(0,e.useState)(a),[r,s]=(0,e.useState)(null),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(!1),[C,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)("charts"),{toast:I}=(0,af.dj)(),J=(0,e.useRef)(null),L=(0,e.useCallback)(a=>{let b={id:crypto.randomUUID(),config:{type:a,title:`New ${ao.find(b=>b.id===a)?.name||"Chart"}`,xAxis:{field:"x",label:"X Axis",type:"category"},yAxis:{field:"y",label:"Y Axis",type:"number"},colorScheme:"purple",animation:!0,interactive:!0,showLegend:!0,showGrid:!0,showTooltip:!0,responsive:!0},data:ap(a),filters:{},metadata:{lastUpdated:new Date,dataSource:"sample",recordCount:0,processingTime:0}};p(a=>[...a,b]),s(b),y(!1),I({title:"Visualization Created",description:`New ${ao.find(b=>b.id===a)?.name} has been created`,variant:"success"}),(0,D.fH)("New visualization created:",{type:a,id:b.id})},[I]),M=(0,e.useCallback)((a,c)=>{p(b=>b.map(b=>b.id===a?{...b,...c,metadata:{...b.metadata,lastUpdated:new Date}}:b)),r?.id===a&&s(a=>a?{...a,...c,metadata:{...a.metadata,lastUpdated:new Date}}:null),b?.(l)},[r,l,b]),N=(0,e.useCallback)(a=>{p(b=>b.filter(b=>b.id!==a)),r?.id===a&&s(null),I({title:"Visualization Deleted",description:"The visualization has been removed",variant:"success"})},[r,I]),O=(0,e.useCallback)(async a=>{let b=l.find(b=>b.id===a);if(b){A(!0);try{await new Promise(a=>setTimeout(a,1e3));let c=ap(b.config.type,b.data.length);M(a,{data:c,metadata:{...b.metadata,lastUpdated:new Date,recordCount:c.length,processingTime:Math.floor(500*Math.random())+100}}),I({title:"Data Refreshed",description:"Visualization data has been updated",variant:"success"})}catch(a){(0,D.vV)("Failed to refresh data:",a),I({title:"Refresh Failed",description:"Failed to refresh visualization data",variant:"destructive"})}finally{A(!1)}}},[l,M,I]),P=(0,e.useCallback)((a,b)=>{let d=l.find(b=>b.id===a);d&&(c?.(b,[d]),I({title:"Export Started",description:`Exporting visualization as ${b.toUpperCase()}...`,variant:"success"}))},[l,c,I]);return(0,e.useCallback)(a=>{let b=J.current;if(!b)return;let c=b.getContext("2d");if(!c)return;let{width:d,height:e}=b;c.clearRect(0,0,d,e);let f=an[a.config.colorScheme];switch(a.config.type){case"bar":let g=d/a.data.length*.8,h=Math.max(...a.data.map(a=>a.y));a.data.forEach((b,i)=>{let j=b.y/h*e*.8,k=i*d/a.data.length+(d/a.data.length-g)/2;c.fillStyle=f[i%f.length],c.fillRect(k,e-j-20,g,j)});break;case"line":c.strokeStyle=f[0],c.lineWidth=3,c.beginPath(),a.data.forEach((b,f)=>{let g=f/(a.data.length-1)*d,h=e-b.y/Math.max(...a.data.map(a=>a.y))*e*.8-20;0===f?c.moveTo(g,h):c.lineTo(g,h)}),c.stroke();break;case"pie":let i=d/2,j=e/2,k=Math.min(d,e)/2-20,l=a.data.reduce((a,b)=>a+b.y,0),m=0;a.data.forEach((a,b)=>{let d=a.y/l*2*Math.PI;c.fillStyle=f[b%f.length],c.beginPath(),c.moveTo(i,j),c.arc(i,j,k,m,m+d),c.closePath(),c.fill(),m+=d});break;default:let n=d/a.data.length*.8,o=Math.max(...a.data.map(a=>a.y));a.data.forEach((b,g)=>{let h=b.y/o*e*.8,i=g*d/a.data.length+(d/a.data.length-n)/2;c.fillStyle=f[g%f.length],c.fillRect(i,e-h-20,n,h)})}},[]),(0,d.jsxs)("div",{className:`space-y-6 ${j}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold boss-heading",children:"Advanced Data Visualization"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Create interactive charts and dashboards with real-time data"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(t.lB,{variant:"outline",onClick:()=>F(!C),className:"flex items-center gap-2",children:[C?(0,d.jsx)(aj,{className:"h-4 w-4"}):(0,d.jsx)(ak,{className:"h-4 w-4"}),C?"Exit Fullscreen":"Fullscreen"]}),(0,d.jsxs)(t.lB,{onClick:()=>y(!0),className:"flex items-center gap-2",children:[(0,d.jsx)(K.A,{className:"h-4 w-4"}),"New Chart"]})]})]}),(0,d.jsxs)(h.tU,{value:G,onValueChange:a=>H(a),children:[(0,d.jsxs)(h.j7,{className:"grid w-full grid-cols-3",children:[(0,d.jsxs)(h.Xi,{value:"charts",className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),"Charts"]}),(0,d.jsxs)(h.Xi,{value:"dashboards",className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"h-4 w-4"}),"Dashboards"]}),(0,d.jsxs)(h.Xi,{value:"templates",className:"flex items-center gap-2",children:[(0,d.jsx)(B.A,{className:"h-4 w-4"}),"Templates"]})]}),(0,d.jsx)(h.av,{value:"charts",className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Your Charts"}),(0,d.jsx)(i.E,{variant:"secondary",children:l.length})]}),(0,d.jsx)(k.F,{className:"h-96",children:(0,d.jsx)("div",{className:"space-y-3",children:l.map(a=>(0,d.jsx)(u.p,{className:`cursor-pointer transition-all ${r?.id===a.id?"ring-2 ring-purple-500":""}`,onClick:()=>s(a),children:(0,d.jsxs)(g.Wu,{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[ao.find(b=>b.id===a.config.type)?.icon&&f().createElement(ao.find(b=>b.id===a.config.type).icon,{className:"h-4 w-4 text-purple-500"}),(0,d.jsx)("span",{className:"font-medium text-sm",children:a.config.title})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),O(a.id)},disabled:z,children:z?(0,d.jsx)(v.cZ,{size:"sm"}):(0,d.jsx)(m.A,{className:"h-3 w-3"})}),(0,d.jsx)(w.$,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),N(a.id)},children:(0,d.jsx)(al.A,{className:"h-3 w-3"})})]})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,d.jsxs)("div",{children:["Type: ",ao.find(b=>b.id===a.config.type)?.name]}),(0,d.jsxs)("div",{children:["Data Points: ",a.data.length]}),(0,d.jsxs)("div",{children:["Updated: ",a.metadata.lastUpdated.toLocaleTimeString()]})]})]})},a.id))})})]}),(0,d.jsx)("div",{className:"lg:col-span-2",children:r?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(u.p,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(g.ZB,{children:r.config.title}),(0,d.jsx)(g.BT,{children:ao.find(a=>a.id===r.config.type)?.description})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>O(r.id),disabled:z,children:z?(0,d.jsx)(v.cZ,{size:"sm"}):(0,d.jsx)(m.A,{className:"h-4 w-4"})}),(0,d.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>P(r.id,"png"),children:(0,d.jsx)(n.A,{className:"h-4 w-4"})})]})]})}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("canvas",{ref:J,width:800,height:400,className:"w-full h-96 border rounded-lg bg-white"}),z&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg",children:(0,d.jsx)(v.cZ,{text:"Rendering chart..."})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,d.jsx)("input",{type:"text",value:r.config.title,onChange:a=>M(r.id,{config:{...r.config,title:a.target.value}}),className:"w-full p-2 border rounded-md",placeholder:"Enter chart title...","aria-label":"Chart title"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Color Scheme"}),(0,d.jsxs)(U.l6,{value:r.config.colorScheme,onValueChange:a=>M(r.id,{config:{...r.config,colorScheme:a}}),children:[(0,d.jsx)(U.bq,{children:(0,d.jsx)(U.yv,{})}),(0,d.jsx)(U.gC,{children:Object.keys(an).map(a=>(0,d.jsx)(U.eb,{value:a,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex gap-1",children:an[a].slice(0,3).map((a,b)=>(0,d.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a},"aria-label":`Color ${b+1}`},b))}),a.charAt(0).toUpperCase()+a.slice(1)]})},a))})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,d.jsxs)("label",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:r.config.animation,onChange:a=>M(r.id,{config:{...r.config,animation:a.target.checked}})}),(0,d.jsx)("span",{className:"text-sm",children:"Animation"})]}),(0,d.jsxs)("label",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:r.config.interactive,onChange:a=>M(r.id,{config:{...r.config,interactive:a.target.checked}})}),(0,d.jsx)("span",{className:"text-sm",children:"Interactive"})]}),(0,d.jsxs)("label",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:r.config.showLegend,onChange:a=>M(r.id,{config:{...r.config,showLegend:a.target.checked}})}),(0,d.jsx)("span",{className:"text-sm",children:"Show Legend"})]}),(0,d.jsxs)("label",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:r.config.showGrid,onChange:a=>M(r.id,{config:{...r.config,showGrid:a.target.checked}})}),(0,d.jsx)("span",{className:"text-sm",children:"Show Grid"})]})]})]})]}),(0,d.jsxs)(u.p,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Data Preview"}),(0,d.jsxs)(g.BT,{children:[r.data.length," data points"]})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)(k.F,{className:"h-48",children:(0,d.jsxs)("table",{className:"w-full text-sm",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b",children:[(0,d.jsx)("th",{className:"text-left p-2",children:"X"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Y"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Label"})]})}),(0,d.jsxs)("tbody",{children:[r.data.slice(0,10).map((a,b)=>(0,d.jsxs)("tr",{className:"border-b",children:[(0,d.jsx)("td",{className:"p-2",children:a.x}),(0,d.jsx)("td",{className:"p-2",children:a.y}),(0,d.jsx)("td",{className:"p-2",children:a.label})]},b)),r.data.length>10&&(0,d.jsx)("tr",{children:(0,d.jsxs)("td",{colSpan:3,className:"p-2 text-center text-gray-500",children:["... and ",r.data.length-10," more rows"]})})]})]})})})]})]}):(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(q.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Chart Selected"}),(0,d.jsx)("p",{className:"text-gray-500 mb-4",children:"Select a chart from the list or create a new one"}),(0,d.jsxs)(t.lB,{onClick:()=>y(!0),children:[(0,d.jsx)(K.A,{className:"h-4 w-4 mr-2"}),"Create Chart"]})]})})]})}),(0,d.jsx)(h.av,{value:"dashboards",className:"space-y-6",children:(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(o.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Dashboard Builder"}),(0,d.jsx)("p",{className:"text-gray-500 mb-4",children:"Create interactive dashboards with multiple visualizations"}),(0,d.jsxs)(t.lB,{children:[(0,d.jsx)(am.A,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})]})}),(0,d.jsx)(h.av,{value:"templates",className:"space-y-6",children:(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(B.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Chart Templates"}),(0,d.jsx)("p",{className:"text-gray-500 mb-4",children:"Pre-built chart templates for common use cases"}),(0,d.jsxs)(t.lB,{children:[(0,d.jsx)(am.A,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})]})})]}),x&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,d.jsxs)(E.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Chart"}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:ao.map(a=>(0,d.jsxs)("button",{onClick:()=>L(a.id),className:"p-4 border rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors text-left",children:[(0,d.jsx)(a.icon,{className:"h-6 w-6 text-purple-500 mb-2"}),(0,d.jsx)("div",{className:"font-medium text-sm",children:a.name}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:a.description})]},a.id))}),(0,d.jsx)("div",{className:"flex justify-end mt-6",children:(0,d.jsx)(w.$,{variant:"outline",onClick:()=>y(!1),children:"Cancel"})})]})})]})}var ar=c(58410);function as(){let{user:a,loading:b}=(0,ar.A)(),{toast:c}=(0,af.dj)(),[f,w]=(0,e.useState)("overview"),[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)([]),[B,C]=(0,e.useState)(!0),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(null),I=(0,e.useCallback)(async()=>{if(!b){C(!0),H(null);try{let[a,b]=await Promise.all([fetch("/api/analytics"),fetch("/api/analytics/export")]);if(a.ok){let b=await a.json();y(b.data?.businessMetrics||null)}if(b.ok){let a=await b.json();A(a.data?.exports||[])}}catch(a){(0,D.vV)("Failed to load analytics data:",a),H(a instanceof Error?a.message:"Failed to load analytics data")}finally{C(!1)}}},[b]),J=(0,e.useCallback)(async()=>{F(!0),await I(),F(!1),c({title:"Data Refreshed",description:"Analytics data has been updated",variant:"success"})},[I,c]);return b||B?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 to-black",children:(0,d.jsx)(v.cZ,{text:"Loading Analytics Dashboard...",size:"lg"})}):a?G?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 to-black",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(l.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Error Loading Analytics"}),(0,d.jsx)("p",{className:"text-gray-300 mb-4",children:G}),(0,d.jsxs)(t.lB,{onClick:I,children:[(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-black text-white",children:[(0,d.jsx)("div",{className:"border-b border-purple-800/30 bg-black/20 backdrop-blur-sm",children:(0,d.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold boss-heading",children:"Analytics Dashboard"}),(0,d.jsx)("p",{className:"text-gray-300 mt-1",children:"Comprehensive insights into your SoloSuccess AI platform"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)(t.lB,{variant:"outline",onClick:J,disabled:E,className:"flex items-center gap-2",children:[E?(0,d.jsx)(v.cZ,{size:"sm"}):(0,d.jsx)(m.A,{className:"h-4 w-4"}),"Refresh"]}),(0,d.jsxs)(t.lB,{className:"flex items-center gap-2",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),"Export All"]})]})]})})}),(0,d.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,d.jsxs)(h.tU,{value:f,onValueChange:a=>w(a),children:[(0,d.jsxs)(h.j7,{className:"grid w-full grid-cols-4 mb-6",children:[(0,d.jsxs)(h.Xi,{value:"overview",className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"h-4 w-4"}),"Overview"]}),(0,d.jsxs)(h.Xi,{value:"reports",className:"flex items-center gap-2",children:[(0,d.jsx)(p.A,{className:"h-4 w-4"}),"Reports"]}),(0,d.jsxs)(h.Xi,{value:"visualizations",className:"flex items-center gap-2",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),"Visualizations"]}),(0,d.jsxs)(h.Xi,{value:"exports",className:"flex items-center gap-2",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),"Exports"]})]}),(0,d.jsx)(h.av,{value:"overview",className:"space-y-6",children:(0,d.jsx)(aa,{})}),(0,d.jsx)(h.av,{value:"reports",className:"space-y-6",children:(0,d.jsx)(ai,{onSave:a=>{(0,D.fH)("Custom report saved:",{reportId:a.id,name:a.name}),c({title:"Report Saved",description:`"${a.name}" has been saved successfully`,variant:"success"})},onExport:(a,b)=>{(0,D.fH)("Report export initiated:",{reportId:a.id,format:b}),c({title:"Export Started",description:`Exporting "${a.name}" as ${b.toUpperCase()}...`,variant:"success"})}})}),(0,d.jsx)(h.av,{value:"visualizations",className:"space-y-6",children:(0,d.jsx)(aq,{onDataUpdate:a=>{(0,D.fH)("Visualization data updated:",{count:a.length})},onExport:(a,b)=>{(0,D.fH)("Visualization export initiated:",{format:a,count:b.length}),c({title:"Export Started",description:`Exporting ${b.length} visualizations as ${a.toUpperCase()}...`,variant:"success"})}})}),(0,d.jsx)(h.av,{value:"exports",className:"space-y-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsxs)(u.p,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(n.A,{className:"h-5 w-5"}),"Export Jobs"]}),(0,d.jsx)(g.BT,{children:"Track your export requests and download completed files"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)(k.F,{className:"h-96",children:(0,d.jsx)("div",{className:"space-y-3",children:0===z.length?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(n.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,d.jsx)("p",{className:"text-gray-500",children:"No export jobs yet"}),(0,d.jsx)("p",{className:"text-sm text-gray-400",children:"Create reports to generate exports"})]}):z.map(a=>(0,d.jsxs)(u.p,{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(i.E,{variant:"secondary",className:"capitalize",children:a.format}),(0,d.jsxs)("span",{className:"font-medium text-sm",children:["Export #",a.id.slice(-8)]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.E,{variant:"completed"===a.status?"default":"failed"===a.status?"destructive":"processing"===a.status?"secondary":"outline",children:a.status}),"completed"===a.status&&a.downloadUrl&&(0,d.jsx)(t.lB,{size:"sm",onClick:()=>window.open(a.downloadUrl,"_blank"),children:(0,d.jsx)(n.A,{className:"h-3 w-3"})})]})]}),"processing"===a.status&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,d.jsx)("span",{children:"Progress"}),(0,d.jsxs)("span",{children:[a.progress,"%"]})]}),(0,d.jsx)(j.k,{value:a.progress,className:"h-2"})]}),"failed"===a.status&&a.error&&(0,d.jsxs)("div",{className:"text-xs text-red-500 mt-2",children:["Error: ",a.error]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Created: ",a.createdAt.toLocaleString()]})]},a.id))})})})]})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(u.p,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(r.A,{className:"h-5 w-5"}),"Export Statistics"]})}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-gray-300",children:"Total Exports"}),(0,d.jsx)("span",{className:"font-semibold",children:z.length})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-gray-300",children:"Completed"}),(0,d.jsx)("span",{className:"font-semibold text-green-400",children:z.filter(a=>"completed"===a.status).length})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-gray-300",children:"In Progress"}),(0,d.jsx)("span",{className:"font-semibold text-yellow-400",children:z.filter(a=>"processing"===a.status).length})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-gray-300",children:"Failed"}),(0,d.jsx)("span",{className:"font-semibold text-red-400",children:z.filter(a=>"failed"===a.status).length})]})]})]}),(0,d.jsxs)(u.p,{children:[(0,d.jsx)(g.aR,{children:(0,d.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,d.jsx)(s.A,{className:"h-5 w-5"}),"Quick Actions"]})}),(0,d.jsxs)(g.Wu,{className:"space-y-3",children:[(0,d.jsxs)(t.lB,{variant:"outline",className:"w-full justify-start",onClick:()=>w("reports"),children:[(0,d.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Create Report"]}),(0,d.jsxs)(t.lB,{variant:"outline",className:"w-full justify-start",onClick:()=>w("visualizations"),children:[(0,d.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"New Visualization"]}),(0,d.jsxs)(t.lB,{variant:"outline",className:"w-full justify-start",onClick:J,children:[(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})]})]})]})})]})})]}):(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 to-black",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(l.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Authentication Required"}),(0,d.jsx)("p",{className:"text-gray-300 mb-4",children:"Please sign in to access analytics"}),(0,d.jsx)(t.lB,{onClick:()=>window.location.href="/signin",children:"Sign In"})]})})}}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[5873,1428,9961,8343,4925,6273,8280,2830,3239,5881,4769,6265],()=>b(b.s=66554));module.exports=c})();