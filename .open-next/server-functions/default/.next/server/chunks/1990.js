exports.id=1990,exports.ids=[1990],exports.modules={30477:(a,b,c)=>{"use strict";c.d(b,{HG:()=>i,JE:()=>g,fH:()=>h,vF:()=>e,vV:()=>f});class d{constructor(){this.isDevelopment=!1,this.logLevel=this.isDevelopment?3:2}shouldLog(a){return a<=this.logLevel}formatLogEntry(a){let b=["ERROR","WARN","INFO","DEBUG"][a.level],c=`[${a.timestamp}] ${b}: ${a.message}`;return a.context&&Object.keys(a.context).length>0&&(c+=` | Context: ${JSON.stringify(a.context)}`),a.error&&(c+=` | Error: ${a.error.message}`,this.isDevelopment&&a.error.stack&&(c+=` | Stack: ${a.error.stack}`)),c}log(a,b,c,d){if(!this.shouldLog(a))return;let e={level:a,message:b,timestamp:new Date().toISOString(),context:c,error:d},f=this.formatLogEntry(e);0===a&&console.error(f),!this.isDevelopment&&a<=1&&this.sendToExternalService(e)}async sendToExternalService(a){}error(a,b,c){this.log(0,a,b,c)}warn(a,b){this.log(1,a,b)}info(a,b){this.log(2,a,b)}debug(a,b){this.log(3,a,b)}apiLog(a,b,c,d,e){let f=`${a} ${b} - ${c}${d?` (${d}ms)`:""}`,g=c>=500?0:c>=400?1:2;this.log(g,f,{method:a,path:b,statusCode:c,duration:d,...e})}dbLog(a,b,c,d){let e=`DB ${a} on ${b}${c?` (${c}ms)`:""}`;this.log(3,e,{operation:a,table:b,duration:c,...d})}authLog(a,b,c=!0,d){let e=`Auth ${a}${b?` for user ${b}`:""} - ${c?"SUCCESS":"FAILED"}`;this.log(c?2:1,e,{action:a,userId:b,success:c,...d})}}let e=new d,f=(a,b,c)=>{b instanceof Error?e.error(a,void 0,b):"object"==typeof b&&null!==b?e.error(a,b,c):e.error(a,void 0,c)},g=(a,b)=>e.warn(a,b),h=(a,b)=>e.info(a,b),i=(a,b,c,d,f)=>e.apiLog(a,b,c,d,f)},45151:(a,b,c)=>{"use strict";c.d(b,{LR:()=>g,Oj:()=>j,Vd:()=>i,YI:()=>h,gD:()=>k,h:()=>l});var d=c(30477),e=c(9608);function f(){let a="postgresql://neondb_owner:npg_MRLUf85DBNPv@ep-curly-meadow-aefoagku-pooler.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require&channel_binding=require";if(!a)throw Error("DATABASE_URL is not set");return(0,e.lw)(a)}async function g(a){try{let b=f();return(await b`
      SELECT id, email, full_name, subscription_tier, subscription_status, stripe_customer_id, stripe_subscription_id, current_period_start, current_period_end, cancel_at_period_end
      FROM users 
      WHERE stripe_customer_id = ${a}
    `)[0]||null}catch(a){return(0,d.vV)("Error getting user by Stripe customer ID:",a),null}}async function h(a,b){try{let c=f(),d={updated_at:new Date};if(void 0!==b.stripe_subscription_id&&(d.stripe_subscription_id=b.stripe_subscription_id),void 0!==b.stripe_customer_id&&(d.stripe_customer_id=b.stripe_customer_id),void 0!==b.subscription_tier&&(d.subscription_tier=b.subscription_tier),void 0!==b.subscription_status&&(d.subscription_status=b.subscription_status),void 0!==b.current_period_start&&(d.current_period_start=b.current_period_start),void 0!==b.current_period_end&&(d.current_period_end=b.current_period_end),void 0!==b.cancel_at_period_end&&(d.cancel_at_period_end=b.cancel_at_period_end),1===Object.keys(d).length)return{success:!1,error:"No fields to update"};let e=await c`
      UPDATE users 
      SET 
        stripe_subscription_id = ${d.stripe_subscription_id||null},
        stripe_customer_id = ${d.stripe_customer_id||null},
        subscription_tier = ${d.subscription_tier||null},
        subscription_status = ${d.subscription_status||null},
        current_period_start = ${d.current_period_start||null},
        current_period_end = ${d.current_period_end||null},
        cancel_at_period_end = ${d.cancel_at_period_end||null},
        updated_at = NOW()
      WHERE id = ${a}
      RETURNING id, subscription_tier, subscription_status, stripe_customer_id, stripe_subscription_id
    `;if(0===e.length)return{success:!1,error:"User not found"};return{success:!0,user:e[0]}}catch(a){return(0,d.vV)("Error updating user subscription:",a),{success:!1,error:"Database error"}}}async function i(a,b){try{let c=f(),d=await c`
      UPDATE users 
      SET stripe_customer_id = ${b}, updated_at = NOW()
      WHERE id = ${a}
      RETURNING id, stripe_customer_id
    `;if(0===d.length)return{success:!1,error:"User not found"};return{success:!0,user:d[0]}}catch(a){return(0,d.vV)("Error updating user Stripe customer ID:",a),{success:!1,error:"Database error"}}}function j(a){return a.includes("accelerator")?"accelerator":a.includes("dominator")?"dominator":"launch"}async function k(a){try{let b=f(),c=await b`
      SELECT subscription_status, subscription_tier
      FROM users 
      WHERE id = ${a}
    `;if(0===c.length)return!1;let d=c[0];return"active"===d.subscription_status&&"launch"!==d.subscription_tier}catch(a){return(0,d.vV)("Error checking active subscription:",a),!1}}async function l(a){try{let b=f();return(await b`
      SELECT subscription_tier, subscription_status, stripe_customer_id, stripe_subscription_id, 
             current_period_start, current_period_end, cancel_at_period_end
      FROM users 
      WHERE id = ${a}
    `)[0]||null}catch(a){return(0,d.vV)("Error getting user subscription:",a),null}}},45688:(a,b,c)=>{"use strict";c.d(b,{CV:()=>h,_4:()=>e,fw:()=>i,i9:()=>g,oE:()=>j});var d=c(53343);let e=process.env.STRIPE_SECRET_KEY?new d.A(process.env.STRIPE_SECRET_KEY,{apiVersion:"2025-08-27.basil",typescript:!0}):null,f={LAUNCH:"price_1S46IjPpYfwm37m7EKFi7H4C",ACCELERATOR_MONTHLY:"price_1S46LyPpYfwm37m7M5nOAYW7",ACCELERATOR_YEARLY:"price_1S46LyPpYfwm37m7lyRhudBs",DOMINATOR_MONTHLY:"price_1S46P6PpYfwm37m76hqohIw0",DOMINATOR_YEARLY:"price_1S46PXPpYfwm37m7yVhLS7j2"},g={LAUNCH:{id:"launch",name:"Launch",price:0,period:"month",description:"Perfect for ambitious beginners ready to start their empire",features:["Access to 2 AI agents (Nova & Echo)","5 AI conversations per day","Basic task automation","Email support","Community access","Mobile app access"],limits:{aiAgents:2,dailyConversations:5,fileStorage:"1GB",goals:5,tasks:20,competitors:3,templates:5},stripePriceId:f.LAUNCH,popular:!1},ACCELERATOR:{id:"accelerator",name:"Accelerator",price:19,period:"month",yearlyPrice:190,yearlyPeriod:"year",description:"For solo founders ready to scale their empire",features:["Access to all 8 AI agents","Unlimited AI conversations","Advanced automation","Priority support","Advanced analytics","File management (10GB)","Competitive intelligence","Guardian AI compliance","Template library access","API access"],limits:{aiAgents:8,dailyConversations:-1,fileStorage:"10GB",goals:-1,tasks:-1,competitors:10,templates:-1},stripePriceId:f.ACCELERATOR_MONTHLY,stripeYearlyPriceId:f.ACCELERATOR_YEARLY,popular:!0},DOMINATOR:{id:"dominator",name:"Dominator",price:29,period:"month",yearlyPrice:290,yearlyPeriod:"year",description:"For empire builders who demand the best",features:["Everything in Accelerator","White-label options","Advanced API access","Custom integrations","File management (100GB)","Priority feature requests","Dedicated support","Advanced analytics","Custom workflows","Team collaboration tools"],limits:{aiAgents:8,dailyConversations:-1,fileStorage:"100GB",goals:-1,tasks:-1,competitors:-1,templates:-1,teamMembers:5},stripePriceId:f.DOMINATOR_MONTHLY,stripeYearlyPriceId:f.DOMINATOR_YEARLY,popular:!1}},h={CUSTOMER_SUBSCRIPTION_CREATED:"customer.subscription.created",CUSTOMER_SUBSCRIPTION_UPDATED:"customer.subscription.updated",CUSTOMER_SUBSCRIPTION_DELETED:"customer.subscription.deleted",INVOICE_PAYMENT_SUCCEEDED:"invoice.payment_succeeded",INVOICE_PAYMENT_FAILED:"invoice.payment_failed",CUSTOMER_CREATED:"customer.created",CUSTOMER_UPDATED:"customer.updated"};async function i(a,b,c,d,f){if(!e)throw Error("Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.");return await e.checkout.sessions.create({customer:a,payment_method_types:["card"],line_items:[{price:b,quantity:1}],mode:"subscription",success_url:c,cancel_url:d,metadata:{platform:"SoloSuccess-ai",...f},subscription_data:{metadata:{platform:"SoloSuccess-ai",...f}}})}async function j(a,b){if(!e)throw Error("Stripe is not configured. Please set STRIPE_SECRET_KEY environment variable.");return await e.billingPortal.sessions.create({customer:a,return_url:b})}},78335:()=>{},96487:()=>{}};