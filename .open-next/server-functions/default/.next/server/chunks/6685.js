exports.id=6685,exports.ids=[6685],exports.modules={31277:a=>{function b(a){return a?Array.isArray(a)?a.map(b):String(a).trim():null}function c(a){var b=a.indexOf("#");return b>-1?a.substr(0,b):a}function d(a){var b=String(a).indexOf(":");return!a||b<0?null:[a.slice(0,b),a.slice(b+1)]}function e(a){var b=a.toLowerCase(),c=b.indexOf("/");return c>-1&&(b=b.substr(0,c)),b.trim()}function f(a){return a.replace(/%[0-9a-fA-F]{2}/g,function(a){return a.toUpperCase()})}function g(a){try{var a=new URL(a,"http://robots-relative.samclarke.com/");return a.port||(a.port="https:"===a.protocol?443:80),a}catch(a){return null}}function h(a,f){this._url=g(a)||{},this._rules=Object.create(null),this._sitemaps=[],this._preferredHost=null,function(a,f){for(var g=a.split(/\r\n|\r|\n/).map(c).map(d).map(b),h=[],i=!0,j=0;j<g.length;j++){var k=g[j];if(k&&k[0]){switch(k[0].toLowerCase()){case"user-agent":i&&(h.length=0),k[1]&&h.push(e(k[1]));break;case"disallow":f.addRule(h,k[1],!1,j+1);break;case"allow":f.addRule(h,k[1],!0,j+1);break;case"crawl-delay":f.setCrawlDelay(h,k[1]);break;case"sitemap":k[1]&&f.addSitemap(k[1]);break;case"host":k[1]&&f.setPreferredHost(k[1].toLowerCase())}i="user-agent"!==k[0].toLowerCase()}}}(f||"",this)}h.prototype.addRule=function(a,b,c,d){var e=this._rules;a.forEach(function(a){e[a]=e[a]||[],b&&e[a].push({pattern:function(a){try{return f(encodeURI(a).replace(/%25/g,"%"))}catch(b){return a}}(b),allow:c,lineNumber:d})})},h.prototype.setCrawlDelay=function(a,b){var c=this._rules,d=Number(b);a.forEach(function(a){c[a]=c[a]||[],isNaN(d)||(c[a].crawlDelay=d)})},h.prototype.addSitemap=function(a){this._sitemaps.push(a)},h.prototype.setPreferredHost=function(a){this._preferredHost=a},h.prototype._getRule=function(a,b){var c=g(a)||{},d=e(b||"*");if(c.protocol===this._url.protocol&&c.hostname===this._url.hostname&&c.port===this._url.port){var h=this._rules[d]||this._rules["*"]||[];return function(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d];(function(a,b){var c=Array(b.length+1),d=1;c[0]=0;for(var e=0;e<a.length;e++){if("$"===a[e]&&e+1===a.length)return c[d-1]===b.length;if("*"==a[e]){d=b.length-c[0]+1;for(var f=1;f<d;f++)c[f]=c[f-1]+1}else{for(var g=0,f=0;f<d;f++)c[f]<b.length&&b[c[f]]===a[e]&&(c[g++]=c[f]+1);if(0==g)return!1;d=g}}return!0})(e.pattern,a)&&(!c||e.pattern.length>c.pattern.length?c=e:e.pattern.length==c.pattern.length&&e.allow&&!c.allow&&(c=e))}return c}(f(c.pathname+c.search),h)}},h.prototype.isAllowed=function(a,b){var c=this._getRule(a,b);if(void 0!==c)return!c||c.allow},h.prototype.getMatchingLineNumber=function(a,b){var c=this._getRule(a,b);return c?c.lineNumber:-1},h.prototype.isDisallowed=function(a,b){return!this.isAllowed(a,b)},h.prototype.getCrawlDelay=function(a){var b=e(a||"*");return(this._rules[b]||this._rules["*"]||{}).crawlDelay},h.prototype.getPreferredHost=function(){return this._preferredHost},h.prototype.getSitemaps=function(){return this._sitemaps.slice(0)},a.exports=h},67426:(a,b,c)=>{var d=c(31277);a.exports=function(a,b){return new d(a,b)}},76685:(a,b,c)=>{"use strict";c.d(b,{webScrapingService:()=>j});var d=c(30477),e=c(51993),f=c(67426),g=c.n(f);let h={respectRobotsTxt:!0,userAgent:"SoloSuccess-Intelligence-Bot/1.0 (+https://solobossai.fun/robots)",requestDelay:1e3,maxRetries:3,timeout:3e4,maxConcurrentRequests:5};class i{constructor(a={}){this.robotsCache=new Map,this.rateLimitTracker=new Map,this.requestQueue=[],this.activeRequests=0,this.contentCache=new Map,this.CACHE_TTL=3e5,this.config={...h,...a}}async scrapeCompetitorWebsite(a){let b=Date.now();try{let c=this.getFromCache(`website:${a}`);if(c)return{success:!0,data:c,retryCount:0,responseTime:Date.now()-b,cached:!0};if(!await this.canScrapeUrl(a))return{success:!1,error:"Scraping not allowed by robots.txt",retryCount:0,responseTime:Date.now()-b,cached:!1};await this.respectRateLimit(this.getDomain(a));let d=await this.executeWithRetry(async()=>{let c=await this.fetchWithTimeout(a),d=e.load(c.body);return{url:a,title:d("title").text().trim(),description:d('meta[name="description"]').attr("content")||d('meta[property="og:description"]').attr("content"),content:c.body,metadata:this.extractMetadata(d),scrapedAt:new Date,responseTime:Date.now()-b,statusCode:c.status}});return d.success&&d.data&&this.setCache(`website:${a}`,d.data),d}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown scraping error",retryCount:0,responseTime:Date.now()-b,cached:!1}}}async detectWebsiteChanges(a,b){let c=Date.now();try{let d=await this.scrapeCompetitorWebsite(a);if(!d.success||!d.data)return{success:!1,error:d.error,retryCount:0,responseTime:Date.now()-c,cached:!1};let e=[];if(b){let c=d.data.content,f=this.detectContentChanges(b,c,a);e.push(...f)}return{success:!0,data:e,retryCount:0,responseTime:Date.now()-c,cached:!1}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Change detection failed",retryCount:0,responseTime:Date.now()-c,cached:!1}}}async monitorPricingPages(a){let b=Date.now();try{let c=this.getFromCache(`pricing:${a}`);if(c)return{success:!0,data:c,retryCount:0,responseTime:Date.now()-b,cached:!0};let d=await this.scrapeCompetitorWebsite(a);if(!d.success||!d.data)return{success:!1,error:d.error,retryCount:0,responseTime:Date.now()-b,cached:!1};let f=e.load(d.data.content),g=this.extractPricingData(f,a);if(g)return this.setCache(`pricing:${a}`,g),{success:!0,data:g,retryCount:0,responseTime:Date.now()-b,cached:!1};return{success:!1,error:"No pricing data found",retryCount:0,responseTime:Date.now()-b,cached:!1}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Pricing monitoring failed",retryCount:0,responseTime:Date.now()-b,cached:!1}}}async trackProductPages(a){let b=Date.now();try{let c=this.getFromCache(`products:${a}`);if(c)return{success:!0,data:c,retryCount:0,responseTime:Date.now()-b,cached:!0};let d=await this.scrapeCompetitorWebsite(a);if(!d.success||!d.data)return{success:!1,error:d.error,retryCount:0,responseTime:Date.now()-b,cached:!1};let f=e.load(d.data.content),g=this.extractProductData(f,a);if(g)return this.setCache(`products:${a}`,g),{success:!0,data:g,retryCount:0,responseTime:Date.now()-b,cached:!1};return{success:!1,error:"No product data found",retryCount:0,responseTime:Date.now()-b,cached:!1}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Product tracking failed",retryCount:0,responseTime:Date.now()-b,cached:!1}}}async scrapeJobPostings(a){let b=Date.now();try{let c=this.getFromCache(`jobs:${a}`);if(c)return{success:!0,data:c,retryCount:0,responseTime:Date.now()-b,cached:!0};let d=await this.scrapeCompetitorWebsite(a);if(!d.success||!d.data)return{success:!1,error:d.error,retryCount:0,responseTime:Date.now()-b,cached:!1};let f=e.load(d.data.content),g=this.extractJobPostings(f,a);if(g.length>0)return this.setCache(`jobs:${a}`,g),{success:!0,data:g,retryCount:0,responseTime:Date.now()-b,cached:!1};return{success:!1,error:"No job postings found",retryCount:0,responseTime:Date.now()-b,cached:!1}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Job scraping failed",retryCount:0,responseTime:Date.now()-b,cached:!1}}}async canScrapeUrl(a){if(!this.config.respectRobotsTxt)return!0;try{let b=this.getDomain(a);if(this.robotsCache.has(b))return this.robotsCache.get(b).isAllowed(a,this.config.userAgent);let c=`${b}/robots.txt`,d=await this.fetchWithTimeout(c),e=g()(c,d.body);return this.robotsCache.set(b,e),e.isAllowed(a,this.config.userAgent)??!0}catch(b){return(0,d.JE)(`Could not fetch robots.txt for ${a}:`,b),!0}}async respectRateLimit(a){let b=Date.now()-(this.rateLimitTracker.get(a)||0);if(b<this.config.requestDelay){let a=this.config.requestDelay-b;await new Promise(b=>setTimeout(b,a))}this.rateLimitTracker.set(a,Date.now())}async executeWithRetry(a){let b=null;for(let c=0;c<=this.config.maxRetries;c++)try{let b=await a();return{success:!0,data:b,retryCount:c,responseTime:0,cached:!1}}catch(a){if((b=a instanceof Error?a:Error("Unknown error")).message.includes("HTTP 4")||b.message.includes("robots.txt"))break;if(c<this.config.maxRetries){let a=Math.min(1e3*Math.pow(2,c),5e3);await new Promise(b=>setTimeout(b,a))}}return{success:!1,error:b?.message||"Operation failed after retries",retryCount:this.config.maxRetries,responseTime:0,cached:!1}}async fetchWithTimeout(a){let b=new AbortController,c=setTimeout(()=>b.abort(),this.config.timeout);try{let d=await fetch(a,{headers:{"User-Agent":this.config.userAgent,Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5","Accept-Encoding":"gzip, deflate",Connection:"keep-alive"},signal:b.signal});if(clearTimeout(c),!d.ok)throw Error(`HTTP ${d.status}: ${d.statusText}`);return{body:await d.text(),status:d.status}}catch(a){throw clearTimeout(c),a}}getDomain(a){try{let b=new URL(a);return`${b.protocol}//${b.hostname}`}catch{throw Error(`Invalid URL: ${a}`)}}extractMetadata(a){let b={};return a("meta").each((c,d)=>{let e=a(d).attr("name")||a(d).attr("property"),f=a(d).attr("content");e&&f&&(b[e]=f)}),a('script[type="application/ld+json"]').each((c,d)=>{try{let c=JSON.parse(a(d).html()||"{}");b.structuredData=b.structuredData||[],b.structuredData.push(c)}catch{}}),b}detectContentChanges(a,b,c){let d=[];if(a!==b){let e=this.calculateSimilarity(a,b);d.push({url:c,changeType:"content",oldValue:a.substring(0,200)+"...",newValue:b.substring(0,200)+"...",confidence:1-e,detectedAt:new Date})}return d}calculateSimilarity(a,b){let c=new Set(a.toLowerCase().split(/\s+/)),d=new Set(b.toLowerCase().split(/\s+/)),e=new Set([...c].filter(a=>d.has(a))),f=new Set([...c,...d]);return e.size/f.size}extractPricingData(a,b){let c=[],d=new Set;for(let b of[".pricing-plan"])a(b).each((b,e)=>{let f=a(e),g=f.find("h1, h2, h3, h4, .plan-name, .title").first().text().trim(),h=f.find('[class*="price"], .cost, .amount').first().text().trim();if(g&&h){let b=`${g}-${h}`;if(!d.has(b)){d.add(b);let e=this.extractPrice(h);if(null!==e){let b=f.find("li, .feature").map((b,c)=>a(c).text().trim()).get();c.push({name:g,price:e,interval:this.detectInterval(h),features:b,isPopular:f.hasClass("popular")||f.hasClass("featured")})}}}});return 0===c.length?null:{url:b,plans:c,currency:this.detectCurrency(a),lastUpdated:new Date}}extractPrice(a){let b=a.match(/[\d,]+\.?\d*/g);return b?parseFloat(b[0].replace(/,/g,"")):null}detectInterval(a){let b=a.toLowerCase();return b.includes("year")||b.includes("annual")?"yearly":b.includes("month")?"monthly":"one-time"}detectCurrency(a){let b=a.html();return b.includes("$")?"USD":b.includes("â‚¬")?"EUR":b.includes("\xa3")?"GBP":"USD"}extractProductData(a,b){let c=[],d=new Set;for(let b of[".product"])a(b).each((b,e)=>{let f=a(e),g=f.find("h1, h2, h3, h4, .name, .title").first().text().trim(),h=f.find("p, .description").first().text().trim();if(g&&!d.has(g)){d.add(g);let b=f.find("li, .feature-item").map((b,c)=>a(c).text().trim()).get();c.push({name:g,description:h||void 0,features:b,status:"active"})}});return 0===c.length?null:{url:b,products:c,categories:[],lastUpdated:new Date}}extractJobPostings(a,b){let c=[],d=new Set;for(let e of[".job"])a(e).each((e,f)=>{let g=a(f),h=g.find("h1, h2, h3, h4, .title, .job-title").first().text().trim(),i=g.find("p, .description, .job-description").first().text().trim();if(h&&!d.has(h)){d.add(h);let e=g.find('.location, [class*="location"]').first().text().trim(),f=g.find('.department, [class*="department"]').first().text().trim(),j=g.find("li, .requirement").map((b,c)=>a(c).text().trim()).get();c.push({title:h,department:f||void 0,location:e||void 0,type:this.detectJobType(h+" "+i),remote:this.detectRemote(h+" "+i+" "+e),requirements:j,description:i,postedAt:new Date,url:b,strategicImportance:this.assessJobImportance(h,f)})}});return c}detectJobType(a){let b=a.toLowerCase();return b.includes("intern")?"internship":b.includes("contract")||b.includes("freelance")?"contract":b.includes("part-time")?"part-time":"full-time"}detectRemote(a){let b=a.toLowerCase();return b.includes("remote")||b.includes("work from home")||b.includes("distributed")}assessJobImportance(a,b){let c=a.toLowerCase(),d=b?.toLowerCase()||"";return c.includes("ceo")||c.includes("cto")||c.includes("founder")?"critical":c.includes("director")||c.includes("vp")||c.includes("head of")||d.includes("engineering")||d.includes("product")||d.includes("sales")?"high":c.includes("manager")||c.includes("lead")||c.includes("senior")?"medium":"low"}getFromCache(a){let b=this.contentCache.get(a);return b&&Date.now()-b.timestamp<this.CACHE_TTL?b.data:null}setCache(a,b){this.contentCache.set(a,{data:b,timestamp:Date.now()})}}let j=new i}};