"use strict";exports.id=851,exports.ids=[851],exports.modules={1985:(a,b,c)=>{c.d(b,{$N:()=>B,$p:()=>aa,$v:()=>l,Ax:()=>A,BN:()=>R,CI:()=>E,CQ:()=>J,CT:()=>as,Cn:()=>F,Dq:()=>H,Dw:()=>aB,EY:()=>m,G3:()=>aj,GP:()=>X,GY:()=>x,Gb:()=>W,I:()=>P,IT:()=>S,Ko:()=>y,L8:()=>ad,LJ:()=>ah,Lc:()=>C,Mv:()=>U,N$:()=>az,Oi:()=>ao,Oy:()=>K,P0:()=>ag,Py:()=>s,Sb:()=>aG,TF:()=>w,U5:()=>T,UY:()=>G,Um:()=>Y,VF:()=>ay,VO:()=>aq,VY:()=>q,W4:()=>k,WH:()=>Z,Wc:()=>at,ZQ:()=>N,Zc:()=>n,Zn:()=>o,Zu:()=>u,Zy:()=>D,_m:()=>aE,b0:()=>aL,bl:()=>t,c2:()=>L,cG:()=>r,cu:()=>af,d:()=>aI,eb:()=>am,g5:()=>v,h:()=>al,h8:()=>M,hA:()=>aJ,ig:()=>au,kU:()=>aK,nu:()=>ar,o5:()=>$,o8:()=>i.clone,qG:()=>p,qc:()=>av,rv:()=>aw,sF:()=>Q,t$:()=>aC,tV:()=>I,v1:()=>z,vz:()=>O,x8:()=>V,zP:()=>aD});var d=c(54044),e=c(30902),f=c(85395),g=c(45990),h=c(76546),i=c(98925),j=c(15344);let k=e.xI("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=j.r;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,f=i.aborted(a);for(let g of b){if(g._zod.def.when){if(!g._zod.def.when(a))continue}else if(f)continue;let b=a.issues.length,h=g._zod.check(a);if(h instanceof Promise&&c?.async===!1)throw new e.GT;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,a.issues.length!==b&&(f||(f=i.aborted(a,b)))});else{if(a.issues.length===b)continue;f||(f=i.aborted(a,b))}}return d?d.then(()=>a):a};a._zod.run=(c,f)=>{let g=a._zod.parse(c,f);if(g instanceof Promise){if(!1===f.async)throw new e.GT;return g.then(a=>b(a,d,f))}return b(g,d,f)}}a["~standard"]={validate:b=>{try{let c=(0,g.xL)(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return(0,g.bp)(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),l=e.xI("$ZodString",(a,b)=>{k.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??h.string(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),m=e.xI("$ZodStringFormat",(a,b)=>{d.ql.init(a,b),l.init(a,b)}),n=e.xI("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=h.guid),m.init(a,b)}),o=e.xI("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=h.uuid(a))}else b.pattern??(b.pattern=h.uuid());m.init(a,b)}),p=e.xI("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=h.email),m.init(a,b)}),q=e.xI("$ZodURL",(a,b)=>{m.init(a,b),a._zod.check=c=>{try{let d=c.value,e=new URL(d),f=e.href;b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:h.hostname.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),!d.endsWith("/")&&f.endsWith("/")?c.value=f.slice(0,-1):c.value=f;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),r=e.xI("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=h.emoji()),m.init(a,b)}),s=e.xI("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=h.nanoid),m.init(a,b)}),t=e.xI("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=h.cuid),m.init(a,b)}),u=e.xI("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=h.cuid2),m.init(a,b)}),v=e.xI("$ZodULID",(a,b)=>{b.pattern??(b.pattern=h.ulid),m.init(a,b)}),w=e.xI("$ZodXID",(a,b)=>{b.pattern??(b.pattern=h.xid),m.init(a,b)}),x=e.xI("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=h.ksuid),m.init(a,b)}),y=e.xI("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=h.datetime(b)),m.init(a,b)}),z=e.xI("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=h.date),m.init(a,b)}),A=e.xI("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=h.time(b)),m.init(a,b)}),B=e.xI("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=h.duration),m.init(a,b)}),C=e.xI("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=h.ipv4),m.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),D=e.xI("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=h.ipv6),m.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),E=e.xI("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=h.cidrv4),m.init(a,b)}),F=e.xI("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=h.cidrv6),m.init(a,b),a._zod.check=c=>{let[d,e]=c.value.split("/");try{if(!e)throw Error();let a=Number(e);if(`${a}`!==e||a<0||a>128)throw Error();new URL(`http://[${d}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function G(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let H=e.xI("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=h.base64),m.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{G(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function I(a){if(!h.base64url.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return G(b.padEnd(4*Math.ceil(b.length/4),"="))}let J=e.xI("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=h.base64url),m.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{I(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),K=e.xI("$ZodE164",(a,b)=>{b.pattern??(b.pattern=h.e164),m.init(a,b)});function L(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let M=e.xI("$ZodJWT",(a,b)=>{m.init(a,b),a._zod.check=c=>{L(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),N=e.xI("$ZodCustomStringFormat",(a,b)=>{m.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),O=e.xI("$ZodNumber",(a,b)=>{k.init(a,b),a._zod.pattern=a._zod.bag.pattern??h.number,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),P=e.xI("$ZodNumber",(a,b)=>{d.KH.init(a,b),O.init(a,b)}),Q=e.xI("$ZodBoolean",(a,b)=>{k.init(a,b),a._zod.pattern=h.boolean,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),R=e.xI("$ZodBigInt",(a,b)=>{k.init(a,b),a._zod.pattern=h.bigint,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),S=e.xI("$ZodBigInt",(a,b)=>{d.uE.init(a,b),R.init(a,b)}),T=e.xI("$ZodSymbol",(a,b)=>{k.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),U=e.xI("$ZodUndefined",(a,b)=>{k.init(a,b),a._zod.pattern=h.undefined,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),V=e.xI("$ZodNull",(a,b)=>{k.init(a,b),a._zod.pattern=h.null,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),W=e.xI("$ZodAny",(a,b)=>{k.init(a,b),a._zod.parse=a=>a}),X=e.xI("$ZodUnknown",(a,b)=>{k.init(a,b),a._zod.parse=a=>a}),Y=e.xI("$ZodNever",(a,b)=>{k.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),Z=e.xI("$ZodVoid",(a,b)=>{k.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),$=e.xI("$ZodDate",(a,b)=>{k.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function _(a,b,c){a.issues.length&&b.issues.push(...i.prefixIssues(c,a.issues)),b.value[c]=a.value}let aa=e.xI("$ZodArray",(a,b)=>{k.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>_(b,c,a))):_(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function ab(a,b,c){a.issues.length&&b.issues.push(...i.prefixIssues(c,a.issues)),b.value[c]=a.value}function ac(a,b,c,d){a.issues.length?void 0===d[c]?c in d?b.value[c]=void 0:b.value[c]=a.value:b.issues.push(...i.prefixIssues(c,a.issues)):void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}let ad=e.xI("$ZodObject",(a,b)=>{let c,d;k.init(a,b);let g=i.cached(()=>{let a=Object.keys(b.shape);for(let c of a)if(!(b.shape[c]instanceof k))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=i.optionalKeys(b.shape);return{shape:b.shape,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(c)}});i.defineLazy(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let h=i.isObject,j=!e.cr.jitless,l=i.allowsEval,m=j&&l.value,n=b.catchall;a._zod.parse=(e,k)=>{d??(d=g.value);let l=e.value;if(!h(l))return e.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),e;let o=[];if(j&&m&&k?.async===!1&&!0!==k.jitless)c||(c=(a=>{let b=new f.J(["shape","payload","ctx"]),c=g.value,d=a=>{let b=i.esc(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),h=0;for(let a of c.keys)e[a]=`key_${h++}`;for(let a of(b.write("const newResult = {}"),c.keys))if(c.optionalKeys.has(a)){let c=e[a];b.write(`const ${c} = ${d(a)};`);let f=i.esc(a);b.write(`
        if (${c}.issues.length) {
          if (input[${f}] === undefined) {
            if (${f} in input) {
              newResult[${f}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${c}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${f}, ...iss.path] : [${f}],
              }))
            );
          }
        } else if (${c}.value === undefined) {
          if (${f} in input) newResult[${f}] = undefined;
        } else {
          newResult[${f}] = ${c}.value;
        }
        `)}else{let c=e[a];b.write(`const ${c} = ${d(a)};`),b.write(`
          if (${c}.issues.length) payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${i.esc(a)}, ...iss.path] : [${i.esc(a)}]
          })));`),b.write(`newResult[${i.esc(a)}] = ${c}.value`)}b.write("payload.value = newResult;"),b.write("return payload;");let j=b.compile();return(b,c)=>j(a,b,c)})(b.shape)),e=c(e,k);else{e.value={};let a=d.shape;for(let b of d.keys){let c=a[b],d=c._zod.run({value:l[b],issues:[]},k),f="optional"===c._zod.optin&&"optional"===c._zod.optout;d instanceof Promise?o.push(d.then(a=>f?ac(a,e,b,l):ab(a,e,b))):f?ac(d,e,b,l):ab(d,e,b)}}if(!n)return o.length?Promise.all(o).then(()=>e):e;let p=[],q=d.keySet,r=n._zod,s=r.def.type;for(let a of Object.keys(l)){if(q.has(a))continue;if("never"===s){p.push(a);continue}let b=r.run({value:l[a],issues:[]},k);b instanceof Promise?o.push(b.then(b=>ab(b,e,a))):ab(b,e,a)}return(p.length&&e.issues.push({code:"unrecognized_keys",keys:p,input:l,inst:a}),o.length)?Promise.all(o).then(()=>e):e}});function ae(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;return b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>i.finalizeIssue(a,d,e.$W())))}),b}let af=e.xI("$ZodUnion",(a,b)=>{k.init(a,b),i.defineLazy(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),i.defineLazy(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),i.defineLazy(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),i.defineLazy(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>i.cleanRegex(a.source)).join("|")})$`)}}),a._zod.parse=(c,d)=>{let e=!1,f=[];for(let a of b.options){let b=a._zod.run({value:c.value,issues:[]},d);if(b instanceof Promise)f.push(b),e=!0;else{if(0===b.issues.length)return b;f.push(b)}}return e?Promise.all(f).then(b=>ae(b,c,a,d)):ae(f,c,a,d)}}),ag=e.xI("$ZodDiscriminatedUnion",(a,b)=>{af.init(a,b);let c=a._zod.parse;i.defineLazy(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=i.cached(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!i.isObject(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:g,path:[b.discriminator],inst:a}),e)}}),ah=e.xI("$ZodIntersection",(a,b)=>{k.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>ai(a,b,c)):ai(a,e,f)}});function ai(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),i.aborted(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(i.isPlainObject(b)&&i.isPlainObject(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let aj=e.xI("$ZodTuple",(a,b)=>{k.init(a,b);let c=b.items,d=c.length-[...c].reverse().findIndex(a=>"optional"!==a._zod.optin);a._zod.parse=(e,f)=>{let g=e.value;if(!Array.isArray(g))return e.issues.push({input:g,inst:a,expected:"tuple",code:"invalid_type"}),e;e.value=[];let h=[];if(!b.rest){let b=g.length>c.length,f=g.length<d-1;if(b||f)return e.issues.push({input:g,inst:a,origin:"array",...b?{code:"too_big",maximum:c.length}:{code:"too_small",minimum:c.length}}),e}let i=-1;for(let a of c){if(++i>=g.length&&i>=d)continue;let b=a._zod.run({value:g[i],issues:[]},f);b instanceof Promise?h.push(b.then(a=>ak(a,e,i))):ak(b,e,i)}if(b.rest)for(let a of g.slice(c.length)){i++;let c=b.rest._zod.run({value:a,issues:[]},f);c instanceof Promise?h.push(c.then(a=>ak(a,e,i))):ak(c,e,i)}return h.length?Promise.all(h).then(()=>e):e}});function ak(a,b,c){a.issues.length&&b.issues.push(...i.prefixIssues(c,a.issues)),b.value[c]=a.value}let al=e.xI("$ZodRecord",(a,b)=>{k.init(a,b),a._zod.parse=(c,d)=>{let f=c.value;if(!i.isPlainObject(f))return c.issues.push({expected:"record",code:"invalid_type",input:f,inst:a}),c;let g=[];if(b.keyType._zod.values){let e,h=b.keyType._zod.values;for(let a of(c.value={},h))if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){let e=b.valueType._zod.run({value:f[a],issues:[]},d);e instanceof Promise?g.push(e.then(b=>{b.issues.length&&c.issues.push(...i.prefixIssues(a,b.issues)),c.value[a]=b.value})):(e.issues.length&&c.issues.push(...i.prefixIssues(a,e.issues)),c.value[a]=e.value)}for(let a in f)h.has(a)||(e=e??[]).push(a);e&&e.length>0&&c.issues.push({code:"unrecognized_keys",input:f,inst:a,keys:e})}else for(let h of(c.value={},Reflect.ownKeys(f))){if("__proto__"===h)continue;let j=b.keyType._zod.run({value:h,issues:[]},d);if(j instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(j.issues.length){c.issues.push({origin:"record",code:"invalid_key",issues:j.issues.map(a=>i.finalizeIssue(a,d,e.$W())),input:h,path:[h],inst:a}),c.value[j.value]=j.value;continue}let k=b.valueType._zod.run({value:f[h],issues:[]},d);k instanceof Promise?g.push(k.then(a=>{a.issues.length&&c.issues.push(...i.prefixIssues(h,a.issues)),c.value[j.value]=a.value})):(k.issues.length&&c.issues.push(...i.prefixIssues(h,k.issues)),c.value[j.value]=k.value)}return g.length?Promise.all(g).then(()=>c):c}}),am=e.xI("$ZodMap",(a,b)=>{k.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{an(b,f,c,g,e,a,d)})):an(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function an(a,b,c,d,f,g,h){a.issues.length&&(i.propertyKeyTypes.has(typeof d)?c.issues.push(...i.prefixIssues(d,a.issues)):c.issues.push({origin:"map",code:"invalid_key",input:f,inst:g,issues:a.issues.map(a=>i.finalizeIssue(a,h,e.$W()))})),b.issues.length&&(i.propertyKeyTypes.has(typeof d)?c.issues.push(...i.prefixIssues(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:f,inst:g,key:d,issues:b.issues.map(a=>i.finalizeIssue(a,h,e.$W()))})),c.value.set(a.value,b.value)}let ao=e.xI("$ZodSet",(a,b)=>{k.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>ap(a,c))):ap(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function ap(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let aq=e.xI("$ZodEnum",(a,b)=>{k.init(a,b);let c=i.getEnumValues(b.entries);a._zod.values=new Set(c),a._zod.pattern=RegExp(`^(${c.filter(a=>i.propertyKeyTypes.has(typeof a)).map(a=>"string"==typeof a?i.escapeRegex(a):a.toString()).join("|")})$`),a._zod.parse=(b,d)=>{let e=b.value;return a._zod.values.has(e)||b.issues.push({code:"invalid_value",values:c,input:e,inst:a}),b}}),ar=e.xI("$ZodLiteral",(a,b)=>{k.init(a,b),a._zod.values=new Set(b.values),a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?i.escapeRegex(a):a?a.toString():String(a)).join("|")})$`),a._zod.parse=(c,d)=>{let e=c.value;return a._zod.values.has(e)||c.issues.push({code:"invalid_value",values:b.values,input:e,inst:a}),c}}),as=e.xI("$ZodFile",(a,b)=>{k.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),at=e.xI("$ZodTransform",(a,b)=>{k.init(a,b),a._zod.parse=(a,c)=>{let d=b.transform(a.value,a);if(c.async)return(d instanceof Promise?d:Promise.resolve(d)).then(b=>(a.value=b,a));if(d instanceof Promise)throw new e.GT;return a.value=d,a}}),au=e.xI("$ZodOptional",(a,b)=>{k.init(a,b),a._zod.optin="optional",a._zod.optout="optional",i.defineLazy(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),i.defineLazy(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${i.cleanRegex(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>"optional"===b.innerType._zod.optin?b.innerType._zod.run(a,c):void 0===a.value?a:b.innerType._zod.run(a,c)}),av=e.xI("$ZodNullable",(a,b)=>{k.init(a,b),i.defineLazy(a._zod,"optin",()=>b.innerType._zod.optin),i.defineLazy(a._zod,"optout",()=>b.innerType._zod.optout),i.defineLazy(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${i.cleanRegex(a.source)}|null)$`):void 0}),i.defineLazy(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),aw=e.xI("$ZodDefault",(a,b)=>{k.init(a,b),a._zod.optin="optional",i.defineLazy(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>ax(a,b)):ax(d,b)}});function ax(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let ay=e.xI("$ZodPrefault",(a,b)=>{k.init(a,b),a._zod.optin="optional",i.defineLazy(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>(void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),az=e.xI("$ZodNonOptional",(a,b)=>{k.init(a,b),i.defineLazy(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>aA(b,a)):aA(e,a)}});function aA(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let aB=e.xI("$ZodSuccess",(a,b)=>{k.init(a,b),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),aC=e.xI("$ZodCatch",(a,b)=>{k.init(a,b),a._zod.optin="optional",i.defineLazy(a._zod,"optout",()=>b.innerType._zod.optout),i.defineLazy(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>i.finalizeIssue(a,c,e.$W()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>i.finalizeIssue(a,c,e.$W()))},input:a.value}),a.issues=[]),a)}}),aD=e.xI("$ZodNaN",(a,b)=>{k.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),aE=e.xI("$ZodPipe",(a,b)=>{k.init(a,b),i.defineLazy(a._zod,"values",()=>b.in._zod.values),i.defineLazy(a._zod,"optin",()=>b.in._zod.optin),i.defineLazy(a._zod,"optout",()=>b.out._zod.optout),a._zod.parse=(a,c)=>{let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>aF(a,b,c)):aF(d,b,c)}});function aF(a,b,c){return i.aborted(a)?a:b.out._zod.run({value:a.value,issues:a.issues},c)}let aG=e.xI("$ZodReadonly",(a,b)=>{k.init(a,b),i.defineLazy(a._zod,"propValues",()=>b.innerType._zod.propValues),i.defineLazy(a._zod,"values",()=>b.innerType._zod.values),i.defineLazy(a._zod,"optin",()=>b.innerType._zod.optin),i.defineLazy(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(aH):aH(d)}});function aH(a){return a.value=Object.freeze(a.value),a}let aI=e.xI("$ZodTemplateLiteral",(a,b)=>{k.init(a,b);let c=[];for(let a of b.parts)if(a instanceof k){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||i.primitiveTypes.has(typeof a))c.push(i.escapeRegex(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(b,c)=>("string"!=typeof b.value?b.issues.push({input:b.value,inst:a,expected:"template_literal",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(b.value)||b.issues.push({input:b.value,inst:a,code:"invalid_format",format:"template_literal",pattern:a._zod.pattern.source})),b)}),aJ=e.xI("$ZodPromise",(a,b)=>{k.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),aK=e.xI("$ZodLazy",(a,b)=>{k.init(a,b),i.defineLazy(a._zod,"innerType",()=>b.getter()),i.defineLazy(a._zod,"pattern",()=>a._zod.innerType._zod.pattern),i.defineLazy(a._zod,"propValues",()=>a._zod.innerType._zod.propValues),i.defineLazy(a._zod,"optin",()=>a._zod.innerType._zod.optin),i.defineLazy(a._zod,"optout",()=>a._zod.innerType._zod.optout),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),aL=e.xI("$ZodCustom",(a,b)=>{d.QP.init(a,b),k.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>aM(b,c,d,a));aM(e,c,d,a)}});function aM(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(i.issue(a))}}},4214:(a,b,c)=>{c.d(b,{JM:()=>i,Kd:()=>h,S1:()=>m,Wk:()=>j,ZC:()=>k,a$:()=>g,sR:()=>l});var d=c(30902),e=c(98925);let f=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),Object.defineProperty(a,"message",{get:()=>JSON.stringify(b,e.jsonStringifyReplacer,2),enumerable:!0}),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},g=(0,d.xI)("$ZodError",f),h=(0,d.xI)("$ZodError",f,{Parent:Error});function i(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function j(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d}function k(a,b){let c=b||function(a){return a.message},d={errors:[]},e=(a,b=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>e({issues:a},h.path));else if("invalid_key"===h.code)e({issues:h.issues},h.path);else if("invalid_element"===h.code)e({issues:h.issues},h.path);else{let a=[...b,...h.path];if(0===a.length){d.errors.push(c(h));continue}let e=d,i=0;for(;i<a.length;){let b=a[i],d=i===a.length-1;"string"==typeof b?(e.properties??(e.properties={}),(f=e.properties)[b]??(f[b]={errors:[]}),e=e.properties[b]):(e.items??(e.items=[]),(g=e.items)[b]??(g[b]={errors:[]}),e=e.items[b]),d&&e.errors.push(c(h)),i++}}};return e(a),d}function l(a){let b=[];for(let c of a)"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function m(a){let b=[];for(let c of[...a.issues].sort((a,b)=>a.path.length-b.path.length))b.push(`✖ ${c.message}`),c.path?.length&&b.push(`  → at ${l(c.path)}`);return b.join("\n")}},10522:(a,b,c)=>{c.d(b,{$i:()=>bC,A8:()=>ar,Ak:()=>E,BN:()=>ak,Bo:()=>P,Bu:()=>bo,CL:()=>bb,DN:()=>a7,E$:()=>aW,EB:()=>p,EV:()=>bw,Fs:()=>bv,Gk:()=>as,Gl:()=>I,Gp:()=>R,HA:()=>al,HR:()=>av,Ie:()=>bG,Ih:()=>bA,Ii:()=>bd,Ik:()=>aO,In:()=>aj,JE:()=>bE,Jj:()=>F,Jv:()=>aV,K3:()=>Y,K5:()=>au,KC:()=>aS,Kf:()=>N,Kq:()=>ah,Kz:()=>a2,L5:()=>aD,LE:()=>ad,Lq:()=>L,Lr:()=>ap,Mf:()=>br,Ml:()=>aA,ND:()=>n,NJ:()=>ba,Nl:()=>bJ,Np:()=>ae,OZ:()=>A,Os:()=>t,PQ:()=>ay,PV:()=>aY,Pq:()=>bL,RZ:()=>bB,Rp:()=>r,Rv:()=>bj,S8:()=>am,Sd:()=>bl,Tj:()=>a1,Tq:()=>bs,UC:()=>m,Ut:()=>a0,Uy:()=>bz,VV:()=>at,Vb:()=>a4,Vx:()=>ax,W5:()=>T,WF:()=>an,Wh:()=>ai,Xi:()=>bi,YO:()=>aL,YP:()=>bH,Yj:()=>o,Yl:()=>V,Z0:()=>K,ZE:()=>aM,Zg:()=>C,Zm:()=>aF,_:()=>aC,_$:()=>Z,_H:()=>aQ,_Z:()=>aw,a$:()=>ac,a0:()=>aG,aP:()=>aI,aR:()=>l,ai:()=>ag,b8:()=>aZ,bv:()=>aN,bz:()=>aB,cM:()=>q,ch:()=>az,cl:()=>bh,dd:()=>by,eY:()=>bn,eu:()=>a8,fO:()=>O,fZ:()=>aR,fc:()=>a6,fi:()=>ab,g1:()=>a$,gE:()=>x,gF:()=>G,gM:()=>aU,gZ:()=>w,hQ:()=>aa,hZ:()=>a3,hw:()=>bq,iS:()=>aE,im:()=>a9,iv:()=>bD,jg:()=>a_,jv:()=>aT,k5:()=>a5,kM:()=>M,kX:()=>bp,l1:()=>bf,l7:()=>W,lq:()=>be,m7:()=>_,me:()=>bg,n:()=>aK,n$:()=>D,n4:()=>s,nH:()=>y,nL:()=>X,o:()=>aq,oi:()=>bt,p6:()=>aJ,pd:()=>bc,qX:()=>J,r0:()=>$,rI:()=>aH,rS:()=>af,re:()=>aP,tB:()=>bx,tr:()=>H,uE:()=>bK,uR:()=>v,uX:()=>Q,ug:()=>S,ut:()=>bu,vX:()=>u,vZ:()=>bm,vk:()=>bM,xg:()=>bk,y0:()=>aX,yC:()=>B,z6:()=>bF,zM:()=>ao,zY:()=>z,zn:()=>bI,zr:()=>U});var d=c(30902),e=c(1985),f=c(98925),g=c(55145),h=c(89901),i=c(54044),j=c(92139),k=c(60617);let l=d.xI("ZodType",(a,b)=>(e.W4.init(a,b),a.def=b,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone({...b,checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),a.clone=(b,c)=>f.clone(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>k.qg(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>k.xL(a,b,c),a.parseAsync=async(b,c)=>k.EJ(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>k.bp(a,b,c),a.spa=a.safeParseAsync,a.refine=(b,c)=>a.check(bH(b,c)),a.superRefine=b=>a.check(bI(b)),a.overwrite=b=>a.check(h.bS(b)),a.optional=()=>be(a),a.nullable=()=>bg(a),a.nullish=()=>be(bg(a)),a.nonoptional=b=>bn(a,b),a.array=()=>aL(a),a.or=b=>aS([a,b]),a.and=b=>aW(a,b),a.transform=b=>bv(a,bc(b)),a.default=b=>bj(a,b),a.prefault=b=>bl(a,b),a.catch=b=>br(a,b),a.pipe=b=>bv(a,b),a.readonly=()=>bx(a),a.describe=b=>{let c=a.clone();return g.fd.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>g.fd.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return g.fd.get(a);let c=a.clone();return g.fd.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),m=d.xI("_ZodString",(a,b)=>{e.$v.init(a,b),l.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(h.Fk(...b)),a.includes=(...b)=>a.check(h.dR(...b)),a.startsWith=(...b)=>a.check(h.$S(...b)),a.endsWith=(...b)=>a.check(h.ER(...b)),a.min=(...b)=>a.check(h.m9(...b)),a.max=(...b)=>a.check(h.Eb(...b)),a.length=(...b)=>a.check(h.YA(...b)),a.nonempty=(...b)=>a.check(h.m9(1,...b)),a.lowercase=b=>a.check(h.hH(b)),a.uppercase=b=>a.check(h.qF(b)),a.trim=()=>a.check(h.WN()),a.normalize=(...b)=>a.check(h.lo(...b)),a.toLowerCase=()=>a.check(h.Il()),a.toUpperCase=()=>a.check(h.xY())}),n=d.xI("ZodString",(a,b)=>{e.$v.init(a,b),m.init(a,b),a.email=b=>a.check(h.Mu(q,b)),a.url=b=>a.check(h.Fn(z,b)),a.jwt=b=>a.check(h.rk(ab,b)),a.emoji=b=>a.check(h.aC(B,b)),a.guid=b=>a.check(h.tB(s,b)),a.uuid=b=>a.check(h.Be(u,b)),a.uuidv4=b=>a.check(h.nA(u,b)),a.uuidv6=b=>a.check(h.pY(u,b)),a.uuidv7=b=>a.check(h.wA(u,b)),a.nanoid=b=>a.check(h.Dl(D,b)),a.guid=b=>a.check(h.tB(s,b)),a.cuid=b=>a.check(h.fs(F,b)),a.cuid2=b=>a.check(h.Bj(H,b)),a.ulid=b=>a.check(h.Ct(J,b)),a.base64=b=>a.check(h.rt(X,b)),a.base64url=b=>a.check(h.cU(Z,b)),a.xid=b=>a.check(h.Pw(L,b)),a.ksuid=b=>a.check(h._z(N,b)),a.ipv4=b=>a.check(h.Ny(P,b)),a.ipv6=b=>a.check(h.$O(R,b)),a.cidrv4=b=>a.check(h.Uy(T,b)),a.cidrv6=b=>a.check(h.gP(V,b)),a.e164=b=>a.check(h.KB(_,b)),a.datetime=b=>a.check(j.datetime(b)),a.date=b=>a.check(j.date(b)),a.time=b=>a.check(j.time(b)),a.duration=b=>a.check(j.duration(b))});function o(a){return h.Rl(n,a)}let p=d.xI("ZodStringFormat",(a,b)=>{e.EY.init(a,b),m.init(a,b)}),q=d.xI("ZodEmail",(a,b)=>{e.qG.init(a,b),p.init(a,b)});function r(a){return h.Mu(q,a)}let s=d.xI("ZodGUID",(a,b)=>{e.Zc.init(a,b),p.init(a,b)});function t(a){return h.tB(s,a)}let u=d.xI("ZodUUID",(a,b)=>{e.Zn.init(a,b),p.init(a,b)});function v(a){return h.Be(u,a)}function w(a){return h.nA(u,a)}function x(a){return h.pY(u,a)}function y(a){return h.wA(u,a)}let z=d.xI("ZodURL",(a,b)=>{e.VY.init(a,b),p.init(a,b)});function A(a){return h.Fn(z,a)}let B=d.xI("ZodEmoji",(a,b)=>{e.cG.init(a,b),p.init(a,b)});function C(a){return h.aC(B,a)}let D=d.xI("ZodNanoID",(a,b)=>{e.Py.init(a,b),p.init(a,b)});function E(a){return h.Dl(D,a)}let F=d.xI("ZodCUID",(a,b)=>{e.bl.init(a,b),p.init(a,b)});function G(a){return h.fs(F,a)}let H=d.xI("ZodCUID2",(a,b)=>{e.Zu.init(a,b),p.init(a,b)});function I(a){return h.Bj(H,a)}let J=d.xI("ZodULID",(a,b)=>{e.g5.init(a,b),p.init(a,b)});function K(a){return h.Ct(J,a)}let L=d.xI("ZodXID",(a,b)=>{e.TF.init(a,b),p.init(a,b)});function M(a){return h.Pw(L,a)}let N=d.xI("ZodKSUID",(a,b)=>{e.GY.init(a,b),p.init(a,b)});function O(a){return h._z(N,a)}let P=d.xI("ZodIPv4",(a,b)=>{e.Lc.init(a,b),p.init(a,b)});function Q(a){return h.Ny(P,a)}let R=d.xI("ZodIPv6",(a,b)=>{e.Zy.init(a,b),p.init(a,b)});function S(a){return h.$O(R,a)}let T=d.xI("ZodCIDRv4",(a,b)=>{e.CI.init(a,b),p.init(a,b)});function U(a){return h.Uy(T,a)}let V=d.xI("ZodCIDRv6",(a,b)=>{e.Cn.init(a,b),p.init(a,b)});function W(a){return h.gP(V,a)}let X=d.xI("ZodBase64",(a,b)=>{e.Dq.init(a,b),p.init(a,b)});function Y(a){return h.rt(X,a)}let Z=d.xI("ZodBase64URL",(a,b)=>{e.CQ.init(a,b),p.init(a,b)});function $(a){return h.cU(Z,a)}let _=d.xI("ZodE164",(a,b)=>{e.Oy.init(a,b),p.init(a,b)});function aa(a){return h.KB(_,a)}let ab=d.xI("ZodJWT",(a,b)=>{e.h8.init(a,b),p.init(a,b)});function ac(a){return h.rk(ab,a)}let ad=d.xI("ZodCustomStringFormat",(a,b)=>{e.ZQ.init(a,b),p.init(a,b)});function ae(a,b,c={}){return h.Af(ad,a,b,c)}let af=d.xI("ZodNumber",(a,b)=>{e.vz.init(a,b),l.init(a,b),a.gt=(b,c)=>a.check(h.Tx(b,c)),a.gte=(b,c)=>a.check(h.qm(b,c)),a.min=(b,c)=>a.check(h.qm(b,c)),a.lt=(b,c)=>a.check(h.Au(b,c)),a.lte=(b,c)=>a.check(h.Zm(b,c)),a.max=(b,c)=>a.check(h.Zm(b,c)),a.int=b=>a.check(ai(b)),a.safe=b=>a.check(ai(b)),a.positive=b=>a.check(h.Tx(0,b)),a.nonnegative=b=>a.check(h.qm(0,b)),a.negative=b=>a.check(h.Au(0,b)),a.nonpositive=b=>a.check(h.Zm(0,b)),a.multipleOf=(b,c)=>a.check(h.Hi(b,c)),a.step=(b,c)=>a.check(h.Hi(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function ag(a){return h.F7(af,a)}let ah=d.xI("ZodNumberFormat",(a,b)=>{e.I.init(a,b),af.init(a,b)});function ai(a){return h.LK(ah,a)}function aj(a){return h.HL(ah,a)}function ak(a){return h.g6(ah,a)}function al(a){return h.sw(ah,a)}function am(a){return h.P(ah,a)}let an=d.xI("ZodBoolean",(a,b)=>{e.sF.init(a,b),l.init(a,b)});function ao(a){return h._L(an,a)}let ap=d.xI("ZodBigInt",(a,b)=>{e.BN.init(a,b),l.init(a,b),a.gte=(b,c)=>a.check(h.qm(b,c)),a.min=(b,c)=>a.check(h.qm(b,c)),a.gt=(b,c)=>a.check(h.Tx(b,c)),a.gte=(b,c)=>a.check(h.qm(b,c)),a.min=(b,c)=>a.check(h.qm(b,c)),a.lt=(b,c)=>a.check(h.Au(b,c)),a.lte=(b,c)=>a.check(h.Zm(b,c)),a.max=(b,c)=>a.check(h.Zm(b,c)),a.positive=b=>a.check(h.Tx(BigInt(0),b)),a.negative=b=>a.check(h.Au(BigInt(0),b)),a.nonpositive=b=>a.check(h.Zm(BigInt(0),b)),a.nonnegative=b=>a.check(h.qm(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(h.Hi(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function aq(a){return h.z$(ap,a)}let ar=d.xI("ZodBigIntFormat",(a,b)=>{e.IT.init(a,b),ap.init(a,b)});function as(a){return h.Jg(ar,a)}function at(a){return h.ii(ar,a)}let au=d.xI("ZodSymbol",(a,b)=>{e.U5.init(a,b),l.init(a,b)});function av(a){return h.W7(au,a)}let aw=d.xI("ZodUndefined",(a,b)=>{e.Mv.init(a,b),l.init(a,b)});function ax(a){return h.E4(aw,a)}let ay=d.xI("ZodNull",(a,b)=>{e.x8.init(a,b),l.init(a,b)});function az(a){return h.jw(ay,a)}let aA=d.xI("ZodAny",(a,b)=>{e.Gb.init(a,b),l.init(a,b)});function aB(){return h.KA(aA)}let aC=d.xI("ZodUnknown",(a,b)=>{e.GP.init(a,b),l.init(a,b)});function aD(){return h.em(aC)}let aE=d.xI("ZodNever",(a,b)=>{e.Um.init(a,b),l.init(a,b)});function aF(a){return h.G8(aE,a)}let aG=d.xI("ZodVoid",(a,b)=>{e.WH.init(a,b),l.init(a,b)});function aH(a){return h.OC(aG,a)}let aI=d.xI("ZodDate",(a,b)=>{e.o5.init(a,b),l.init(a,b),a.min=(b,c)=>a.check(h.qm(b,c)),a.max=(b,c)=>a.check(h.Zm(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function aJ(a){return h.YY(aI,a)}let aK=d.xI("ZodArray",(a,b)=>{e.$p.init(a,b),l.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(h.m9(b,c)),a.nonempty=b=>a.check(h.m9(1,b)),a.max=(b,c)=>a.check(h.Eb(b,c)),a.length=(b,c)=>a.check(h.YA(b,c)),a.unwrap=()=>a.element});function aL(a,b){return h.dZ(aK,a,b)}function aM(a){return a8(Object.keys(a._zod.def.shape))}let aN=d.xI("ZodObject",(a,b)=>{e.L8.init(a,b),l.init(a,b),f.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>a5(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:aD()}),a.loose=()=>a.clone({...a._zod.def,catchall:aD()}),a.strict=()=>a.clone({...a._zod.def,catchall:aF()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>f.extend(a,b),a.merge=b=>f.merge(a,b),a.pick=b=>f.pick(a,b),a.omit=b=>f.omit(a,b),a.partial=(...b)=>f.partial(bd,a,b[0]),a.required=(...b)=>f.required(bm,a,b[0])});function aO(a,b){return new aN({type:"object",get shape(){return f.assignProp(this,"shape",{...a}),this.shape},...f.normalizeParams(b)})}function aP(a,b){return new aN({type:"object",get shape(){return f.assignProp(this,"shape",{...a}),this.shape},catchall:aF(),...f.normalizeParams(b)})}function aQ(a,b){return new aN({type:"object",get shape(){return f.assignProp(this,"shape",{...a}),this.shape},catchall:aD(),...f.normalizeParams(b)})}let aR=d.xI("ZodUnion",(a,b)=>{e.cu.init(a,b),l.init(a,b),a.options=b.options});function aS(a,b){return new aR({type:"union",options:a,...f.normalizeParams(b)})}let aT=d.xI("ZodDiscriminatedUnion",(a,b)=>{aR.init(a,b),e.P0.init(a,b)});function aU(a,b,c){return new aT({type:"union",options:b,discriminator:a,...f.normalizeParams(c)})}let aV=d.xI("ZodIntersection",(a,b)=>{e.LJ.init(a,b),l.init(a,b)});function aW(a,b){return new aV({type:"intersection",left:a,right:b})}let aX=d.xI("ZodTuple",(a,b)=>{e.G3.init(a,b),l.init(a,b),a.rest=b=>a.clone({...a._zod.def,rest:b})});function aY(a,b,c){let d=b instanceof e.W4,g=d?c:b;return new aX({type:"tuple",items:a,rest:d?b:null,...f.normalizeParams(g)})}let aZ=d.xI("ZodRecord",(a,b)=>{e.h.init(a,b),l.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function a$(a,b,c){return new aZ({type:"record",keyType:a,valueType:b,...f.normalizeParams(c)})}function a_(a,b,c){return new aZ({type:"record",keyType:aS([a,aF()]),valueType:b,...f.normalizeParams(c)})}let a0=d.xI("ZodMap",(a,b)=>{e.eb.init(a,b),l.init(a,b),a.keyType=b.keyType,a.valueType=b.valueType});function a1(a,b,c){return new a0({type:"map",keyType:a,valueType:b,...f.normalizeParams(c)})}let a2=d.xI("ZodSet",(a,b)=>{e.Oi.init(a,b),l.init(a,b),a.min=(...b)=>a.check(h.Nd(...b)),a.nonempty=b=>a.check(h.Nd(1,b)),a.max=(...b)=>a.check(h.vL(...b)),a.size=(...b)=>a.check(h.d$(...b))});function a3(a,b){return new a2({type:"set",valueType:a,...f.normalizeParams(b)})}let a4=d.xI("ZodEnum",(a,b)=>{e.VO.init(a,b),l.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new a4({...b,checks:[],...f.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new a4({...b,checks:[],...f.normalizeParams(d),entries:e})}});function a5(a,b){return new a4({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...f.normalizeParams(b)})}function a6(a,b){return new a4({type:"enum",entries:a,...f.normalizeParams(b)})}let a7=d.xI("ZodLiteral",(a,b)=>{e.nu.init(a,b),l.init(a,b),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function a8(a,b){return new a7({type:"literal",values:Array.isArray(a)?a:[a],...f.normalizeParams(b)})}let a9=d.xI("ZodFile",(a,b)=>{e.CT.init(a,b),l.init(a,b),a.min=(b,c)=>a.check(h.Nd(b,c)),a.max=(b,c)=>a.check(h.vL(b,c)),a.mime=(b,c)=>a.check(h.GZ(Array.isArray(b)?b:[b],c))});function ba(a){return h.K2(a9,a)}let bb=d.xI("ZodTransform",(a,b)=>{e.Wc.init(a,b),l.init(a,b),a._zod.parse=(c,d)=>{c.addIssue=d=>{"string"==typeof d?c.issues.push(f.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),d.continue??(d.continue=!0),c.issues.push(f.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function bc(a){return new bb({type:"transform",transform:a})}let bd=d.xI("ZodOptional",(a,b)=>{e.ig.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType});function be(a){return new bd({type:"optional",innerType:a})}let bf=d.xI("ZodNullable",(a,b)=>{e.qc.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bg(a){return new bf({type:"nullable",innerType:a})}function bh(a){return be(bg(a))}let bi=d.xI("ZodDefault",(a,b)=>{e.rv.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function bj(a,b){return new bi({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})}let bk=d.xI("ZodPrefault",(a,b)=>{e.VF.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bl(a,b){return new bk({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})}let bm=d.xI("ZodNonOptional",(a,b)=>{e.N$.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bn(a,b){return new bm({type:"nonoptional",innerType:a,...f.normalizeParams(b)})}let bo=d.xI("ZodSuccess",(a,b)=>{e.Dw.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bp(a){return new bo({type:"success",innerType:a})}let bq=d.xI("ZodCatch",(a,b)=>{e.t$.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function br(a,b){return new bq({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let bs=d.xI("ZodNaN",(a,b)=>{e.zP.init(a,b),l.init(a,b)});function bt(a){return h.L4(bs,a)}let bu=d.xI("ZodPipe",(a,b)=>{e._m.init(a,b),l.init(a,b),a.in=b.in,a.out=b.out});function bv(a,b){return new bu({type:"pipe",in:a,out:b})}let bw=d.xI("ZodReadonly",(a,b)=>{e.Sb.init(a,b),l.init(a,b)});function bx(a){return new bw({type:"readonly",innerType:a})}let by=d.xI("ZodTemplateLiteral",(a,b)=>{e.d.init(a,b),l.init(a,b)});function bz(a,b){return new by({type:"template_literal",parts:a,...f.normalizeParams(b)})}let bA=d.xI("ZodLazy",(a,b)=>{e.kU.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.getter()});function bB(a){return new bA({type:"lazy",getter:a})}let bC=d.xI("ZodPromise",(a,b)=>{e.hA.init(a,b),l.init(a,b),a.unwrap=()=>a._zod.def.innerType});function bD(a){return new bC({type:"promise",innerType:a})}let bE=d.xI("ZodCustom",(a,b)=>{e.b0.init(a,b),l.init(a,b)});function bF(a){let b=new i.QP({check:"custom"});return b._zod.check=a,b}function bG(a,b){return h.FO(bE,a??(()=>!0),b)}function bH(a,b={}){return h.fU(bE,a,b)}function bI(a){let b=bF(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(f.issue(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(f.issue(a)))},a(c.value,c)));return b}function bJ(a,b={error:`Input not instance of ${a.name}`}){let c=new bE({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...f.normalizeParams(b)});return c._zod.bag.Class=a,c}let bK=(...a)=>h.fI({Pipe:bu,Boolean:an,String:n,Transform:bb},...a);function bL(a){let b=bB(()=>aS([o(a),ag(),ao(),az(),aL(b),a$(o(),b)]));return b}function bM(a,b){return bv(bc(a),b)}},13092:(a,b,c)=>{c.d(b,{Ch:()=>ab,Di:()=>F,Kq:()=>V,M3:()=>J,Tt:()=>A,b8:()=>ak,bD:()=>s,cj:()=>am,eM:()=>Z,hL:()=>w,iM:()=>ag,k9:()=>an,u1:()=>B,u6:()=>R,xn:()=>N});var d,e,f,g,h,i,j,k,l,m,n,o,p="vercel.ai.error",q=Symbol.for(p),r=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[d]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,p)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}};d=q;var s=r,t="AI_APICallError",u=`vercel.ai.error.${t}`,v=Symbol.for(u),w=class extends s{constructor({message:a,url:b,requestBodyValues:c,statusCode:d,responseHeaders:f,responseBody:g,cause:h,isRetryable:i=null!=d&&(408===d||409===d||429===d||d>=500),data:j}){super({name:t,message:a,cause:h}),this[e]=!0,this.url=b,this.requestBodyValues=c,this.statusCode=d,this.responseHeaders=f,this.responseBody=g,this.isRetryable=i,this.data=j}static isInstance(a){return s.hasMarker(a,u)}};e=v;var x="AI_EmptyResponseBodyError",y=`vercel.ai.error.${x}`,z=Symbol.for(y),A=class extends s{constructor({message:a="Empty response body"}={}){super({name:x,message:a}),this[f]=!0}static isInstance(a){return s.hasMarker(a,y)}};function B(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}f=z;var C="AI_InvalidArgumentError",D=`vercel.ai.error.${C}`,E=Symbol.for(D),F=class extends s{constructor({message:a,cause:b,argument:c}){super({name:C,message:a,cause:b}),this[g]=!0,this.argument=c}static isInstance(a){return s.hasMarker(a,D)}};g=E;var G="AI_InvalidPromptError",H=`vercel.ai.error.${G}`,I=Symbol.for(H),J=class extends s{constructor({prompt:a,message:b,cause:c}){super({name:G,message:`Invalid prompt: ${b}`,cause:c}),this[h]=!0,this.prompt=a}static isInstance(a){return s.hasMarker(a,H)}};h=I;var K="AI_InvalidResponseDataError",L=`vercel.ai.error.${K}`,M=Symbol.for(L),N=class extends s{constructor({data:a,message:b=`Invalid response data: ${JSON.stringify(a)}.`}){super({name:K,message:b}),this[i]=!0,this.data=a}static isInstance(a){return s.hasMarker(a,L)}};i=M;var O="AI_JSONParseError",P=`vercel.ai.error.${O}`,Q=Symbol.for(P),R=class extends s{constructor({text:a,cause:b}){super({name:O,message:`JSON parsing failed: Text: ${a}.
Error message: ${B(b)}`,cause:b}),this[j]=!0,this.text=a}static isInstance(a){return s.hasMarker(a,P)}};j=Q;var S="AI_LoadAPIKeyError",T=`vercel.ai.error.${S}`,U=Symbol.for(T),V=class extends s{constructor({message:a}){super({name:S,message:a}),this[k]=!0}static isInstance(a){return s.hasMarker(a,T)}};k=U,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var W="AI_NoSuchModelError",X=`vercel.ai.error.${W}`,Y=Symbol.for(X),Z=class extends s{constructor({errorName:a=W,modelId:b,modelType:c,message:d=`No such ${c}: ${b}`}){super({name:a,message:d}),this[l]=!0,this.modelId=b,this.modelType=c}static isInstance(a){return s.hasMarker(a,X)}};l=Y;var $="AI_TooManyEmbeddingValuesForCallError",_=`vercel.ai.error.${$}`,aa=Symbol.for(_),ab=class extends s{constructor(a){super({name:$,message:`Too many values for a single embedding call. The ${a.provider} model "${a.modelId}" can only embed up to ${a.maxEmbeddingsPerCall} values per call, but ${a.values.length} values were provided.`}),this[m]=!0,this.provider=a.provider,this.modelId=a.modelId,this.maxEmbeddingsPerCall=a.maxEmbeddingsPerCall,this.values=a.values}static isInstance(a){return s.hasMarker(a,_)}};m=aa;var ac="AI_TypeValidationError",ad=`vercel.ai.error.${ac}`,ae=Symbol.for(ad),af=class a extends s{constructor({value:a,cause:b}){super({name:ac,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${B(b)}`,cause:b}),this[n]=!0,this.value=a}static isInstance(a){return s.hasMarker(a,ad)}static wrap({value:b,cause:c}){return a.isInstance(c)&&c.value===b?c:new a({value:b,cause:c})}};n=ae;var ag=af,ah="AI_UnsupportedFunctionalityError",ai=`vercel.ai.error.${ah}`,aj=Symbol.for(ai),ak=class extends s{constructor({functionality:a,message:b=`'${a}' functionality not supported.`}){super({name:ah,message:b}),this[o]=!0,this.functionality=a}static isInstance(a){return s.hasMarker(a,ai)}};function al(a){return null===a||"string"==typeof a||"number"==typeof a||"boolean"==typeof a||(Array.isArray(a)?a.every(al):"object"==typeof a&&Object.entries(a).every(([a,b])=>"string"==typeof a&&al(b)))}function am(a){return Array.isArray(a)&&a.every(al)}function an(a){return null!=a&&"object"==typeof a&&Object.entries(a).every(([a,b])=>"string"==typeof a&&al(b))}o=aj},15344:(a,b,c)=>{c.d(b,{r:()=>d});let d={major:4,minor:0,patch:0}},26961:(a,b,c)=>{c.r(b),c.d(b,{bigint:()=>i,boolean:()=>h,date:()=>j,number:()=>g,string:()=>f});var d=c(89901),e=c(10522);function f(a){return d.K_(e.ND,a)}function g(a){return d.qG(e.rS,a)}function h(a){return d.dN(e.WF,a)}function i(a){return d.St(e.Lr,a)}function j(a){return d.B4(e.aP,a)}},30851:(a,b,c)=>{c.d(b,{NJ:()=>az});var d=c(96075),e=c(13092),f=c(10522),g=c(26961),h=f.Ik({error:f.Ik({message:f.Yj(),type:f.Yj().nullish(),param:f.bz().nullish(),code:f.KC([f.Yj(),f.ai()]).nullish()})}),i=(0,d.sl)({errorSchema:h,errorToMessage:a=>a.error.message});function j({id:a,model:b,created:c}){return{id:null!=a?a:void 0,modelId:null!=b?b:void 0,timestamp:null!=c?new Date(1e3*c):void 0}}function k(a){switch(a){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var l=f.Ik({logitBias:f.g1(g.number(),f.ai()).optional(),logprobs:f.KC([f.zM(),f.ai()]).optional(),parallelToolCalls:f.zM().optional(),user:f.Yj().optional(),reasoningEffort:f.k5(["minimal","low","medium","high"]).optional(),maxCompletionTokens:f.ai().optional(),store:f.zM().optional(),metadata:f.g1(f.Yj().max(64),f.Yj().max(512)).optional(),prediction:f.g1(f.Yj(),f.bz()).optional(),structuredOutputs:f.zM().optional(),serviceTier:f.k5(["auto","flex","priority"]).optional(),strictJsonSchema:f.zM().optional(),textVerbosity:f.k5(["low","medium","high"]).optional(),promptCacheKey:f.Yj().optional(),safetyIdentifier:f.Yj().optional()}),m=class{constructor(a,b){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=a,this.config=b}get provider(){return this.config.provider}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:f,topK:g,frequencyPenalty:h,presencePenalty:i,stopSequences:j,responseFormat:k,seed:m,tools:n,toolChoice:o,providerOptions:p}){var s,t,u,v,w,x,y,z,A;let B=[],C=null!=(s=await (0,d.xI)({provider:"openai",providerOptions:p,schema:l}))?s:{},D=null==(t=C.structuredOutputs)||t;null!=g&&B.push({type:"unsupported-setting",setting:"topK"}),(null==k?void 0:k.type)!=="json"||null==k.schema||D||B.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:E,warnings:F}=function({prompt:a,systemMessageMode:b="system"}){let c=[],f=[];for(let{role:g,content:h}of a)switch(g){case"system":switch(b){case"system":c.push({role:"system",content:h});break;case"developer":c.push({role:"developer",content:h});break;case"remove":f.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${b}`)}break;case"user":if(1===h.length&&"text"===h[0].type){c.push({role:"user",content:h[0].text});break}c.push({role:"user",content:h.map((a,b)=>{var c,f,g;switch(a.type){case"text":return{type:"text",text:a.text};case"file":if(a.mediaType.startsWith("image/")){let b="image/*"===a.mediaType?"image/jpeg":a.mediaType;return{type:"image_url",image_url:{url:a.data instanceof URL?a.data.toString():`data:${b};base64,${(0,d.ej)(a.data)}`,detail:null==(f=null==(c=a.providerOptions)?void 0:c.openai)?void 0:f.imageDetail}}}if(a.mediaType.startsWith("audio/")){if(a.data instanceof URL)throw new e.b8({functionality:"audio file parts with URLs"});switch(a.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:(0,d.ej)(a.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:(0,d.ej)(a.data),format:"mp3"}};default:throw new e.b8({functionality:`audio content parts with media type ${a.mediaType}`})}}if("application/pdf"===a.mediaType){if(a.data instanceof URL)throw new e.b8({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"==typeof a.data&&a.data.startsWith("file-")?{file_id:a.data}:{filename:null!=(g=a.filename)?g:`part-${b}.pdf`,file_data:`data:application/pdf;base64,${(0,d.ej)(a.data)}`}}}else throw new e.b8({functionality:`file part media type ${a.mediaType}`})}})});break;case"assistant":{let a="",b=[];for(let c of h)switch(c.type){case"text":a+=c.text;break;case"tool-call":b.push({id:c.toolCallId,type:"function",function:{name:c.toolName,arguments:JSON.stringify(c.input)}})}c.push({role:"assistant",content:a,tool_calls:b.length>0?b:void 0});break}case"tool":for(let a of h){let b,d=a.output;switch(d.type){case"text":case"error-text":b=d.value;break;case"content":case"json":case"error-json":b=JSON.stringify(d.value)}c.push({role:"tool",tool_call_id:a.toolCallId,content:b})}break;default:throw Error(`Unsupported role: ${g}`)}return{messages:c,warnings:f}}({prompt:a,systemMessageMode:q(w=this.modelId)?null!=(y=null==(x=r[w])?void 0:x.systemMessageMode)?y:"developer":"system"});B.push(...F);let G=null!=(u=C.strictJsonSchema)&&u,H={model:this.modelId,logit_bias:C.logitBias,logprobs:!0===C.logprobs||"number"==typeof C.logprobs||void 0,top_logprobs:"number"==typeof C.logprobs?C.logprobs:"boolean"==typeof C.logprobs&&C.logprobs?0:void 0,user:C.user,parallel_tool_calls:C.parallelToolCalls,max_tokens:b,temperature:c,top_p:f,frequency_penalty:h,presence_penalty:i,response_format:(null==k?void 0:k.type)==="json"?D&&null!=k.schema?{type:"json_schema",json_schema:{schema:k.schema,strict:G,name:null!=(v=k.name)?v:"response",description:k.description}}:{type:"json_object"}:void 0,stop:j,seed:m,verbosity:C.textVerbosity,max_completion_tokens:C.maxCompletionTokens,store:C.store,metadata:C.metadata,prediction:C.prediction,reasoning_effort:C.reasoningEffort,service_tier:C.serviceTier,prompt_cache_key:C.promptCacheKey,safety_identifier:C.safetyIdentifier,messages:E};q(this.modelId)?(null!=H.temperature&&(H.temperature=void 0,B.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=H.top_p&&(H.top_p=void 0,B.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=H.frequency_penalty&&(H.frequency_penalty=void 0,B.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=H.presence_penalty&&(H.presence_penalty=void 0,B.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=H.logit_bias&&(H.logit_bias=void 0,B.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=H.logprobs&&(H.logprobs=void 0,B.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=H.top_logprobs&&(H.top_logprobs=void 0,B.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=H.max_tokens&&(null==H.max_completion_tokens&&(H.max_completion_tokens=H.max_tokens),H.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=H.temperature&&(H.temperature=void 0,B.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==C.serviceTier||(z=this.modelId).startsWith("o3")||z.startsWith("o4-mini")||z.startsWith("gpt-5")&&!z.startsWith("gpt-5-chat")||(B.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),H.service_tier=void 0),"priority"!==C.serviceTier||(A=this.modelId).startsWith("gpt-4")||A.startsWith("gpt-5-mini")||A.startsWith("gpt-5")&&!A.startsWith("gpt-5-nano")&&!A.startsWith("gpt-5-chat")||A.startsWith("o3")||A.startsWith("o4-mini")||(B.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),H.service_tier=void 0);let{tools:I,toolChoice:J,toolWarnings:K}=function({tools:a,toolChoice:b,structuredOutputs:c,strictJsonSchema:d}){a=(null==a?void 0:a.length)?a:void 0;let f=[];if(null==a)return{tools:void 0,toolChoice:void 0,toolWarnings:f};let g=[];for(let b of a)"function"===b.type?g.push({type:"function",function:{name:b.name,description:b.description,parameters:b.inputSchema,strict:c?d:void 0}}):f.push({type:"unsupported-tool",tool:b});if(null==b)return{tools:g,toolChoice:void 0,toolWarnings:f};let h=b.type;switch(h){case"auto":case"none":case"required":return{tools:g,toolChoice:h,toolWarnings:f};case"tool":return{tools:g,toolChoice:{type:"function",function:{name:b.toolName}},toolWarnings:f};default:throw new e.b8({functionality:`tool choice type: ${h}`})}}({tools:n,toolChoice:o,structuredOutputs:D,strictJsonSchema:G});return{args:{...H,tools:I,tool_choice:J},warnings:[...B,...K]}}async doGenerate(a){var b,c,e,f,g,h,l,m,n,p,q,r,s,t;let{args:u,warnings:v}=await this.getArgs(a),{responseHeaders:w,value:x,rawValue:y}=await (0,d.GU)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),body:u,failedResponseHandler:i,successfulResponseHandler:(0,d.cV)(o),abortSignal:a.abortSignal,fetch:this.config.fetch}),z=x.choices[0],A=[],B=z.message.content;for(let a of(null!=B&&B.length>0&&A.push({type:"text",text:B}),null!=(b=z.message.tool_calls)?b:[]))A.push({type:"tool-call",toolCallId:null!=(c=a.id)?c:(0,d.$C)(),toolName:a.function.name,input:a.function.arguments});for(let a of null!=(e=z.message.annotations)?e:[])A.push({type:"source",sourceType:"url",id:(0,d.$C)(),url:a.url,title:a.title});let C=null==(f=x.usage)?void 0:f.completion_tokens_details,D=null==(g=x.usage)?void 0:g.prompt_tokens_details,E={openai:{}};return(null==C?void 0:C.accepted_prediction_tokens)!=null&&(E.openai.acceptedPredictionTokens=null==C?void 0:C.accepted_prediction_tokens),(null==C?void 0:C.rejected_prediction_tokens)!=null&&(E.openai.rejectedPredictionTokens=null==C?void 0:C.rejected_prediction_tokens),(null==(h=z.logprobs)?void 0:h.content)!=null&&(E.openai.logprobs=z.logprobs.content),{content:A,finishReason:k(z.finish_reason),usage:{inputTokens:null!=(m=null==(l=x.usage)?void 0:l.prompt_tokens)?m:void 0,outputTokens:null!=(p=null==(n=x.usage)?void 0:n.completion_tokens)?p:void 0,totalTokens:null!=(r=null==(q=x.usage)?void 0:q.total_tokens)?r:void 0,reasoningTokens:null!=(s=null==C?void 0:C.reasoning_tokens)?s:void 0,cachedInputTokens:null!=(t=null==D?void 0:D.cached_tokens)?t:void 0},request:{body:u},response:{...j(x),headers:w,body:y},warnings:v,providerMetadata:E}}async doStream(a){let{args:b,warnings:c}=await this.getArgs(a),f={...b,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:g,value:h}=await (0,d.GU)({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),body:f,failedResponseHandler:i,successfulResponseHandler:(0,d.Ds)(p),abortSignal:a.abortSignal,fetch:this.config.fetch}),l=[],m="unknown",n={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},o=!0,q=!1,r={openai:{}};return{stream:h.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:c})},transform(b,c){var f,g,h,i,p,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;if(a.includeRawChunks&&c.enqueue({type:"raw",rawValue:b.rawValue}),!b.success){m="error",c.enqueue({type:"error",error:b.error});return}let L=b.value;if("error"in L){m="error",c.enqueue({type:"error",error:L.error});return}o&&(o=!1,c.enqueue({type:"response-metadata",...j(L)})),null!=L.usage&&(n.inputTokens=null!=(f=L.usage.prompt_tokens)?f:void 0,n.outputTokens=null!=(g=L.usage.completion_tokens)?g:void 0,n.totalTokens=null!=(h=L.usage.total_tokens)?h:void 0,n.reasoningTokens=null!=(p=null==(i=L.usage.completion_tokens_details)?void 0:i.reasoning_tokens)?p:void 0,n.cachedInputTokens=null!=(t=null==(s=L.usage.prompt_tokens_details)?void 0:s.cached_tokens)?t:void 0,(null==(u=L.usage.completion_tokens_details)?void 0:u.accepted_prediction_tokens)!=null&&(r.openai.acceptedPredictionTokens=null==(v=L.usage.completion_tokens_details)?void 0:v.accepted_prediction_tokens),(null==(w=L.usage.completion_tokens_details)?void 0:w.rejected_prediction_tokens)!=null&&(r.openai.rejectedPredictionTokens=null==(x=L.usage.completion_tokens_details)?void 0:x.rejected_prediction_tokens));let M=L.choices[0];if((null==M?void 0:M.finish_reason)!=null&&(m=k(M.finish_reason)),(null==(y=null==M?void 0:M.logprobs)?void 0:y.content)!=null&&(r.openai.logprobs=M.logprobs.content),(null==M?void 0:M.delta)==null)return;let N=M.delta;if(null!=N.content&&(q||(c.enqueue({type:"text-start",id:"0"}),q=!0),c.enqueue({type:"text-delta",id:"0",delta:N.content})),null!=N.tool_calls)for(let a of N.tool_calls){let b=a.index;if(null==l[b]){if("function"!==a.type)throw new e.xn({data:a,message:"Expected 'function' type."});if(null==a.id)throw new e.xn({data:a,message:"Expected 'id' to be a string."});if((null==(z=a.function)?void 0:z.name)==null)throw new e.xn({data:a,message:"Expected 'function.name' to be a string."});c.enqueue({type:"tool-input-start",id:a.id,toolName:a.function.name}),l[b]={id:a.id,type:"function",function:{name:a.function.name,arguments:null!=(A=a.function.arguments)?A:""},hasFinished:!1};let f=l[b];(null==(B=f.function)?void 0:B.name)!=null&&(null==(C=f.function)?void 0:C.arguments)!=null&&(f.function.arguments.length>0&&c.enqueue({type:"tool-input-delta",id:f.id,delta:f.function.arguments}),(0,d.v0)(f.function.arguments)&&(c.enqueue({type:"tool-input-end",id:f.id}),c.enqueue({type:"tool-call",toolCallId:null!=(D=f.id)?D:(0,d.$C)(),toolName:f.function.name,input:f.function.arguments}),f.hasFinished=!0));continue}let f=l[b];!f.hasFinished&&((null==(E=a.function)?void 0:E.arguments)!=null&&(f.function.arguments+=null!=(G=null==(F=a.function)?void 0:F.arguments)?G:""),c.enqueue({type:"tool-input-delta",id:f.id,delta:null!=(H=a.function.arguments)?H:""}),(null==(I=f.function)?void 0:I.name)!=null&&(null==(J=f.function)?void 0:J.arguments)!=null&&(0,d.v0)(f.function.arguments)&&(c.enqueue({type:"tool-input-end",id:f.id}),c.enqueue({type:"tool-call",toolCallId:null!=(K=f.id)?K:(0,d.$C)(),toolName:f.function.name,input:f.function.arguments}),f.hasFinished=!0))}if(null!=N.annotations)for(let a of N.annotations)c.enqueue({type:"source",sourceType:"url",id:(0,d.$C)(),url:a.url,title:a.title})},flush(a){q&&a.enqueue({type:"text-end",id:"0"}),a.enqueue({type:"finish",finishReason:m,usage:n,...null!=r?{providerMetadata:r}:{}})}})),request:{body:f},response:{headers:g}}}},n=f.Ik({prompt_tokens:f.ai().nullish(),completion_tokens:f.ai().nullish(),total_tokens:f.ai().nullish(),prompt_tokens_details:f.Ik({cached_tokens:f.ai().nullish()}).nullish(),completion_tokens_details:f.Ik({reasoning_tokens:f.ai().nullish(),accepted_prediction_tokens:f.ai().nullish(),rejected_prediction_tokens:f.ai().nullish()}).nullish()}).nullish(),o=f.Ik({id:f.Yj().nullish(),created:f.ai().nullish(),model:f.Yj().nullish(),choices:f.YO(f.Ik({message:f.Ik({role:f.eu("assistant").nullish(),content:f.Yj().nullish(),tool_calls:f.YO(f.Ik({id:f.Yj().nullish(),type:f.eu("function"),function:f.Ik({name:f.Yj(),arguments:f.Yj()})})).nullish(),annotations:f.YO(f.Ik({type:f.eu("url_citation"),start_index:f.ai(),end_index:f.ai(),url:f.Yj(),title:f.Yj()})).nullish()}),index:f.ai(),logprobs:f.Ik({content:f.YO(f.Ik({token:f.Yj(),logprob:f.ai(),top_logprobs:f.YO(f.Ik({token:f.Yj(),logprob:f.ai()}))})).nullish()}).nullish(),finish_reason:f.Yj().nullish()})),usage:n}),p=f.KC([f.Ik({id:f.Yj().nullish(),created:f.ai().nullish(),model:f.Yj().nullish(),choices:f.YO(f.Ik({delta:f.Ik({role:f.k5(["assistant"]).nullish(),content:f.Yj().nullish(),tool_calls:f.YO(f.Ik({index:f.ai(),id:f.Yj().nullish(),type:f.eu("function").nullish(),function:f.Ik({name:f.Yj().nullish(),arguments:f.Yj().nullish()})})).nullish(),annotations:f.YO(f.Ik({type:f.eu("url_citation"),start_index:f.ai(),end_index:f.ai(),url:f.Yj(),title:f.Yj()})).nullish()}).nullish(),logprobs:f.Ik({content:f.YO(f.Ik({token:f.Yj(),logprob:f.ai(),top_logprobs:f.YO(f.Ik({token:f.Yj(),logprob:f.ai()}))})).nullish()}).nullish(),finish_reason:f.Yj().nullish(),index:f.ai()})),usage:n}),h]);function q(a){return(a.startsWith("o")||a.startsWith("gpt-5"))&&!a.startsWith("gpt-5-chat")}var r={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function s({id:a,model:b,created:c}){return{id:null!=a?a:void 0,modelId:null!=b?b:void 0,timestamp:null!=c?new Date(1e3*c):void 0}}function t(a){switch(a){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var u=f.Ik({echo:f.zM().optional(),logitBias:f.g1(f.Yj(),f.ai()).optional(),suffix:f.Yj().optional(),user:f.Yj().optional(),logprobs:f.KC([f.zM(),f.ai()]).optional()}),v=class{constructor(a,b){this.specificationVersion="v2",this.supportedUrls={},this.modelId=a,this.config=b}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:a,maxOutputTokens:b,temperature:c,topP:f,topK:g,frequencyPenalty:h,presencePenalty:i,stopSequences:j,responseFormat:k,tools:l,toolChoice:m,seed:n,providerOptions:o}){let p=[],q={...await (0,d.xI)({provider:"openai",providerOptions:o,schema:u}),...await (0,d.xI)({provider:this.providerOptionsName,providerOptions:o,schema:u})};null!=g&&p.push({type:"unsupported-setting",setting:"topK"}),(null==l?void 0:l.length)&&p.push({type:"unsupported-setting",setting:"tools"}),null!=m&&p.push({type:"unsupported-setting",setting:"toolChoice"}),null!=k&&"text"!==k.type&&p.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:r,stopSequences:s}=function({prompt:a,user:b="user",assistant:c="assistant"}){let d="";for(let{role:f,content:g}of("system"===a[0].role&&(d+=`${a[0].content}

`,a=a.slice(1)),a))switch(f){case"system":throw new e.M3({message:"Unexpected system message in prompt: ${content}",prompt:a});case"user":{let a=g.map(a=>{if("text"===a.type)return a.text}).filter(Boolean).join("");d+=`${b}:
${a}

`;break}case"assistant":{let a=g.map(a=>{switch(a.type){case"text":return a.text;case"tool-call":throw new e.b8({functionality:"tool-call messages"})}}).join("");d+=`${c}:
${a}

`;break}case"tool":throw new e.b8({functionality:"tool messages"});default:throw Error(`Unsupported role: ${f}`)}return{prompt:d+=`${c}:
`,stopSequences:[`
${b}:`]}}({prompt:a}),t=[...null!=s?s:[],...null!=j?j:[]];return{args:{model:this.modelId,echo:q.echo,logit_bias:q.logitBias,logprobs:(null==q?void 0:q.logprobs)===!0?0:(null==q?void 0:q.logprobs)===!1||null==q?void 0:q.logprobs,suffix:q.suffix,user:q.user,max_tokens:b,temperature:c,top_p:f,frequency_penalty:h,presence_penalty:i,seed:n,prompt:r,stop:t.length>0?t:void 0},warnings:p}}async doGenerate(a){var b,c,e;let{args:f,warnings:g}=await this.getArgs(a),{responseHeaders:h,value:j,rawValue:k}=await (0,d.GU)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),body:f,failedResponseHandler:i,successfulResponseHandler:(0,d.cV)(x),abortSignal:a.abortSignal,fetch:this.config.fetch}),l=j.choices[0],m={openai:{}};return null!=l.logprobs&&(m.openai.logprobs=l.logprobs),{content:[{type:"text",text:l.text}],usage:{inputTokens:null==(b=j.usage)?void 0:b.prompt_tokens,outputTokens:null==(c=j.usage)?void 0:c.completion_tokens,totalTokens:null==(e=j.usage)?void 0:e.total_tokens},finishReason:t(l.finish_reason),request:{body:f},response:{...s(j),headers:h,body:k},providerMetadata:m,warnings:g}}async doStream(a){let{args:b,warnings:c}=await this.getArgs(a),e={...b,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:f,value:g}=await (0,d.GU)({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),body:e,failedResponseHandler:i,successfulResponseHandler:(0,d.Ds)(y),abortSignal:a.abortSignal,fetch:this.config.fetch}),h="unknown",j={openai:{}},k={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},l=!0;return{stream:g.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:c})},transform(b,c){if(a.includeRawChunks&&c.enqueue({type:"raw",rawValue:b.rawValue}),!b.success){h="error",c.enqueue({type:"error",error:b.error});return}let d=b.value;if("error"in d){h="error",c.enqueue({type:"error",error:d.error});return}l&&(l=!1,c.enqueue({type:"response-metadata",...s(d)}),c.enqueue({type:"text-start",id:"0"})),null!=d.usage&&(k.inputTokens=d.usage.prompt_tokens,k.outputTokens=d.usage.completion_tokens,k.totalTokens=d.usage.total_tokens);let e=d.choices[0];(null==e?void 0:e.finish_reason)!=null&&(h=t(e.finish_reason)),(null==e?void 0:e.logprobs)!=null&&(j.openai.logprobs=e.logprobs),(null==e?void 0:e.text)!=null&&e.text.length>0&&c.enqueue({type:"text-delta",id:"0",delta:e.text})},flush(a){l||a.enqueue({type:"text-end",id:"0"}),a.enqueue({type:"finish",finishReason:h,providerMetadata:j,usage:k})}})),request:{body:e},response:{headers:f}}}},w=f.Ik({prompt_tokens:f.ai(),completion_tokens:f.ai(),total_tokens:f.ai()}),x=f.Ik({id:f.Yj().nullish(),created:f.ai().nullish(),model:f.Yj().nullish(),choices:f.YO(f.Ik({text:f.Yj(),finish_reason:f.Yj(),logprobs:f.Ik({tokens:f.YO(f.Yj()),token_logprobs:f.YO(f.ai()),top_logprobs:f.YO(f.g1(f.Yj(),f.ai())).nullish()}).nullish()})),usage:w.nullish()}),y=f.KC([f.Ik({id:f.Yj().nullish(),created:f.ai().nullish(),model:f.Yj().nullish(),choices:f.YO(f.Ik({text:f.Yj(),finish_reason:f.Yj().nullish(),index:f.ai(),logprobs:f.Ik({tokens:f.YO(f.Yj()),token_logprobs:f.YO(f.ai()),top_logprobs:f.YO(f.g1(f.Yj(),f.ai())).nullish()}).nullish()})),usage:w.nullish()}),h]),z=f.Ik({dimensions:f.ai().optional(),user:f.Yj().optional()}),A=class{constructor(a,b){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=a,this.config=b}get provider(){return this.config.provider}async doEmbed({values:a,headers:b,abortSignal:c,providerOptions:f}){var g;if(a.length>this.maxEmbeddingsPerCall)throw new e.Ch({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:a});let h=null!=(g=await (0,d.xI)({provider:"openai",providerOptions:f,schema:z}))?g:{},{responseHeaders:j,value:k,rawValue:l}=await (0,d.GU)({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),b),body:{model:this.modelId,input:a,encoding_format:"float",dimensions:h.dimensions,user:h.user},failedResponseHandler:i,successfulResponseHandler:(0,d.cV)(B),abortSignal:c,fetch:this.config.fetch});return{embeddings:k.data.map(a=>a.embedding),usage:k.usage?{tokens:k.usage.prompt_tokens}:void 0,response:{headers:j,body:l}}}},B=f.Ik({data:f.YO(f.Ik({embedding:f.YO(f.ai())})),usage:f.Ik({prompt_tokens:f.ai()}).nullish()}),C={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},D=new Set(["gpt-image-1"]),E=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v2"}get maxImagesPerCall(){var a;return null!=(a=C[this.modelId])?a:1}get provider(){return this.config.provider}async doGenerate({prompt:a,n:b,size:c,aspectRatio:e,seed:f,providerOptions:g,headers:h,abortSignal:j}){var k,l,m,n;let o=[];null!=e&&o.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=f&&o.push({type:"unsupported-setting",setting:"seed"});let p=null!=(m=null==(l=null==(k=this.config._internal)?void 0:k.currentDate)?void 0:l.call(k))?m:new Date,{value:q,responseHeaders:r}=await (0,d.GU)({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),h),body:{model:this.modelId,prompt:a,n:b,size:c,...null!=(n=g.openai)?n:{},...!D.has(this.modelId)?{response_format:"b64_json"}:{}},failedResponseHandler:i,successfulResponseHandler:(0,d.cV)(F),abortSignal:j,fetch:this.config.fetch});return{images:q.data.map(a=>a.b64_json),warnings:o,response:{timestamp:p,modelId:this.modelId,headers:r},providerMetadata:{openai:{images:q.data.map(a=>a.revised_prompt?{revisedPrompt:a.revised_prompt}:null)}}}}},F=f.Ik({data:f.YO(f.Ik({b64_json:f.Yj(),revised_prompt:f.Yj().optional()}))}),G=f.Ik({code:f.Yj().nullish(),containerId:f.Yj()}),H=f.Ik({outputs:f.YO(f.gM("type",[f.Ik({type:f.eu("logs"),logs:f.Yj()}),f.Ik({type:f.eu("image"),url:f.Yj()})])).nullish()}),I=f.Ik({container:f.KC([f.Yj(),f.Ik({fileIds:f.YO(f.Yj()).optional()})]).optional()}),J=(0,d.J2)({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:G,outputSchema:H}),K=f.Ik({key:f.Yj(),type:f.k5(["eq","ne","gt","gte","lt","lte"]),value:f.KC([f.Yj(),f.ai(),f.zM()])}),L=f.Ik({type:f.k5(["and","or"]),filters:f.YO(f.KC([K,f.RZ(()=>L)]))}),M=f.Ik({vectorStoreIds:f.YO(f.Yj()),maxNumResults:f.ai().optional(),ranking:f.Ik({ranker:f.Yj().optional(),scoreThreshold:f.ai().optional()}).optional(),filters:f.KC([K,L]).optional()}),N=f.Ik({queries:f.YO(f.Yj()),results:f.YO(f.Ik({attributes:f.g1(f.Yj(),f.L5()),fileId:f.Yj(),filename:f.Yj(),score:f.ai(),text:f.Yj()})).nullable()}),O=(0,d.J2)({id:"openai.file_search",name:"file_search",inputSchema:f.Ik({}),outputSchema:N}),P=f.Ik({background:f.k5(["auto","opaque","transparent"]).optional(),inputFidelity:f.k5(["low","high"]).optional(),inputImageMask:f.Ik({fileId:f.Yj().optional(),imageUrl:f.Yj().optional()}).optional(),model:f.Yj().optional(),moderation:f.k5(["auto"]).optional(),outputCompression:f.ai().int().min(0).max(100).optional(),outputFormat:f.k5(["png","jpeg","webp"]).optional(),quality:f.k5(["auto","low","medium","high"]).optional(),size:f.k5(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict(),Q=f.Ik({result:f.Yj()}),R=(0,d.J2)({id:"openai.image_generation",name:"image_generation",inputSchema:f.Ik({}),outputSchema:Q}),S=f.Ik({filters:f.Ik({allowedDomains:f.YO(f.Yj()).optional()}).optional(),searchContextSize:f.k5(["low","medium","high"]).optional(),userLocation:f.Ik({type:f.eu("approximate"),country:f.Yj().optional(),city:f.Yj().optional(),region:f.Yj().optional(),timezone:f.Yj().optional()}).optional()}),T=(0,d.hL)({id:"openai.web_search",name:"web_search",inputSchema:f.Ik({action:f.gM("type",[f.Ik({type:f.eu("search"),query:f.Yj().nullish()}),f.Ik({type:f.eu("open_page"),url:f.Yj()}),f.Ik({type:f.eu("find"),url:f.Yj(),pattern:f.Yj()})]).nullish()})}),U=f.Ik({searchContextSize:f.k5(["low","medium","high"]).optional(),userLocation:f.Ik({type:f.eu("approximate"),country:f.Yj().optional(),city:f.Yj().optional(),region:f.Yj().optional(),timezone:f.Yj().optional()}).optional()}),V={codeInterpreter:(a={})=>J(a),fileSearch:O,imageGeneration:(a={})=>R(a),webSearchPreview:(0,d.hL)({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:f.Ik({action:f.gM("type",[f.Ik({type:f.eu("search"),query:f.Yj().nullish()}),f.Ik({type:f.eu("open_page"),url:f.Yj()}),f.Ik({type:f.eu("find"),url:f.Yj(),pattern:f.Yj()})]).nullish()})}),webSearch:(a={})=>T(a)};function W(a,b){return!!b&&b.some(b=>a.startsWith(b))}async function X({prompt:a,systemMessageMode:b,fileIdPrefixes:c,store:f}){var g,h,i,j,k,l;let m=[],n=[];for(let{role:o,content:p}of a)switch(o){case"system":switch(b){case"system":m.push({role:"system",content:p});break;case"developer":m.push({role:"developer",content:p});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${b}`)}break;case"user":m.push({role:"user",content:p.map((a,b)=>{var f,g,h;switch(a.type){case"text":return{type:"input_text",text:a.text};case"file":if(a.mediaType.startsWith("image/")){let b="image/*"===a.mediaType?"image/jpeg":a.mediaType;return{type:"input_image",...a.data instanceof URL?{image_url:a.data.toString()}:"string"==typeof a.data&&W(a.data,c)?{file_id:a.data}:{image_url:`data:${b};base64,${(0,d.ej)(a.data)}`},detail:null==(g=null==(f=a.providerOptions)?void 0:f.openai)?void 0:g.imageDetail}}if("application/pdf"===a.mediaType){if(a.data instanceof URL)return{type:"input_file",file_url:a.data.toString()};return{type:"input_file",..."string"==typeof a.data&&W(a.data,c)?{file_id:a.data}:{filename:null!=(h=a.filename)?h:`part-${b}.pdf`,file_data:`data:application/pdf;base64,${(0,d.ej)(a.data)}`}}}throw new e.b8({functionality:`file part media type ${a.mediaType}`})}})});break;case"assistant":{let a={},b={};for(let c of p)switch(c.type){case"text":m.push({role:"assistant",content:[{type:"output_text",text:c.text}],id:null!=(i=null==(h=null==(g=c.providerOptions)?void 0:g.openai)?void 0:h.itemId)?i:void 0});break;case"tool-call":if(b[c.toolCallId]=c,c.providerExecuted)break;m.push({type:"function_call",call_id:c.toolCallId,name:c.toolName,arguments:JSON.stringify(c.input),id:null!=(l=null==(k=null==(j=c.providerOptions)?void 0:j.openai)?void 0:k.itemId)?l:void 0});break;case"tool-result":f?m.push({type:"item_reference",id:c.toolCallId}):n.push({type:"other",message:`Results for OpenAI tool ${c.toolName} are not sent to the API when store is false`});break;case"reasoning":{let b=await (0,d.xI)({provider:"openai",providerOptions:c.providerOptions,schema:Y}),e=null==b?void 0:b.itemId;if(null!=e){let d=a[e],f=[];c.text.length>0?f.push({type:"summary_text",text:c.text}):void 0!==d&&n.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(c)}.`}),void 0===d?(a[e]={type:"reasoning",id:e,encrypted_content:null==b?void 0:b.reasoningEncryptedContent,summary:f},m.push(a[e])):d.summary.push(...f)}else n.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(c)}.`})}}break}case"tool":for(let a of p){let b,c=a.output;switch(c.type){case"text":case"error-text":b=c.value;break;case"content":case"json":case"error-json":b=JSON.stringify(c.value)}m.push({type:"function_call_output",call_id:a.toolCallId,output:b})}break;default:throw Error(`Unsupported role: ${o}`)}return{input:m,warnings:n}}var Y=f.Ik({itemId:f.Yj().nullish(),reasoningEncryptedContent:f.Yj().nullish()});function Z({finishReason:a,hasFunctionCall:b}){switch(a){case void 0:case null:return b?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return b?"tool-calls":"unknown"}}var $=f.Ik({type:f.eu("web_search_call"),id:f.Yj(),status:f.Yj(),action:f.gM("type",[f.Ik({type:f.eu("search"),query:f.Yj().nullish()}),f.Ik({type:f.eu("open_page"),url:f.Yj()}),f.Ik({type:f.eu("find"),url:f.Yj(),pattern:f.Yj()})]).nullish()}),_=f.Ik({type:f.eu("file_search_call"),id:f.Yj(),queries:f.YO(f.Yj()),results:f.YO(f.Ik({attributes:f.g1(f.Yj(),f.L5()),file_id:f.Yj(),filename:f.Yj(),score:f.ai(),text:f.Yj()})).nullish()}),aa=f.Ik({type:f.eu("code_interpreter_call"),id:f.Yj(),code:f.Yj().nullable(),container_id:f.Yj(),outputs:f.YO(f.gM("type",[f.Ik({type:f.eu("logs"),logs:f.Yj()}),f.Ik({type:f.eu("image"),url:f.Yj()})])).nullable()}),ab=f.Ik({type:f.eu("image_generation_call"),id:f.Yj(),result:f.Yj()}),ac=f.YO(f.Ik({token:f.Yj(),logprob:f.ai(),top_logprobs:f.YO(f.Ik({token:f.Yj(),logprob:f.ai()}))})),ad=class{constructor(a,b){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=a,this.config=b}get provider(){return this.config.provider}async getArgs({maxOutputTokens:a,temperature:b,stopSequences:c,topP:f,topK:g,presencePenalty:h,frequencyPenalty:i,seed:j,prompt:k,providerOptions:l,tools:m,toolChoice:n,responseFormat:o}){var p,q,r,s;let t=[],u=function(a){let b={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:a.startsWith("o3")||a.startsWith("o4-mini")||a.startsWith("gpt-5")&&!a.startsWith("gpt-5-chat"),supportsPriorityProcessing:a.startsWith("gpt-4")||a.startsWith("gpt-5-mini")||a.startsWith("gpt-5")&&!a.startsWith("gpt-5-nano")&&!a.startsWith("gpt-5-chat")||a.startsWith("o3")||a.startsWith("o4-mini")};return a.startsWith("gpt-5-chat")?{...b,isReasoningModel:!1}:a.startsWith("o")||a.startsWith("gpt-5")||a.startsWith("codex-")||a.startsWith("computer-use")?a.startsWith("o1-mini")||a.startsWith("o1-preview")?{...b,isReasoningModel:!0,systemMessageMode:"remove"}:{...b,isReasoningModel:!0,systemMessageMode:"developer"}:{...b,isReasoningModel:!1}}(this.modelId);null!=g&&t.push({type:"unsupported-setting",setting:"topK"}),null!=j&&t.push({type:"unsupported-setting",setting:"seed"}),null!=h&&t.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=i&&t.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=c&&t.push({type:"unsupported-setting",setting:"stopSequences"});let v=await (0,d.xI)({provider:"openai",providerOptions:l,schema:as}),{input:w,warnings:x}=await X({prompt:k,systemMessageMode:u.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(p=null==v?void 0:v.store)||p});t.push(...x);let y=null!=(q=null==v?void 0:v.strictJsonSchema)&&q,z=null==v?void 0:v.include;function A(a){z=null!=z?[...z,a]:[a]}let B="number"==typeof(null==v?void 0:v.logprobs)?null==v?void 0:v.logprobs:(null==v?void 0:v.logprobs)===!0?20:void 0;B&&A("message.output_text.logprobs");let C=null==(r=null==m?void 0:m.find(a=>"provider-defined"===a.type&&("openai.web_search"===a.id||"openai.web_search_preview"===a.id)))?void 0:r.name;C&&A("web_search_call.action.sources"),(null==m?void 0:m.find(a=>"provider-defined"===a.type&&"openai.code_interpreter"===a.id))!=null&&A("code_interpreter_call.outputs");let D={model:this.modelId,input:w,temperature:b,top_p:f,max_output_tokens:a,...((null==o?void 0:o.type)==="json"||(null==v?void 0:v.textVerbosity))&&{text:{...(null==o?void 0:o.type)==="json"&&{format:null!=o.schema?{type:"json_schema",strict:y,name:null!=(s=o.name)?s:"response",description:o.description,schema:o.schema}:{type:"json_object"}},...(null==v?void 0:v.textVerbosity)&&{verbosity:v.textVerbosity}}},max_tool_calls:null==v?void 0:v.maxToolCalls,metadata:null==v?void 0:v.metadata,parallel_tool_calls:null==v?void 0:v.parallelToolCalls,previous_response_id:null==v?void 0:v.previousResponseId,store:null==v?void 0:v.store,user:null==v?void 0:v.user,instructions:null==v?void 0:v.instructions,service_tier:null==v?void 0:v.serviceTier,include:z,prompt_cache_key:null==v?void 0:v.promptCacheKey,safety_identifier:null==v?void 0:v.safetyIdentifier,top_logprobs:B,...u.isReasoningModel&&((null==v?void 0:v.reasoningEffort)!=null||(null==v?void 0:v.reasoningSummary)!=null)&&{reasoning:{...(null==v?void 0:v.reasoningEffort)!=null&&{effort:v.reasoningEffort},...(null==v?void 0:v.reasoningSummary)!=null&&{summary:v.reasoningSummary}}},...u.requiredAutoTruncation&&{truncation:"auto"}};u.isReasoningModel?(null!=D.temperature&&(D.temperature=void 0,t.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=D.top_p&&(D.top_p=void 0,t.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):((null==v?void 0:v.reasoningEffort)!=null&&t.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),(null==v?void 0:v.reasoningSummary)!=null&&t.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),(null==v?void 0:v.serviceTier)!=="flex"||u.supportsFlexProcessing||(t.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete D.service_tier),(null==v?void 0:v.serviceTier)!=="priority"||u.supportsPriorityProcessing||(t.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete D.service_tier);let{tools:E,toolChoice:F,toolWarnings:G}=function({tools:a,toolChoice:b,strictJsonSchema:c}){a=(null==a?void 0:a.length)?a:void 0;let d=[];if(null==a)return{tools:void 0,toolChoice:void 0,toolWarnings:d};let f=[];for(let b of a)switch(b.type){case"function":f.push({type:"function",name:b.name,description:b.description,parameters:b.inputSchema,strict:c});break;case"provider-defined":switch(b.id){case"openai.file_search":{let a=M.parse(b.args);f.push({type:"file_search",vector_store_ids:a.vectorStoreIds,max_num_results:a.maxNumResults,ranking_options:a.ranking?{ranker:a.ranking.ranker,score_threshold:a.ranking.scoreThreshold}:void 0,filters:a.filters});break}case"openai.web_search_preview":{let a=U.parse(b.args);f.push({type:"web_search_preview",search_context_size:a.searchContextSize,user_location:a.userLocation});break}case"openai.web_search":{let a=S.parse(b.args);f.push({type:"web_search",filters:null!=a.filters?{allowed_domains:a.filters.allowedDomains}:void 0,search_context_size:a.searchContextSize,user_location:a.userLocation});break}case"openai.code_interpreter":{let a=I.parse(b.args);f.push({type:"code_interpreter",container:null==a.container?{type:"auto",file_ids:void 0}:"string"==typeof a.container?a.container:{type:"auto",file_ids:a.container.fileIds}});break}case"openai.image_generation":{let a=P.parse(b.args);f.push({type:"image_generation",background:a.background,input_fidelity:a.inputFidelity,input_image_mask:a.inputImageMask?{file_id:a.inputImageMask.fileId,image_url:a.inputImageMask.imageUrl}:void 0,model:a.model,size:a.size,quality:a.quality,moderation:a.moderation,output_format:a.outputFormat,output_compression:a.outputCompression})}}break;default:d.push({type:"unsupported-tool",tool:b})}if(null==b)return{tools:f,toolChoice:void 0,toolWarnings:d};let g=b.type;switch(g){case"auto":case"none":case"required":return{tools:f,toolChoice:g,toolWarnings:d};case"tool":return{tools:f,toolChoice:"code_interpreter"===b.toolName||"file_search"===b.toolName||"image_generation"===b.toolName||"web_search_preview"===b.toolName||"web_search"===b.toolName?{type:b.toolName}:{type:"function",name:b.toolName},toolWarnings:d};default:throw new e.b8({functionality:`tool choice type: ${g}`})}}({tools:m,toolChoice:n,strictJsonSchema:y});return{webSearchToolName:C,args:{...D,tools:E,tool_choice:F},warnings:[...t,...G]}}async doGenerate(a){var b,c,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;let{args:y,warnings:z,webSearchToolName:A}=await this.getArgs(a),B=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:C,value:D,rawValue:E}=await (0,d.GU)({url:B,headers:(0,d.m2)(this.config.headers(),a.headers),body:y,failedResponseHandler:i,successfulResponseHandler:(0,d.cV)(f.Ik({id:f.Yj(),created_at:f.ai(),error:f.Ik({code:f.Yj(),message:f.Yj()}).nullish(),model:f.Yj(),output:f.YO(f.gM("type",[f.Ik({type:f.eu("message"),role:f.eu("assistant"),id:f.Yj(),content:f.YO(f.Ik({type:f.eu("output_text"),text:f.Yj(),logprobs:ac.nullish(),annotations:f.YO(f.gM("type",[f.Ik({type:f.eu("url_citation"),start_index:f.ai(),end_index:f.ai(),url:f.Yj(),title:f.Yj()}),f.Ik({type:f.eu("file_citation"),file_id:f.Yj(),filename:f.Yj().nullish(),index:f.ai().nullish(),start_index:f.ai().nullish(),end_index:f.ai().nullish(),quote:f.Yj().nullish()}),f.Ik({type:f.eu("container_file_citation")})]))}))}),$,_,aa,ab,f.Ik({type:f.eu("function_call"),call_id:f.Yj(),name:f.Yj(),arguments:f.Yj(),id:f.Yj()}),f.Ik({type:f.eu("computer_call"),id:f.Yj(),status:f.Yj().optional()}),f.Ik({type:f.eu("reasoning"),id:f.Yj(),encrypted_content:f.Yj().nullish(),summary:f.YO(f.Ik({type:f.eu("summary_text"),text:f.Yj()}))})])),service_tier:f.Yj().nullish(),incomplete_details:f.Ik({reason:f.Yj()}).nullish(),usage:ae})),abortSignal:a.abortSignal,fetch:this.config.fetch});if(D.error)throw new e.hL({message:D.error.message,url:B,requestBodyValues:y,statusCode:400,responseHeaders:C,responseBody:E,isRetryable:!1});let F=[],G=[],H=!1;for(let e of D.output)switch(e.type){case"reasoning":for(let a of(0===e.summary.length&&e.summary.push({type:"summary_text",text:""}),e.summary))F.push({type:"reasoning",text:a.text,providerMetadata:{openai:{itemId:e.id,reasoningEncryptedContent:null!=(b=e.encrypted_content)?b:null}}});break;case"image_generation_call":F.push({type:"tool-call",toolCallId:e.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),F.push({type:"tool-result",toolCallId:e.id,toolName:"image_generation",result:{result:e.result},providerExecuted:!0});break;case"message":for(let b of e.content)for(let f of((null==(g=null==(c=a.providerOptions)?void 0:c.openai)?void 0:g.logprobs)&&b.logprobs&&G.push(b.logprobs),F.push({type:"text",text:b.text,providerMetadata:{openai:{itemId:e.id}}}),b.annotations))"url_citation"===f.type?F.push({type:"source",sourceType:"url",id:null!=(k=null==(j=(h=this.config).generateId)?void 0:j.call(h))?k:(0,d.$C)(),url:f.url,title:f.title}):"file_citation"===f.type&&F.push({type:"source",sourceType:"document",id:null!=(n=null==(m=(l=this.config).generateId)?void 0:m.call(l))?n:(0,d.$C)(),mediaType:"text/plain",title:null!=(p=null!=(o=f.quote)?o:f.filename)?p:"Document",filename:null!=(q=f.filename)?q:f.file_id});break;case"function_call":H=!0,F.push({type:"tool-call",toolCallId:e.call_id,toolName:e.name,input:e.arguments,providerMetadata:{openai:{itemId:e.id}}});break;case"web_search_call":F.push({type:"tool-call",toolCallId:e.id,toolName:null!=A?A:"web_search",input:JSON.stringify({action:e.action}),providerExecuted:!0}),F.push({type:"tool-result",toolCallId:e.id,toolName:null!=A?A:"web_search",result:{status:e.status},providerExecuted:!0});break;case"computer_call":F.push({type:"tool-call",toolCallId:e.id,toolName:"computer_use",input:"",providerExecuted:!0}),F.push({type:"tool-result",toolCallId:e.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:e.status||"completed"},providerExecuted:!0});break;case"file_search_call":F.push({type:"tool-call",toolCallId:e.id,toolName:"file_search",input:"{}",providerExecuted:!0}),F.push({type:"tool-result",toolCallId:e.id,toolName:"file_search",result:{queries:e.queries,results:null!=(s=null==(r=e.results)?void 0:r.map(a=>({attributes:a.attributes,fileId:a.file_id,filename:a.filename,score:a.score,text:a.text})))?s:null},providerExecuted:!0});break;case"code_interpreter_call":F.push({type:"tool-call",toolCallId:e.id,toolName:"code_interpreter",input:JSON.stringify({code:e.code,containerId:e.container_id}),providerExecuted:!0}),F.push({type:"tool-result",toolCallId:e.id,toolName:"code_interpreter",result:{outputs:e.outputs},providerExecuted:!0})}let I={openai:{responseId:D.id}};return G.length>0&&(I.openai.logprobs=G),"string"==typeof D.service_tier&&(I.openai.serviceTier=D.service_tier),{content:F,finishReason:Z({finishReason:null==(t=D.incomplete_details)?void 0:t.reason,hasFunctionCall:H}),usage:{inputTokens:D.usage.input_tokens,outputTokens:D.usage.output_tokens,totalTokens:D.usage.input_tokens+D.usage.output_tokens,reasoningTokens:null!=(v=null==(u=D.usage.output_tokens_details)?void 0:u.reasoning_tokens)?v:void 0,cachedInputTokens:null!=(x=null==(w=D.usage.input_tokens_details)?void 0:w.cached_tokens)?x:void 0},request:{body:y},response:{id:D.id,timestamp:new Date(1e3*D.created_at),modelId:D.model,headers:C,body:E},providerMetadata:I,warnings:z}}async doStream(a){let b,{args:c,warnings:e,webSearchToolName:f}=await this.getArgs(a),{responseHeaders:g,value:h}=await (0,d.GU)({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),body:{...c,stream:!0},failedResponseHandler:i,successfulResponseHandler:(0,d.Ds)(ap),abortSignal:a.abortSignal,fetch:this.config.fetch}),j=this,k="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},m=[],n=null,o={},p=!1,q={};return{stream:h.pipeThrough(new TransformStream({start(a){a.enqueue({type:"stream-start",warnings:e})},transform(c,e){var g,h,i,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;if(a.includeRawChunks&&e.enqueue({type:"raw",rawValue:c.rawValue}),!c.success){k="error",e.enqueue({type:"error",error:c.error});return}let O=c.value;if(ar(O)){"function_call"===O.item.type?(o[O.output_index]={toolName:O.item.name,toolCallId:O.item.call_id},e.enqueue({type:"tool-input-start",id:O.item.call_id,toolName:O.item.name})):"web_search_call"===O.item.type?(o[O.output_index]={toolName:null!=f?f:"web_search",toolCallId:O.item.id},e.enqueue({type:"tool-input-start",id:O.item.id,toolName:null!=f?f:"web_search"})):"computer_call"===O.item.type?(o[O.output_index]={toolName:"computer_use",toolCallId:O.item.id},e.enqueue({type:"tool-input-start",id:O.item.id,toolName:"computer_use"})):"file_search_call"===O.item.type?e.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===O.item.type?e.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===O.item.type?e.enqueue({type:"text-start",id:O.item.id,providerMetadata:{openai:{itemId:O.item.id}}}):ar(L=O)&&"reasoning"===L.item.type&&(q[O.item.id]={encryptedContent:O.item.encrypted_content,summaryParts:[0]},e.enqueue({type:"reasoning-start",id:`${O.item.id}:0`,providerMetadata:{openai:{itemId:O.item.id,reasoningEncryptedContent:null!=(g=O.item.encrypted_content)?g:null}}}))}else if(aq(O))if("function_call"===O.item.type)o[O.output_index]=void 0,p=!0,e.enqueue({type:"tool-input-end",id:O.item.call_id}),e.enqueue({type:"tool-call",toolCallId:O.item.call_id,toolName:O.item.name,input:O.item.arguments,providerMetadata:{openai:{itemId:O.item.id}}});else if("web_search_call"===O.item.type)o[O.output_index]=void 0,e.enqueue({type:"tool-input-end",id:O.item.id}),e.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"web_search",input:JSON.stringify({action:O.item.action}),providerExecuted:!0}),e.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"web_search",result:{status:O.item.status},providerExecuted:!0});else if("computer_call"===O.item.type)o[O.output_index]=void 0,e.enqueue({type:"tool-input-end",id:O.item.id}),e.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),e.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:O.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===O.item.type)o[O.output_index]=void 0,e.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"file_search",result:{queries:O.item.queries,results:null!=(i=null==(h=O.item.results)?void 0:h.map(a=>({attributes:a.attributes,fileId:a.file_id,filename:a.filename,score:a.score,text:a.text})))?i:null},providerExecuted:!0});else if("code_interpreter_call"===O.item.type)e.enqueue({type:"tool-call",toolCallId:O.item.id,toolName:"code_interpreter",input:JSON.stringify({code:O.item.code,containerId:O.item.container_id}),providerExecuted:!0}),e.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"code_interpreter",result:{outputs:O.item.outputs},providerExecuted:!0});else if("image_generation_call"===O.item.type)e.enqueue({type:"tool-result",toolCallId:O.item.id,toolName:"image_generation",result:{result:O.item.result},providerExecuted:!0});else if("message"===O.item.type)e.enqueue({type:"text-end",id:O.item.id});else{if(aq(M=O)&&"reasoning"===M.item.type){for(let a of q[O.item.id].summaryParts)e.enqueue({type:"reasoning-end",id:`${O.item.id}:${a}`,providerMetadata:{openai:{itemId:O.item.id,reasoningEncryptedContent:null!=(r=O.item.encrypted_content)?r:null}}});delete q[O.item.id]}}else if("response.function_call_arguments.delta"===O.type){let a=o[O.output_index];null!=a&&e.enqueue({type:"tool-input-delta",id:a.toolCallId,delta:O.delta})}else{"response.created"===O.type?(n=O.response.id,e.enqueue({type:"response-metadata",id:O.response.id,timestamp:new Date(1e3*O.response.created_at),modelId:O.response.model})):"response.output_text.delta"===O.type?(e.enqueue({type:"text-delta",id:O.item_id,delta:O.delta}),(null==(t=null==(s=a.providerOptions)?void 0:s.openai)?void 0:t.logprobs)&&O.logprobs&&m.push(O.logprobs)):"response.reasoning_summary_part.added"===O.type?O.summary_index>0&&(null==(u=q[O.item_id])||u.summaryParts.push(O.summary_index),e.enqueue({type:"reasoning-start",id:`${O.item_id}:${O.summary_index}`,providerMetadata:{openai:{itemId:O.item_id,reasoningEncryptedContent:null!=(w=null==(v=q[O.item_id])?void 0:v.encryptedContent)?w:null}}})):"response.reasoning_summary_text.delta"===O.type?e.enqueue({type:"reasoning-delta",id:`${O.item_id}:${O.summary_index}`,delta:O.delta,providerMetadata:{openai:{itemId:O.item_id}}}):"response.completed"===(N=O).type||"response.incomplete"===N.type?(k=Z({finishReason:null==(x=O.response.incomplete_details)?void 0:x.reason,hasFunctionCall:p}),l.inputTokens=O.response.usage.input_tokens,l.outputTokens=O.response.usage.output_tokens,l.totalTokens=O.response.usage.input_tokens+O.response.usage.output_tokens,l.reasoningTokens=null!=(z=null==(y=O.response.usage.output_tokens_details)?void 0:y.reasoning_tokens)?z:void 0,l.cachedInputTokens=null!=(B=null==(A=O.response.usage.input_tokens_details)?void 0:A.cached_tokens)?B:void 0,"string"==typeof O.response.service_tier&&(b=O.response.service_tier)):"response.output_text.annotation.added"===O.type?"url_citation"===O.annotation.type?e.enqueue({type:"source",sourceType:"url",id:null!=(E=null==(D=(C=j.config).generateId)?void 0:D.call(C))?E:(0,d.$C)(),url:O.annotation.url,title:O.annotation.title}):"file_citation"===O.annotation.type&&e.enqueue({type:"source",sourceType:"document",id:null!=(H=null==(G=(F=j.config).generateId)?void 0:G.call(F))?H:(0,d.$C)(),mediaType:"text/plain",title:null!=(J=null!=(I=O.annotation.quote)?I:O.annotation.filename)?J:"Document",filename:null!=(K=O.annotation.filename)?K:O.annotation.file_id}):"error"===O.type&&e.enqueue({type:"error",error:O})}},flush(a){let c={openai:{responseId:n}};m.length>0&&(c.openai.logprobs=m),void 0!==b&&(c.openai.serviceTier=b),a.enqueue({type:"finish",finishReason:k,usage:l,providerMetadata:c})}})),request:{body:c},response:{headers:g}}}},ae=f.Ik({input_tokens:f.ai(),input_tokens_details:f.Ik({cached_tokens:f.ai().nullish()}).nullish(),output_tokens:f.ai(),output_tokens_details:f.Ik({reasoning_tokens:f.ai().nullish()}).nullish()}),af=f.Ik({type:f.eu("response.output_text.delta"),item_id:f.Yj(),delta:f.Yj(),logprobs:ac.nullish()}),ag=f.Ik({type:f.eu("error"),code:f.Yj(),message:f.Yj(),param:f.Yj().nullish(),sequence_number:f.ai()}),ah=f.Ik({type:f.k5(["response.completed","response.incomplete"]),response:f.Ik({incomplete_details:f.Ik({reason:f.Yj()}).nullish(),usage:ae,service_tier:f.Yj().nullish()})}),ai=f.Ik({type:f.eu("response.created"),response:f.Ik({id:f.Yj(),created_at:f.ai(),model:f.Yj(),service_tier:f.Yj().nullish()})}),aj=f.Ik({type:f.eu("response.output_item.added"),output_index:f.ai(),item:f.gM("type",[f.Ik({type:f.eu("message"),id:f.Yj()}),f.Ik({type:f.eu("reasoning"),id:f.Yj(),encrypted_content:f.Yj().nullish()}),f.Ik({type:f.eu("function_call"),id:f.Yj(),call_id:f.Yj(),name:f.Yj(),arguments:f.Yj()}),f.Ik({type:f.eu("web_search_call"),id:f.Yj(),status:f.Yj(),action:f.Ik({type:f.eu("search"),query:f.Yj().optional()}).nullish()}),f.Ik({type:f.eu("computer_call"),id:f.Yj(),status:f.Yj()}),f.Ik({type:f.eu("file_search_call"),id:f.Yj()}),f.Ik({type:f.eu("image_generation_call"),id:f.Yj()})])}),ak=f.Ik({type:f.eu("response.output_item.done"),output_index:f.ai(),item:f.gM("type",[f.Ik({type:f.eu("message"),id:f.Yj()}),f.Ik({type:f.eu("reasoning"),id:f.Yj(),encrypted_content:f.Yj().nullish()}),f.Ik({type:f.eu("function_call"),id:f.Yj(),call_id:f.Yj(),name:f.Yj(),arguments:f.Yj(),status:f.eu("completed")}),aa,ab,$,_,f.Ik({type:f.eu("computer_call"),id:f.Yj(),status:f.eu("completed")})])}),al=f.Ik({type:f.eu("response.function_call_arguments.delta"),item_id:f.Yj(),output_index:f.ai(),delta:f.Yj()}),am=f.Ik({type:f.eu("response.output_text.annotation.added"),annotation:f.gM("type",[f.Ik({type:f.eu("url_citation"),url:f.Yj(),title:f.Yj()}),f.Ik({type:f.eu("file_citation"),file_id:f.Yj(),filename:f.Yj().nullish(),index:f.ai().nullish(),start_index:f.ai().nullish(),end_index:f.ai().nullish(),quote:f.Yj().nullish()})])}),an=f.Ik({type:f.eu("response.reasoning_summary_part.added"),item_id:f.Yj(),summary_index:f.ai()}),ao=f.Ik({type:f.eu("response.reasoning_summary_text.delta"),item_id:f.Yj(),summary_index:f.ai(),delta:f.Yj()}),ap=f.KC([af,ah,ai,aj,ak,al,am,an,ao,ag,f.Ik({type:f.Yj()}).loose()]);function aq(a){return"response.output_item.done"===a.type}function ar(a){return"response.output_item.added"===a.type}var as=f.Ik({include:f.YO(f.k5(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:f.Yj().nullish(),logprobs:f.KC([f.zM(),f.ai().min(1).max(20)]).optional(),maxToolCalls:f.ai().nullish(),metadata:f.bz().nullish(),parallelToolCalls:f.zM().nullish(),previousResponseId:f.Yj().nullish(),promptCacheKey:f.Yj().nullish(),reasoningEffort:f.Yj().nullish(),reasoningSummary:f.Yj().nullish(),safetyIdentifier:f.Yj().nullish(),serviceTier:f.k5(["auto","flex","priority"]).nullish(),store:f.zM().nullish(),strictJsonSchema:f.zM().nullish(),textVerbosity:f.k5(["low","medium","high"]).nullish(),user:f.Yj().nullish()}),at=f.Ik({instructions:f.Yj().nullish(),speed:f.ai().min(.25).max(4).default(1).nullish()}),au=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:a,voice:b="alloy",outputFormat:c="mp3",speed:e,instructions:f,language:g,providerOptions:h}){let i=[],j=await (0,d.xI)({provider:"openai",providerOptions:h,schema:at}),k={model:this.modelId,input:a,voice:b,response_format:"mp3",speed:e,instructions:f};if(c&&(["mp3","opus","aac","flac","wav","pcm"].includes(c)?k.response_format=c:i.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${c}. Using mp3 instead.`})),j){let a={};for(let b in a){let c=a[b];void 0!==c&&(k[b]=c)}}return g&&i.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${g}" was ignored.`}),{requestBody:k,warnings:i}}async doGenerate(a){var b,c,e;let f=null!=(e=null==(c=null==(b=this.config._internal)?void 0:b.currentDate)?void 0:c.call(b))?e:new Date,{requestBody:g,warnings:h}=await this.getArgs(a),{value:j,responseHeaders:k,rawValue:l}=await (0,d.GU)({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),body:g,failedResponseHandler:i,successfulResponseHandler:(0,d.HD)(),abortSignal:a.abortSignal,fetch:this.config.fetch});return{audio:j,warnings:h,request:{body:JSON.stringify(g)},response:{timestamp:f,modelId:this.modelId,headers:k,body:l}}}},av=f.Ik({include:f.YO(f.Yj()).optional(),language:f.Yj().optional(),prompt:f.Yj().optional(),temperature:f.ai().min(0).max(1).default(0).optional(),timestampGranularities:f.YO(f.k5(["word","segment"])).default(["segment"]).optional()}),aw={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},ax=class{constructor(a,b){this.modelId=a,this.config=b,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:a,mediaType:b,providerOptions:c}){let e=await (0,d.xI)({provider:"openai",providerOptions:c,schema:av}),f=new FormData,g=a instanceof Uint8Array?new Blob([a]):new Blob([(0,d.Z9)(a)]);f.append("model",this.modelId);let h=(0,d.HQ)(b);if(f.append("file",new File([g],"audio",{type:b}),`audio.${h}`),e){for(let[a,b]of Object.entries({include:e.include,language:e.language,prompt:e.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:e.temperature,timestamp_granularities:e.timestampGranularities}))if(null!=b)if(Array.isArray(b))for(let c of b)f.append(`${a}[]`,String(c));else f.append(a,String(b))}return{formData:f,warnings:[]}}async doGenerate(a){var b,c,e,f,g,h,j,k;let l=null!=(e=null==(c=null==(b=this.config._internal)?void 0:b.currentDate)?void 0:c.call(b))?e:new Date,{formData:m,warnings:n}=await this.getArgs(a),{value:o,responseHeaders:p,rawValue:q}=await (0,d.S)({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:(0,d.m2)(this.config.headers(),a.headers),formData:m,failedResponseHandler:i,successfulResponseHandler:(0,d.cV)(ay),abortSignal:a.abortSignal,fetch:this.config.fetch}),r=null!=o.language&&o.language in aw?aw[o.language]:void 0;return{text:o.text,segments:null!=(j=null!=(h=null==(f=o.segments)?void 0:f.map(a=>({text:a.text,startSecond:a.start,endSecond:a.end})))?h:null==(g=o.words)?void 0:g.map(a=>({text:a.word,startSecond:a.start,endSecond:a.end})))?j:[],language:r,durationInSeconds:null!=(k=o.duration)?k:void 0,warnings:n,response:{timestamp:l,modelId:this.modelId,headers:p,body:q}}}},ay=f.Ik({text:f.Yj(),language:f.Yj().nullish(),duration:f.ai().nullish(),words:f.YO(f.Ik({word:f.Yj(),start:f.ai(),end:f.ai()})).nullish(),segments:f.YO(f.Ik({id:f.ai(),seek:f.ai(),start:f.ai(),end:f.ai(),text:f.Yj(),tokens:f.YO(f.ai()),temperature:f.ai(),avg_logprob:f.ai(),compression_ratio:f.ai(),no_speech_prob:f.ai()})).nullish()}),az=function(a={}){var b,c;let e=null!=(b=(0,d.ae)(a.baseURL))?b:"https://api.openai.com/v1",f=null!=(c=a.name)?c:"openai",g=()=>(0,d.WZ)({Authorization:`Bearer ${(0,d.WL)({apiKey:a.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":a.organization,"OpenAI-Project":a.project,...a.headers},"ai-sdk/openai/2.0.36"),h=b=>new A(b,{provider:`${f}.embedding`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch}),i=b=>new E(b,{provider:`${f}.image`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch}),j=b=>new ax(b,{provider:`${f}.transcription`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch}),k=b=>new au(b,{provider:`${f}.speech`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch}),l=a=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return n(a)},n=b=>new ad(b,{provider:`${f}.responses`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch,fileIdPrefixes:["file-"]}),o=function(a){return l(a)};return o.languageModel=l,o.chat=b=>new m(b,{provider:`${f}.chat`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch}),o.completion=b=>new v(b,{provider:`${f}.completion`,url:({path:a})=>`${e}${a}`,headers:g,fetch:a.fetch}),o.responses=n,o.embedding=h,o.textEmbedding=h,o.textEmbeddingModel=h,o.image=i,o.imageModel=i,o.transcription=j,o.transcriptionModel=j,o.speech=k,o.speechModel=k,o.tools=V,o}()},30902:(a,b,c)=>{c.d(b,{$W:()=>i,GT:()=>g,_e:()=>f,cr:()=>h,tm:()=>d,xI:()=>e});let d=Object.freeze({status:"aborted"});function e(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let f=Symbol("zod_brand");class g extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let h={};function i(a){return a&&Object.assign(h,a),h}},37947:(a,b,c)=>{c.d(b,{G:()=>g,g:()=>h});var d=c(4214),e=c(30902);let f=(a,b)=>{d.a$.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>d.Wk(a,b)},flatten:{value:b=>d.JM(a,b)},addIssue:{value:b=>a.issues.push(b)},addIssues:{value:b=>a.issues.push(...b)},isEmpty:{get:()=>0===a.issues.length}})},g=e.xI("ZodError",f),h=e.xI("ZodError",f,{Parent:Error})},45223:(a,b,c)=>{c.d(b,{L:()=>f,b:()=>g});var d=c(55145),e=c(98925);class f{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??d.fd,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,f=this.seen.get(a);if(f)return f.count++,b.schemaPath.includes(a)&&(f.cycle=b.path),f.schema;let g={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,g);let h=a._zod.toJSONSchema?.();if(h)g.schema=h;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},f=a._zod.parent;if(f)g.ref=f,this.process(f,c),this.seen.get(f).isParent=!0;else{let b=g.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:f,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),f&&f.size>0){let a=[...f];1===a.length?b.pattern=a[0].source:a.length>1&&(g.schema.allOf=[...a.map(a=>({..."draft-7"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&(b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&(b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":b.anyOf=d.options.map((a,b)=>this.process(a,{...c,path:[...c.path,"anyOf",b]}));break;case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,"prefixItems",b]}));if("draft-2020-12"===this.target?b.prefixItems=e:b.items=e,d.rest){let a=this.process(d.rest,{...c,path:[...c.path,"items"]});"draft-2020-12"===this.target?b.items=a:b.additionalItems=a}d.rest&&(b.items=this.process(d.rest,{...c,path:[...c.path,"items"]}));let{minimum:f,maximum:g}=a._zod.bag;"number"==typeof f&&(b.minItems=f),"number"==typeof g&&(b.maxItems=g);break}case"record":b.type="object",b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]}),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=(0,e.getEnumValues)(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":b.anyOf=[this.process(d.innerType,c),{type:"null"}];break;case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),g.ref=d.innerType;break;case"default":this.process(d.innerType,c),g.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),g.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),g.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),g.ref=a;break}case"readonly":this.process(d.innerType,c),g.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),g.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")}}}let i=this.metadataRegistry.get(a);return i&&Object.assign(g.schema,i),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;switch(e.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return a(e.element,d);case"object":for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1;case"union":for(let b of e.options)if(a(b,d))return!0;return!1;case"intersection":return a(e.left,d)||a(e.right,d);case"tuple":for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0;return!1;case"record":case"map":return a(e.keyType,d)||a(e.valueType,d);case"set":return a(e.valueType,d);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(e.innerType,d);case"lazy":return a(e.getter(),d);case"transform":return!0;case"pipe":return a(e.in,d)||a(e.out,d)}throw Error(`Unknown schema type: ${e.type}`)}(a)&&(delete g.schema.examples,delete g.schema.default),"input"===this.io&&g.schema._prefault&&((c=g.schema).default??(c.default=g.schema._prefault)),delete g.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&"draft-7"===b.target?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}function g(a,b){if(a instanceof d.rs){let c=new f(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},g={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,f]=d;e[a]=c.emit(f,{...b,external:g})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new f(b);return c.process(a),c.emit(a,b)}},45990:(a,b,c)=>{c.d(b,{EJ:()=>j,Od:()=>k,Rb:()=>i,Tj:()=>g,bp:()=>n,qg:()=>h,wG:()=>m,xL:()=>l});var d=c(30902),e=c(4214),f=c(98925);let g=a=>(b,c,e,g)=>{let h=e?Object.assign(e,{async:!1}):{async:!1},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise)throw new d.GT;if(i.issues.length){let b=new(g?.Err??a)(i.issues.map(a=>f.finalizeIssue(a,h,d.$W())));throw f.captureStackTrace(b,g?.callee),b}return i.value},h=g(e.Kd),i=a=>async(b,c,e,g)=>{let h=e?Object.assign(e,{async:!0}):{async:!0},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise&&(i=await i),i.issues.length){let b=new(g?.Err??a)(i.issues.map(a=>f.finalizeIssue(a,h,d.$W())));throw f.captureStackTrace(b,g?.callee),b}return i.value},j=i(e.Kd),k=a=>(b,c,g)=>{let h=g?{...g,async:!1}:{async:!1},i=b._zod.run({value:c,issues:[]},h);if(i instanceof Promise)throw new d.GT;return i.issues.length?{success:!1,error:new(a??e.a$)(i.issues.map(a=>f.finalizeIssue(a,h,d.$W())))}:{success:!0,data:i.value}},l=k(e.Kd),m=a=>async(b,c,e)=>{let g=e?Object.assign(e,{async:!0}):{async:!0},h=b._zod.run({value:c,issues:[]},g);return h instanceof Promise&&(h=await h),h.issues.length?{success:!1,error:new a(h.issues.map(a=>f.finalizeIssue(a,g,d.$W())))}:{success:!0,data:h.value}},n=m(e.Kd)},54044:(a,b,c)=>{c.d(b,{DG:()=>u,E6:()=>z,J:()=>y,J_:()=>j,Jk:()=>k,KH:()=>l,Kk:()=>r,NI:()=>v,PH:()=>o,QP:()=>g,RM:()=>s,Tt:()=>x,XF:()=>B,Yk:()=>q,e2:()=>p,j2:()=>n,kH:()=>w,ql:()=>t,sj:()=>C,sm:()=>i,uE:()=>m,v$:()=>D});var d=c(30902),e=c(76546),f=c(98925);let g=d.xI("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),h={number:"number",bigint:"bigint",object:"date"},i=d.xI("$ZodCheckLessThan",(a,b)=>{g.init(a,b);let c=h[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),j=d.xI("$ZodCheckGreaterThan",(a,b)=>{g.init(a,b);let c=h[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),k=d.xI("$ZodCheckMultipleOf",(a,b)=>{g.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===f.floatSafeRemainder(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),l=d.xI("$ZodCheckNumberFormat",(a,b)=>{g.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[h,i]=f.NUMBER_FORMAT_RANGES[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=h,d.maximum=i,c&&(d.pattern=e.integer)}),a._zod.check=e=>{let f=e.value;if(c){if(!Number.isInteger(f))return void e.issues.push({expected:d,format:b.format,code:"invalid_type",input:f,inst:a});if(!Number.isSafeInteger(f))return void(f>0?e.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):e.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}f<h&&e.issues.push({origin:"number",input:f,code:"too_small",minimum:h,inclusive:!0,inst:a,continue:!b.abort}),f>i&&e.issues.push({origin:"number",input:f,code:"too_big",maximum:i,inst:a})}}),m=d.xI("$ZodCheckBigIntFormat",(a,b)=>{g.init(a,b);let[c,d]=f.BIGINT_FORMAT_RANGES[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inst:a})}}),n=d.xI("$ZodCheckMaxSize",(a,b)=>{var c;g.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!f.nullish(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:f.getSizableOrigin(d),code:"too_big",maximum:b.maximum,input:d,inst:a,continue:!b.abort})}}),o=d.xI("$ZodCheckMinSize",(a,b)=>{var c;g.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!f.nullish(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:f.getSizableOrigin(d),code:"too_small",minimum:b.minimum,input:d,inst:a,continue:!b.abort})}}),p=d.xI("$ZodCheckSizeEquals",(a,b)=>{var c;g.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!f.nullish(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let g=e>b.size;c.issues.push({origin:f.getSizableOrigin(d),...g?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),q=d.xI("$ZodCheckMaxLength",(a,b)=>{var c;g.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!f.nullish(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=f.getLengthableOrigin(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),r=d.xI("$ZodCheckMinLength",(a,b)=>{var c;g.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!f.nullish(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=f.getLengthableOrigin(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),s=d.xI("$ZodCheckLengthEquals",(a,b)=>{var c;g.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!f.nullish(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let g=f.getLengthableOrigin(d),h=e>b.length;c.issues.push({origin:g,...h?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),t=d.xI("$ZodCheckStringFormat",(a,b)=>{var c,d;g.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),u=d.xI("$ZodCheckRegex",(a,b)=>{t.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),v=d.xI("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=e.lowercase),t.init(a,b)}),w=d.xI("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=e.uppercase),t.init(a,b)}),x=d.xI("$ZodCheckIncludes",(a,b)=>{g.init(a,b);let c=f.escapeRegex(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),y=d.xI("$ZodCheckStartsWith",(a,b)=>{g.init(a,b);let c=RegExp(`^${f.escapeRegex(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),z=d.xI("$ZodCheckEndsWith",(a,b)=>{g.init(a,b);let c=RegExp(`.*${f.escapeRegex(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function A(a,b,c){a.issues.length&&b.issues.push(...f.prefixIssues(c,a.issues))}let B=d.xI("$ZodCheckProperty",(a,b)=>{g.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>A(c,a,b.property));A(c,a,b.property)}}),C=d.xI("$ZodCheckMimeType",(a,b)=>{g.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a})}}),D=d.xI("$ZodCheckOverwrite",(a,b)=>{g.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}})},55145:(a,b,c)=>{c.d(b,{UY:()=>d,fd:()=>h,nP:()=>e,rs:()=>f,u5:()=>g});let d=Symbol("ZodOutput"),e=Symbol("ZodInput");class f{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};return delete c.id,{...c,...this._map.get(a)}}return this._map.get(a)}has(a){return this._map.has(a)}}function g(){return new f}let h=g()},60617:(a,b,c)=>{c.d(b,{EJ:()=>g,bp:()=>i,qg:()=>f,xL:()=>h});var d=c(45990),e=c(37947);let f=d.Tj(e.g),g=d.Rb(e.g),h=d.Od(e.g),i=d.wG(e.g)},76546:(a,b,c)=>{c.r(b),c.d(b,{_emoji:()=>v,base64:()=>B,base64url:()=>C,bigint:()=>M,boolean:()=>P,browserEmail:()=>u,cidrv4:()=>z,cidrv6:()=>A,cuid:()=>d,cuid2:()=>e,date:()=>H,datetime:()=>K,domain:()=>E,duration:()=>j,e164:()=>F,email:()=>q,emoji:()=>w,extendedDuration:()=>k,guid:()=>l,hostname:()=>D,html5Email:()=>r,integer:()=>N,ipv4:()=>x,ipv6:()=>y,ksuid:()=>h,lowercase:()=>S,nanoid:()=>i,null:()=>Q,number:()=>O,rfc5322Email:()=>s,string:()=>L,time:()=>J,ulid:()=>f,undefined:()=>R,unicodeEmail:()=>t,uppercase:()=>T,uuid:()=>m,uuid4:()=>n,uuid6:()=>o,uuid7:()=>p,xid:()=>g});let d=/^[cC][^\s-]{8,}$/,e=/^[0-9a-z]+$/,f=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,g=/^[0-9a-vA-V]{20}$/,h=/^[A-Za-z0-9]{27}$/,i=/^[a-zA-Z0-9_-]{21}$/,j=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,k=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,l=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,m=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,n=m(4),o=m(6),p=m(7),q=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,u=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,v="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function w(){return RegExp(v,"u")}let x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,z=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,A=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,C=/^[A-Za-z0-9_-]*$/,D=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,E=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,F=/^\+(?:[0-9]){6,14}[0-9]$/,G="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",H=RegExp(`^${G}$`);function I(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function J(a){return RegExp(`^${I(a)}$`)}function K(a){let b=I({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-]\\d{2}:\\d{2})");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${G}T(?:${d})$`)}let L=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},M=/^\d+n?$/,N=/^\d+$/,O=/^-?\d+(?:\.\d+)?/i,P=/true|false/i,Q=/null/i,R=/undefined/i,S=/^[^A-Z]*$/,T=/^[^a-z]*$/},85395:(a,b,c)=>{c.d(b,{J:()=>d});class d{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}},89901:(a,b,c)=>{c.d(b,{$8:()=>aO,$O:()=>x,$S:()=>ax,Af:()=>a5,Au:()=>ae,B4:()=>ac,Bb:()=>aL,Be:()=>k,Bj:()=>s,Bt:()=>a_,CM:()=>a$,Ct:()=>t,Dl:()=>q,E4:()=>X,ER:()=>ay,Eb:()=>aq,F7:()=>J,FG:()=>aI,FO:()=>a2,Fk:()=>at,Fn:()=>o,G1:()=>F,G8:()=>_,GZ:()=>aA,HL:()=>M,Hi:()=>am,Il:()=>aE,Jf:()=>az,Jg:()=>U,K2:()=>aR,KA:()=>Z,KB:()=>C,K_:()=>h,Kn:()=>H,L4:()=>ad,LK:()=>L,MQ:()=>aS,Mu:()=>i,NC:()=>ai,Nd:()=>ao,Ny:()=>w,OC:()=>aa,P:()=>P,P7:()=>aX,Pw:()=>u,QC:()=>aN,Q_:()=>ah,Rl:()=>g,Rv:()=>aV,So:()=>E,St:()=>T,Tx:()=>ag,UI:()=>al,Un:()=>aP,Uy:()=>y,W7:()=>W,WN:()=>aD,YA:()=>as,YY:()=>ab,Yv:()=>af,Z$:()=>a1,Zm:()=>af,_L:()=>Q,_z:()=>v,aC:()=>p,bR:()=>aj,bS:()=>aB,cU:()=>B,d$:()=>ap,dN:()=>R,dR:()=>aw,dZ:()=>aG,db:()=>G,ej:()=>ak,em:()=>$,f2:()=>I,fI:()=>a4,fU:()=>a3,fs:()=>r,g6:()=>N,gP:()=>z,gt:()=>aK,h8:()=>aH,hH:()=>au,ii:()=>V,jS:()=>aU,jw:()=>Y,kx:()=>a0,lo:()=>aC,m9:()=>ar,nA:()=>l,nb:()=>aY,oI:()=>aT,pY:()=>m,qF:()=>av,qG:()=>K,qm:()=>ah,rF:()=>aM,rk:()=>D,rn:()=>aQ,rt:()=>A,sw:()=>O,tB:()=>j,tj:()=>aJ,v$:()=>aW,vL:()=>an,wA:()=>n,xY:()=>aF,yz:()=>aZ,z$:()=>S});var d=c(54044),e=c(1985),f=c(98925);function g(a,b){return new a({type:"string",...f.normalizeParams(b)})}function h(a,b){return new a({type:"string",coerce:!0,...f.normalizeParams(b)})}function i(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...f.normalizeParams(b)})}function j(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function k(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function l(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...f.normalizeParams(b)})}function m(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...f.normalizeParams(b)})}function n(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...f.normalizeParams(b)})}function o(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...f.normalizeParams(b)})}function p(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...f.normalizeParams(b)})}function q(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function r(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function s(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...f.normalizeParams(b)})}function t(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function u(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function v(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...f.normalizeParams(b)})}function w(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...f.normalizeParams(b)})}function x(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...f.normalizeParams(b)})}function y(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...f.normalizeParams(b)})}function z(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...f.normalizeParams(b)})}function A(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...f.normalizeParams(b)})}function B(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...f.normalizeParams(b)})}function C(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...f.normalizeParams(b)})}function D(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...f.normalizeParams(b)})}let E={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function F(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...f.normalizeParams(b)})}function G(a,b){return new a({type:"string",format:"date",check:"string_format",...f.normalizeParams(b)})}function H(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...f.normalizeParams(b)})}function I(a,b){return new a({type:"string",format:"duration",check:"string_format",...f.normalizeParams(b)})}function J(a,b){return new a({type:"number",checks:[],...f.normalizeParams(b)})}function K(a,b){return new a({type:"number",coerce:!0,checks:[],...f.normalizeParams(b)})}function L(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...f.normalizeParams(b)})}function M(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...f.normalizeParams(b)})}function N(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...f.normalizeParams(b)})}function O(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...f.normalizeParams(b)})}function P(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...f.normalizeParams(b)})}function Q(a,b){return new a({type:"boolean",...f.normalizeParams(b)})}function R(a,b){return new a({type:"boolean",coerce:!0,...f.normalizeParams(b)})}function S(a,b){return new a({type:"bigint",...f.normalizeParams(b)})}function T(a,b){return new a({type:"bigint",coerce:!0,...f.normalizeParams(b)})}function U(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...f.normalizeParams(b)})}function V(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...f.normalizeParams(b)})}function W(a,b){return new a({type:"symbol",...f.normalizeParams(b)})}function X(a,b){return new a({type:"undefined",...f.normalizeParams(b)})}function Y(a,b){return new a({type:"null",...f.normalizeParams(b)})}function Z(a){return new a({type:"any"})}function $(a){return new a({type:"unknown"})}function _(a,b){return new a({type:"never",...f.normalizeParams(b)})}function aa(a,b){return new a({type:"void",...f.normalizeParams(b)})}function ab(a,b){return new a({type:"date",...f.normalizeParams(b)})}function ac(a,b){return new a({type:"date",coerce:!0,...f.normalizeParams(b)})}function ad(a,b){return new a({type:"nan",...f.normalizeParams(b)})}function ae(a,b){return new d.sm({check:"less_than",...f.normalizeParams(b),value:a,inclusive:!1})}function af(a,b){return new d.sm({check:"less_than",...f.normalizeParams(b),value:a,inclusive:!0})}function ag(a,b){return new d.J_({check:"greater_than",...f.normalizeParams(b),value:a,inclusive:!1})}function ah(a,b){return new d.J_({check:"greater_than",...f.normalizeParams(b),value:a,inclusive:!0})}function ai(a){return ag(0,a)}function aj(a){return ae(0,a)}function ak(a){return af(0,a)}function al(a){return ah(0,a)}function am(a,b){return new d.Jk({check:"multiple_of",...f.normalizeParams(b),value:a})}function an(a,b){return new d.j2({check:"max_size",...f.normalizeParams(b),maximum:a})}function ao(a,b){return new d.PH({check:"min_size",...f.normalizeParams(b),minimum:a})}function ap(a,b){return new d.e2({check:"size_equals",...f.normalizeParams(b),size:a})}function aq(a,b){return new d.Yk({check:"max_length",...f.normalizeParams(b),maximum:a})}function ar(a,b){return new d.Kk({check:"min_length",...f.normalizeParams(b),minimum:a})}function as(a,b){return new d.RM({check:"length_equals",...f.normalizeParams(b),length:a})}function at(a,b){return new d.DG({check:"string_format",format:"regex",...f.normalizeParams(b),pattern:a})}function au(a){return new d.NI({check:"string_format",format:"lowercase",...f.normalizeParams(a)})}function av(a){return new d.kH({check:"string_format",format:"uppercase",...f.normalizeParams(a)})}function aw(a,b){return new d.Tt({check:"string_format",format:"includes",...f.normalizeParams(b),includes:a})}function ax(a,b){return new d.J({check:"string_format",format:"starts_with",...f.normalizeParams(b),prefix:a})}function ay(a,b){return new d.E6({check:"string_format",format:"ends_with",...f.normalizeParams(b),suffix:a})}function az(a,b,c){return new d.XF({check:"property",property:a,schema:b,...f.normalizeParams(c)})}function aA(a,b){return new d.sj({check:"mime_type",mime:a,...f.normalizeParams(b)})}function aB(a){return new d.v$({check:"overwrite",tx:a})}function aC(a){return aB(b=>b.normalize(a))}function aD(){return aB(a=>a.trim())}function aE(){return aB(a=>a.toLowerCase())}function aF(){return aB(a=>a.toUpperCase())}function aG(a,b,c){return new a({type:"array",element:b,...f.normalizeParams(c)})}function aH(a,b,c){return new a({type:"union",options:b,...f.normalizeParams(c)})}function aI(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...f.normalizeParams(d)})}function aJ(a,b,c){return new a({type:"intersection",left:b,right:c})}function aK(a,b,c,d){let g=c instanceof e.W4,h=g?d:c;return new a({type:"tuple",items:b,rest:g?c:null,...f.normalizeParams(h)})}function aL(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...f.normalizeParams(d)})}function aM(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...f.normalizeParams(d)})}function aN(a,b,c){return new a({type:"set",valueType:b,...f.normalizeParams(c)})}function aO(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...f.normalizeParams(c)})}function aP(a,b,c){return new a({type:"enum",entries:b,...f.normalizeParams(c)})}function aQ(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...f.normalizeParams(c)})}function aR(a,b){return new a({type:"file",...f.normalizeParams(b)})}function aS(a,b){return new a({type:"transform",transform:b})}function aT(a,b){return new a({type:"optional",innerType:b})}function aU(a,b){return new a({type:"nullable",innerType:b})}function aV(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():c}})}function aW(a,b,c){return new a({type:"nonoptional",innerType:b,...f.normalizeParams(c)})}function aX(a,b){return new a({type:"success",innerType:b})}function aY(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function aZ(a,b,c){return new a({type:"pipe",in:b,out:c})}function a$(a,b){return new a({type:"readonly",innerType:b})}function a_(a,b,c){return new a({type:"template_literal",parts:b,...f.normalizeParams(c)})}function a0(a,b){return new a({type:"lazy",getter:b})}function a1(a,b){return new a({type:"promise",innerType:b})}function a2(a,b,c){let d=f.normalizeParams(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function a3(a,b,c){return new a({type:"custom",check:"custom",fn:b,...f.normalizeParams(c)})}function a4(a,b){let c=f.normalizeParams(b),d=c.truthy??["true","1","yes","on","y","enabled"],g=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),g=g.map(a=>"string"==typeof a?a.toLowerCase():a));let h=new Set(d),i=new Set(g),j=a.Pipe??e._m,k=a.Boolean??e.sF,l=a.String??e.$v,m=new(a.Transform??e.Wc)({type:"transform",transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!h.has(d)||!i.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...h,...i],input:b.value,inst:m}),{})},error:c.error}),n=new j({type:"pipe",in:new l({type:"string",error:c.error}),out:m,error:c.error});return new j({type:"pipe",in:n,out:new k({type:"boolean",error:c.error}),error:c.error})}function a5(a,b,c,d={}){let e=f.normalizeParams(d),g={...f.normalizeParams(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(g.pattern=c),new a(g)}},92139:(a,b,c)=>{c.r(b),c.d(b,{ZodISODate:()=>j,ZodISODateTime:()=>h,ZodISODuration:()=>n,ZodISOTime:()=>l,date:()=>k,datetime:()=>i,duration:()=>o,time:()=>m});var d=c(30902),e=c(1985),f=c(89901),g=c(10522);let h=d.xI("ZodISODateTime",(a,b)=>{e.Ko.init(a,b),g.EB.init(a,b)});function i(a){return f.G1(h,a)}let j=d.xI("ZodISODate",(a,b)=>{e.v1.init(a,b),g.EB.init(a,b)});function k(a){return f.db(j,a)}let l=d.xI("ZodISOTime",(a,b)=>{e.Ax.init(a,b),g.EB.init(a,b)});function m(a){return f.Kn(l,a)}let n=d.xI("ZodISODuration",(a,b)=>{e.$N.init(a,b),g.EB.init(a,b)});function o(a){return f.f2(n,a)}},96075:(a,b,c)=>{c.d(b,{mD:()=>ap,m2:()=>k,Z9:()=>as,ej:()=>au,n_:()=>at,HD:()=>Y,Ds:()=>W,hK:()=>q,sl:()=>V,cV:()=>X,hL:()=>S,J2:()=>T,cb:()=>l,o8:()=>aw,$C:()=>r,u1:()=>s,$b:()=>y,G1:()=>o,zf:()=>t,v0:()=>L,qs:()=>z,WL:()=>A,x3:()=>B,HQ:()=>C,_Z:()=>M,xI:()=>N,S:()=>Q,GU:()=>P,hd:()=>U,N8:()=>K,ZZ:()=>I,k5:()=>H,WZ:()=>p,ae:()=>av});var d=c(13092);class e extends Error{constructor(a,b){super(a),this.name="ParseError",this.type=b.type,this.field=b.field,this.value=b.value,this.line=b.line}}function f(a){}class g extends TransformStream{constructor({onError:a,onRetry:b,onComment:c}={}){let d;super({start(g){d=function(a){if("function"==typeof a)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:b=f,onError:c=f,onRetry:d=f,onComment:g}=a,h="",i=!0,j,k="",l="";function m(a){if(""===a)return void(k.length>0&&b({id:j,event:l||void 0,data:k.endsWith(`
`)?k.slice(0,-1):k}),j=void 0,k="",l="");if(a.startsWith(":")){g&&g(a.slice(a.startsWith(": ")?2:1));return}let c=a.indexOf(":");if(-1!==c){let b=a.slice(0,c),d=" "===a[c+1]?2:1;n(b,a.slice(c+d),a);return}n(a,"",a)}function n(a,b,f){switch(a){case"event":l=b;break;case"data":k=`${k}${b}
`;break;case"id":j=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?d(parseInt(b,10)):c(new e(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:f}));break;default:c(new e(`Unknown field "${a.length>20?`${a.slice(0,20)}\u2026`:a}"`,{type:"unknown-field",field:a,value:b,line:f}))}}return{feed:function(a){let b=i?a.replace(/^\xEF\xBB\xBF/,""):a,[c,d]=function(a){let b=[],c="",d=0;for(;d<a.length;){let e=a.indexOf("\r",d),f=a.indexOf(`
`,d),g=-1;if(-1!==e&&-1!==f?g=Math.min(e,f):-1!==e?g=e===a.length-1?-1:e:-1!==f&&(g=f),-1===g){c=a.slice(d);break}{let c=a.slice(d,g);b.push(c),"\r"===a[(d=g+1)-1]&&a[d]===`
`&&d++}}return[b,c]}(`${h}${b}`);for(let a of c)m(a);h=d,i=!1},reset:function(a={}){h&&a.consume&&m(h),i=!0,j=void 0,k="",l="",h=""}}}({onEvent:a=>{g.enqueue(a)},onError(b){"terminate"===a?g.error(b):"function"==typeof a&&a(b)},onRetry:b,onComment:c})},transform(a){d.feed(a)}})}}var h=c(45223),i=c(60617),j=c(2995);function k(...a){return a.reduce((a,b)=>({...a,...null!=b?b:{}}),{})}async function l(a,b){if(null==a)return Promise.resolve();let c=null==b?void 0:b.abortSignal;return new Promise((b,d)=>{if(null==c?void 0:c.aborted)return void d(m());let e=setTimeout(()=>{f(),b()},a),f=()=>{clearTimeout(e),null==c||c.removeEventListener("abort",g)},g=()=>{f(),d(m())};null==c||c.addEventListener("abort",g)})}function m(){return new DOMException("Delay was aborted","AbortError")}function n(a){return Object.fromEntries([...a.headers])}function o(a=globalThis){var b,c,d;return a.window?"runtime/browser":(null==(b=a.navigator)?void 0:b.userAgent)?`runtime/${a.navigator.userAgent.toLowerCase()}`:(null==(d=null==(c=a.process)?void 0:c.versions)?void 0:d.node)?`runtime/node.js/${a.process.version.substring(0)}`:a.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function p(a,...b){let c=new Headers(Object.fromEntries(Object.entries(null!=a?a:{}).filter(([a,b])=>null!=b))),d=c.get("user-agent")||"";return c.set("user-agent",[d,...b].filter(Boolean).join(" ")),Object.fromEntries(c)}var q=({prefix:a,size:b=16,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:e="-"}={})=>{let f=()=>{let a=c.length,d=Array(b);for(let e=0;e<b;e++)d[e]=c[Math.random()*a|0];return d.join("")};if(null==a)return f;if(c.includes(e))throw new d.Di({argument:"separator",message:`The separator "${e}" must not be part of the alphabet "${c}".`});return()=>`${a}${e}${f()}`},r=q();function s(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}function t(a){return(a instanceof Error||a instanceof DOMException)&&("AbortError"===a.name||"ResponseAborted"===a.name||"TimeoutError"===a.name)}var u=["fetch failed","failed to fetch"];function v({error:a,url:b,requestBodyValues:c}){if(t(a))return a;if(a instanceof TypeError&&u.includes(a.message.toLowerCase())){let e=a.cause;if(null!=e)return new d.hL({message:`Cannot connect to API: ${e.message}`,cause:e,url:b,requestBodyValues:c,isRetryable:!0})}return a}var w="3.0.10",x=()=>globalThis.fetch,y=async({url:a,headers:b={},successfulResponseHandler:c,failedResponseHandler:e,abortSignal:f,fetch:g=x()})=>{try{let h=await g(a,{method:"GET",headers:p(b,`ai-sdk/provider-utils/${w}`,o()),signal:f}),i=n(h);if(!h.ok){let b;try{b=await e({response:h,url:a,requestBodyValues:{}})}catch(b){if(t(b)||d.hL.isInstance(b))throw b;throw new d.hL({message:"Failed to process error response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:{}})}throw b.value}try{return await c({response:h,url:a,requestBodyValues:{}})}catch(b){if(b instanceof Error&&(t(b)||d.hL.isInstance(b)))throw b;throw new d.hL({message:"Failed to process successful response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:{}})}}catch(b){throw v({error:b,url:a,requestBodyValues:{}})}};function z({mediaType:a,url:b,supportedUrls:c}){return b=b.toLowerCase(),a=a.toLowerCase(),Object.entries(c).map(([a,b])=>{let c=a.toLowerCase();return"*"===c||"*/*"===c?{mediaTypePrefix:"",regexes:b}:{mediaTypePrefix:c.replace(/\*/,""),regexes:b}}).filter(({mediaTypePrefix:b})=>a.startsWith(b)).flatMap(({regexes:a})=>a).some(a=>a.test(b))}function A({apiKey:a,environmentVariableName:b,apiKeyParameterName:c="apiKey",description:e}){if("string"==typeof a)return a;if(null!=a)throw new d.Kq({message:`${e} API key must be a string.`});if("undefined"==typeof process)throw new d.Kq({message:`${e} API key is missing. Pass it using the '${c}' parameter. Environment variables is not supported in this environment.`});if(null==(a=process.env[b]))throw new d.Kq({message:`${e} API key is missing. Pass it using the '${c}' parameter or the ${b} environment variable.`});if("string"!=typeof a)throw new d.Kq({message:`${e} API key must be a string. The value of the ${b} environment variable is not a string.`});return a}function B({settingValue:a,environmentVariableName:b}){return"string"==typeof a?a:null!=a||"undefined"==typeof process?void 0:null!=(a=process.env[b])&&"string"==typeof a?a:void 0}function C(a){var b;let[c,d=""]=a.toLowerCase().split("/");return null!=(b=({mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"})[d])?b:d}var D=/"__proto__"\s*:/,E=/"constructor"\s*:/;function F(a){let{stackTraceLimit:b}=Error;Error.stackTraceLimit=0;try{let b=JSON.parse(a);return null===b||"object"!=typeof b||!1===D.test(a)&&!1===E.test(a)?b:function(a){let b=[a];for(;b.length;){let a=b;for(let c of(b=[],a)){if(Object.prototype.hasOwnProperty.call(c,"__proto__")||Object.prototype.hasOwnProperty.call(c,"constructor")&&Object.prototype.hasOwnProperty.call(c.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let a in c){let d=c[a];d&&"object"==typeof d&&b.push(d)}}}return a}(b)}finally{Error.stackTraceLimit=b}}var G=Symbol.for("vercel.ai.validator");async function H({value:a,schema:b}){let c=await I({value:a,schema:b});if(!c.success)throw d.iM.wrap({value:a,cause:c.error});return c.value}async function I({value:a,schema:b}){var c;let e="object"==typeof b&&null!==b&&G in b&&!0===b[G]&&"validate"in b?b:(c=b,{[G]:!0,validate:async a=>{let b=await c["~standard"].validate(a);return null==b.issues?{success:!0,value:b.value}:{success:!1,error:new d.iM({value:a,cause:b.issues})}}});try{if(null==e.validate)return{success:!0,value:a,rawValue:a};let b=await e.validate(a);if(b.success)return{success:!0,value:b.value,rawValue:a};return{success:!1,error:d.iM.wrap({value:a,cause:b.error}),rawValue:a}}catch(b){return{success:!1,error:d.iM.wrap({value:a,cause:b}),rawValue:a}}}async function J({text:a,schema:b}){try{let c=F(a);if(null==b)return c;return H({value:c,schema:b})}catch(b){if(d.u6.isInstance(b)||d.iM.isInstance(b))throw b;throw new d.u6({text:a,cause:b})}}async function K({text:a,schema:b}){try{let c=F(a);if(null==b)return{success:!0,value:c,rawValue:c};return await I({value:c,schema:b})}catch(b){return{success:!1,error:d.u6.isInstance(b)?b:new d.u6({text:a,cause:b}),rawValue:void 0}}}function L(a){try{return F(a),!0}catch(a){return!1}}function M({stream:a,schema:b}){return a.pipeThrough(new TextDecoderStream).pipeThrough(new g).pipeThrough(new TransformStream({async transform({data:a},c){"[DONE]"!==a&&c.enqueue(await K({text:a,schema:b}))}}))}async function N({provider:a,providerOptions:b,schema:c}){if((null==b?void 0:b[a])==null)return;let e=await I({value:b[a],schema:c});if(!e.success)throw new d.Di({argument:"providerOptions",message:`invalid ${a} provider options`,cause:e.error});return e.value}var O=()=>globalThis.fetch,P=async({url:a,headers:b,body:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>R({url:a,headers:{"Content-Type":"application/json",...b},body:{content:JSON.stringify(c),values:c},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),Q=async({url:a,headers:b,formData:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>R({url:a,headers:b,body:{content:c,values:Object.fromEntries(c.entries())},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),R=async({url:a,headers:b={},body:c,successfulResponseHandler:e,failedResponseHandler:f,abortSignal:g,fetch:h=O()})=>{try{let i=await h(a,{method:"POST",headers:p(b,`ai-sdk/provider-utils/${w}`,o()),body:c.content,signal:g}),j=n(i);if(!i.ok){let b;try{b=await f({response:i,url:a,requestBodyValues:c.values})}catch(b){if(t(b)||d.hL.isInstance(b))throw b;throw new d.hL({message:"Failed to process error response",cause:b,statusCode:i.status,url:a,responseHeaders:j,requestBodyValues:c.values})}throw b.value}try{return await e({response:i,url:a,requestBodyValues:c.values})}catch(b){if(b instanceof Error&&(t(b)||d.hL.isInstance(b)))throw b;throw new d.hL({message:"Failed to process successful response",cause:b,statusCode:i.status,url:a,responseHeaders:j,requestBodyValues:c.values})}}catch(b){throw v({error:b,url:a,requestBodyValues:c.values})}};function S({id:a,name:b,inputSchema:c}){return({execute:d,outputSchema:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider-defined",id:a,name:b,args:j,inputSchema:c,outputSchema:e,execute:d,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}function T({id:a,name:b,inputSchema:c,outputSchema:d}){return({execute:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i,...j})=>({type:"provider-defined",id:a,name:b,args:j,inputSchema:c,outputSchema:d,execute:e,toModelOutput:f,onInputStart:g,onInputDelta:h,onInputAvailable:i})}async function U(a){return"function"==typeof a&&(a=a()),Promise.resolve(a)}var V=({errorSchema:a,errorToMessage:b,isRetryable:c})=>async({response:e,url:f,requestBodyValues:g})=>{let h=await e.text(),i=n(e);if(""===h.trim())return{responseHeaders:i,value:new d.hL({message:e.statusText,url:f,requestBodyValues:g,statusCode:e.status,responseHeaders:i,responseBody:h,isRetryable:null==c?void 0:c(e)})};try{let j=await J({text:h,schema:a});return{responseHeaders:i,value:new d.hL({message:b(j),url:f,requestBodyValues:g,statusCode:e.status,responseHeaders:i,responseBody:h,data:j,isRetryable:null==c?void 0:c(e,j)})}}catch(a){return{responseHeaders:i,value:new d.hL({message:e.statusText,url:f,requestBodyValues:g,statusCode:e.status,responseHeaders:i,responseBody:h,isRetryable:null==c?void 0:c(e)})}}},W=a=>async({response:b})=>{let c=n(b);if(null==b.body)throw new d.Tt({});return{responseHeaders:c,value:M({stream:b.body,schema:a})}},X=a=>async({response:b,url:c,requestBodyValues:e})=>{let f=await b.text(),g=await K({text:f,schema:a}),h=n(b);if(!g.success)throw new d.hL({message:"Invalid JSON response",cause:g.error,statusCode:b.status,responseHeaders:h,responseBody:f,url:c,requestBodyValues:e});return{responseHeaders:h,value:g.value,rawValue:g.rawValue}},Y=()=>async({response:a,url:b,requestBodyValues:c})=>{let e=n(a);if(!a.body)throw new d.hL({message:"Response body is empty",url:b,requestBodyValues:c,statusCode:a.status,responseHeaders:e,responseBody:void 0});try{let b=await a.arrayBuffer();return{responseHeaders:e,value:new Uint8Array(b)}}catch(f){throw new d.hL({message:"Failed to read response as array buffer",url:b,requestBodyValues:c,statusCode:a.status,responseHeaders:e,responseBody:void 0,cause:f})}},Z=Symbol("Let zodToJsonSchema decide on which parser to use"),$={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function _(a,b){return ak(a.type._def,b)}var aa=void 0,ab={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===aa&&(aa=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),aa),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ac(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value;break;case"max":c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"email":switch(b.emailStrategy){case"format:email":af(c,"email",d.message,b);break;case"format:idn-email":af(c,"idn-email",d.message,b);break;case"pattern:zod":ag(c,ab.email,d.message,b)}break;case"url":af(c,"uri",d.message,b);break;case"uuid":af(c,"uuid",d.message,b);break;case"regex":ag(c,d.regex,d.message,b);break;case"cuid":ag(c,ab.cuid,d.message,b);break;case"cuid2":ag(c,ab.cuid2,d.message,b);break;case"startsWith":ag(c,RegExp(`^${ad(d.value,b)}`),d.message,b);break;case"endsWith":ag(c,RegExp(`${ad(d.value,b)}$`),d.message,b);break;case"datetime":af(c,"date-time",d.message,b);break;case"date":af(c,"date",d.message,b);break;case"time":af(c,"time",d.message,b);break;case"duration":af(c,"duration",d.message,b);break;case"length":c.minLength="number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,c.maxLength="number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value;break;case"includes":ag(c,RegExp(ad(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&af(c,"ipv4",d.message,b),"v4"!==d.version&&af(c,"ipv6",d.message,b);break;case"base64url":ag(c,ab.base64url,d.message,b);break;case"jwt":ag(c,ab.jwt,d.message,b);break;case"cidr":"v6"!==d.version&&ag(c,ab.ipv4Cidr,d.message,b),"v4"!==d.version&&ag(c,ab.ipv6Cidr,d.message,b);break;case"emoji":ag(c,ab.emoji(),d.message,b);break;case"ulid":ag(c,ab.ulid,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":af(c,"binary",d.message,b);break;case"contentEncoding:base64":c.contentEncoding="base64";break;case"pattern:zod":ag(c,ab.base64,d.message,b)}break;case"nanoid":ag(c,ab.nanoid,d.message,b)}return c}function ad(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)ae.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}var ae=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function af(a,b,c,d){var e;a.format||(null==(e=a.anyOf)?void 0:e.some(a=>a.format))?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format}),delete a.format),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):a.format=b}function ag(a,b,c,d){var e;a.pattern||(null==(e=a.allOf)?void 0:e.some(a=>a.pattern))?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern}),delete a.pattern),a.allOf.push({pattern:ah(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):a.pattern=ah(b,d)}function ah(a,b){var c;if(!b.applyRegexFlags||!a.flags)return a.source;let d={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},e=d.i?a.source.toLowerCase():a.source,f="",g=!1,h=!1,i=!1;for(let a=0;a<e.length;a++){if(g){f+=e[a],g=!1;continue}if(d.i){if(h){if(e[a].match(/[a-z]/)){i?(f+=e[a],f+=`${e[a-2]}-${e[a]}`.toUpperCase(),i=!1):"-"===e[a+1]&&(null==(c=e[a+2])?void 0:c.match(/[a-z]/))?(f+=e[a],i=!0):f+=`${e[a]}${e[a].toUpperCase()}`;continue}}else if(e[a].match(/[a-z]/)){f+=`[${e[a]}${e[a].toUpperCase()}]`;continue}}if(d.m){if("^"===e[a]){f+=`(^|(?<=[\r
]))`;continue}else if("$"===e[a]){f+=`($|(?=[\r
]))`;continue}}if(d.s&&"."===e[a]){f+=h?`${e[a]}\r
`:`[${e[a]}\r
]`;continue}f+=e[a],"\\"===e[a]?g=!0:h&&"]"===e[a]?h=!1:h||"["!==e[a]||(h=!0)}try{new RegExp(f)}catch(c){return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return f}function ai(a,b){var c,d,e,f,g,h;let i={type:"object",additionalProperties:null!=(c=ak(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]}))?c:b.allowedAdditionalProperties};if((null==(d=a.keyType)?void 0:d._def.typeName)===j.kY.ZodString&&(null==(e=a.keyType._def.checks)?void 0:e.length)){let{type:c,...d}=ac(a.keyType._def,b);return{...i,propertyNames:d}}if((null==(f=a.keyType)?void 0:f._def.typeName)===j.kY.ZodEnum)return{...i,propertyNames:{enum:a.keyType._def.values}};if((null==(g=a.keyType)?void 0:g._def.typeName)===j.kY.ZodBranded&&a.keyType._def.type._def.typeName===j.kY.ZodString&&(null==(h=a.keyType._def.type._def.checks)?void 0:h.length)){let{type:c,...d}=_(a.keyType._def,b);return{...i,propertyNames:d}}return i}var aj={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ak(a,b,c=!1){var d;let e=b.seen.get(a);if(b.override){let f=null==(d=b.override)?void 0:d.call(b,a,b,e,c);if(f!==Z)return f}if(e&&!c){let a=al(e,b);if(void 0!==a)return a}let f={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,f);let g=((a,b,c)=>{switch(b){case j.kY.ZodString:return ac(a,c);case j.kY.ZodNumber:var d,e,f,g,h,i,k=a;let l={type:"number"};if(!k.checks)return l;for(let a of k.checks)switch(a.kind){case"int":l.type="integer";break;case"min":a.inclusive?l.minimum=a.value:l.exclusiveMinimum=a.value;break;case"max":a.inclusive?l.maximum=a.value:l.exclusiveMaximum=a.value;break;case"multipleOf":l.multipleOf=a.value}return l;case j.kY.ZodObject:return function(a,b){let c={type:"object",properties:{}},d=[],e=a.shape();for(let a in e){let f=e[a];if(void 0===f||void 0===f._def)continue;let g=function(a){try{return a.isOptional()}catch(a){return!0}}(f),h=ak(f._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==h&&(c.properties[a]=h,g||d.push(a))}d.length&&(c.required=d);let f=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return ak(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==f&&(c.additionalProperties=f),c}(a,c);case j.kY.ZodBigInt:var m=a;let n={type:"integer",format:"int64"};if(!m.checks)return n;for(let a of m.checks)switch(a.kind){case"min":a.inclusive?n.minimum=a.value:n.exclusiveMinimum=a.value;break;case"max":a.inclusive?n.maximum=a.value:n.exclusiveMaximum=a.value;break;case"multipleOf":n.multipleOf=a.value}return n;case j.kY.ZodBoolean:return{type:"boolean"};case j.kY.ZodDate:return function a(b,c,d){let e=null!=d?d:c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b;let g={type:"integer",format:"unix-time"};for(let a of f.checks)switch(a.kind){case"min":g.minimum=a.value;break;case"max":g.maximum=a.value}return g}}(a,c);case j.kY.ZodUndefined:return{not:{}};case j.kY.ZodNull:return{type:"null"};case j.kY.ZodArray:var o,p,q,r=a,s=c;let t={type:"array"};return(null==(o=r.type)?void 0:o._def)&&(null==(q=null==(p=r.type)?void 0:p._def)?void 0:q.typeName)!==j.kY.ZodAny&&(t.items=ak(r.type._def,{...s,currentPath:[...s.currentPath,"items"]})),r.minLength&&(t.minItems=r.minLength.value),r.maxLength&&(t.maxItems=r.maxLength.value),r.exactLength&&(t.minItems=r.exactLength.value,t.maxItems=r.exactLength.value),t;case j.kY.ZodUnion:case j.kY.ZodDiscriminatedUnion:return function(a,b){let c=a.options instanceof Map?Array.from(a.options.values()):a.options;if(c.every(a=>a._def.typeName in aj&&(!a._def.checks||!a._def.checks.length))){let a=c.reduce((a,b)=>{let c=aj[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(c.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=c.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===c.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:c.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(c.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:c.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};var d=a,e=b;let f=(d.options instanceof Map?Array.from(d.options.values()):d.options).map((a,b)=>ak(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${b}`]})).filter(a=>!!a&&(!e.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return f.length?{anyOf:f}:void 0}(a,c);case j.kY.ZodIntersection:var u=a,v=c;let w=[ak(u.left._def,{...v,currentPath:[...v.currentPath,"allOf","0"]}),ak(u.right._def,{...v,currentPath:[...v.currentPath,"allOf","1"]})].filter(a=>!!a),x=[];return w.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)x.push(...a.allOf);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}x.push(b)}}),x.length?{allOf:x}:void 0;case j.kY.ZodTuple:return H=a,I=c,H.rest?{type:"array",minItems:H.items.length,items:H.items.map((a,b)=>ak(a._def,{...I,currentPath:[...I.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:ak(H.rest._def,{...I,currentPath:[...I.currentPath,"additionalItems"]})}:{type:"array",minItems:H.items.length,maxItems:H.items.length,items:H.items.map((a,b)=>ak(a._def,{...I,currentPath:[...I.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case j.kY.ZodRecord:return ai(a,c);case j.kY.ZodLiteral:var y=a;let z=typeof y.value;return"bigint"!==z&&"number"!==z&&"boolean"!==z&&"string"!==z?{type:Array.isArray(y.value)?"array":"object"}:{type:"bigint"===z?"integer":z,const:y.value};case j.kY.ZodEnum:return{type:"string",enum:Array.from(a.values)};case j.kY.ZodNativeEnum:var A=a;let B=A.values,C=Object.keys(A.values).filter(a=>"number"!=typeof B[B[a]]).map(a=>B[a]),D=Array.from(new Set(C.map(a=>typeof a)));return{type:1===D.length?"string"===D[0]?"string":"number":["string","number"],enum:C};case j.kY.ZodNullable:var E=a,F=c;if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(E.innerType._def.typeName)&&(!E.innerType._def.checks||!E.innerType._def.checks.length))return{type:[aj[E.innerType._def.typeName],"null"]};let G=ak(E.innerType._def,{...F,currentPath:[...F.currentPath,"anyOf","0"]});return G&&{anyOf:[G,{type:"null"}]};case j.kY.ZodOptional:var H,I,J,K=a,L=c;if(L.currentPath.toString()===(null==(J=L.propertyPath)?void 0:J.toString()))return ak(K.innerType._def,L);let M=ak(K.innerType._def,{...L,currentPath:[...L.currentPath,"anyOf","1"]});return M?{anyOf:[{not:{}},M]}:{};case j.kY.ZodMap:return d=a,"record"===(e=c).mapStrategy?ai(d,e):{type:"array",maxItems:125,items:{type:"array",items:[ak(d.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},ak(d.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case j.kY.ZodSet:var N=a,O=c;let P={type:"array",uniqueItems:!0,items:ak(N.valueType._def,{...O,currentPath:[...O.currentPath,"items"]})};return N.minSize&&(P.minItems=N.minSize.value),N.maxSize&&(P.maxItems=N.maxSize.value),P;case j.kY.ZodLazy:return()=>a.getter()._def;case j.kY.ZodPromise:return ak(a.type._def,c);case j.kY.ZodNaN:case j.kY.ZodNever:return{not:{}};case j.kY.ZodEffects:return f=a,"input"===(g=c).effectStrategy?ak(f.schema._def,g):{};case j.kY.ZodAny:case j.kY.ZodUnknown:return{};case j.kY.ZodDefault:return h=a,i=c,{...ak(h.innerType._def,i),default:h.defaultValue()};case j.kY.ZodBranded:return _(a,c);case j.kY.ZodReadonly:case j.kY.ZodCatch:return ak(a.innerType._def,c);case j.kY.ZodPipeline:var Q=a,R=c;if("input"===R.pipeStrategy)return ak(Q.in._def,R);if("output"===R.pipeStrategy)return ak(Q.out._def,R);let S=ak(Q.in._def,{...R,currentPath:[...R.currentPath,"allOf","0"]}),T=ak(Q.out._def,{...R,currentPath:[...R.currentPath,"allOf",S?"1":"0"]});return{allOf:[S,T].filter(a=>void 0!==a)};case j.kY.ZodFunction:case j.kY.ZodVoid:case j.kY.ZodSymbol:default:return}})(a,a.typeName,b),h="function"==typeof g?ak(g(),b):g;if(h&&am(a,b,h),b.postProcess){let c=b.postProcess(h,a,b);return f.jsonSchema=h,c}return f.jsonSchema=h,h}var al=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:((a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")})(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),{};return"seen"===b.$refStrategy?{}:void 0}},am=(a,b,c)=>(a.description&&(c.description=a.description),c),an=Symbol.for("vercel.ai.schema");function ao(a,{validate:b}={}){return{[an]:!0,_type:void 0,[G]:!0,jsonSchema:a,validate:b}}function ap(a){return null==a?ao({properties:{},additionalProperties:!1}):"object"==typeof a&&null!==a&&an in a&&!0===a[an]&&"jsonSchema"in a&&"validate"in a?a:function(a,b){if("_zod"in a){var c,d,e=void 0;let b=null!=(d=null==e?void 0:e.useReferences)&&d;return ao(h.b(a,{target:"draft-7",io:"output",reused:b?"ref":"inline"}),{validate:async b=>{let c=await i.bp(a,b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}return ao(((a,b)=>{var c;let d=(a=>{let b,c="string"==typeof(b=a)?{...$,name:b}:{...$,...b},d=void 0!==c.name?[...c.basePath,c.definitionPath,c.name]:c.basePath;return{...c,currentPath:d,propertyPath:void 0,seen:new Map(Object.entries(c.definitions).map(([a,b])=>[b._def,{def:b._def,path:[...c.basePath,c.definitionPath,a],jsonSchema:void 0}]))}})(b),e="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,c])=>{var e;return{...a,[b]:null!=(e=ak(c._def,{...d,currentPath:[...d.basePath,d.definitionPath,b]},!0))?e:{}}},{}):void 0,f="string"==typeof b?b:(null==b?void 0:b.nameStrategy)==="title"||null==b?void 0:b.name,g=null!=(c=ak(a._def,void 0===f?d:{...d,currentPath:[...d.basePath,d.definitionPath,f]},!1))?c:{},h="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==h&&(g.title=h);let i=void 0===f?e?{...g,[d.definitionPath]:e}:g:{$ref:[..."relative"===d.$refStrategy?[]:d.basePath,d.definitionPath,f].join("/"),[d.definitionPath]:{...e,[f]:g}};return i.$schema="http://json-schema.org/draft-07/schema#",i})(a,{$refStrategy:(c=void 0,"none")}),{validate:async b=>{let c=await a.safeParseAsync(b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}(a)}var{btoa:aq,atob:ar}=globalThis;function as(a){let b=ar(a.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(b,a=>a.codePointAt(0))}function at(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCodePoint(a[c]);return aq(b)}function au(a){return a instanceof Uint8Array?at(a):a}function av(a){return null==a?void 0:a.replace(/\/$/,"")}async function*aw({execute:a,input:b,options:c}){let d=a(b,c);if(null!=d&&"function"==typeof d[Symbol.asyncIterator]){let a;for await(let b of d)a=b,yield{type:"preliminary",output:b};yield{type:"final",output:a}}else yield{type:"final",output:await d}}},98925:(a,b,c)=>{function d(a){return a}function e(a){return a}function f(a){}function g(a){throw Error()}function h(a){}function i(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function j(a,b="|"){return a.map(a=>H(a)).join(b)}function k(a,b){return"bigint"==typeof b?b.toString():b}function l(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function m(a){return null==a}function n(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function o(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}function p(a,b,c){Object.defineProperty(a,b,{get(){{let d=c();return a[b]=d,d}},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function q(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function r(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function s(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function t(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function u(a){return JSON.stringify(a)}c.r(b),c.d(b,{BIGINT_FORMAT_RANGES:()=>K,Class:()=>Z,NUMBER_FORMAT_RANGES:()=>J,aborted:()=>R,allowsEval:()=>x,assert:()=>h,assertEqual:()=>d,assertIs:()=>f,assertNever:()=>g,assertNotEqual:()=>e,assignProp:()=>q,cached:()=>l,captureStackTrace:()=>v,cleanEnum:()=>Y,cleanRegex:()=>n,clone:()=>E,createTransparentProxy:()=>G,defineLazy:()=>p,esc:()=>u,escapeRegex:()=>D,extend:()=>N,finalizeIssue:()=>U,floatSafeRemainder:()=>o,getElementAtPath:()=>r,getEnumValues:()=>i,getLengthableOrigin:()=>W,getParsedType:()=>A,getSizableOrigin:()=>V,isObject:()=>w,isPlainObject:()=>y,issue:()=>X,joinValues:()=>j,jsonStringifyReplacer:()=>k,merge:()=>O,normalizeParams:()=>F,nullish:()=>m,numKeys:()=>z,omit:()=>M,optionalKeys:()=>I,partial:()=>P,pick:()=>L,prefixIssues:()=>S,primitiveTypes:()=>C,promiseAllObject:()=>s,propertyKeyTypes:()=>B,randomString:()=>t,required:()=>Q,stringifyPrimitive:()=>H,unwrapMessage:()=>T});let v=Error.captureStackTrace?Error.captureStackTrace:(...a)=>{};function w(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let x=l(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function y(a){if(!1===w(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==w(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function z(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let A=a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("undefined"!=typeof Map&&a instanceof Map)return"map";if("undefined"!=typeof Set&&a instanceof Set)return"set";if("undefined"!=typeof Date&&a instanceof Date)return"date";if("undefined"!=typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},B=new Set(["string","number","symbol"]),C=new Set(["string","number","bigint","boolean","symbol","undefined"]);function D(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function F(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function G(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function H(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function I(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let J={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},K={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function L(a,b){let c={},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&(c[a]=d.shape[a])}return E(a,{...a._zod.def,shape:c,checks:[]})}function M(a,b){let c={...a._zod.def.shape},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete c[a]}return E(a,{...a._zod.def,shape:c,checks:[]})}function N(a,b){if(!y(b))throw Error("Invalid input to extend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return q(this,"shape",c),c},checks:[]};return E(a,c)}function O(a,b){return E(a,{...a._zod.def,get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return q(this,"shape",c),c},catchall:b._zod.def.catchall,checks:[]})}function P(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return E(b,{...b._zod.def,shape:e,checks:[]})}function Q(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return E(b,{...b._zod.def,shape:e,checks:[]})}function R(a,b=0){for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function S(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function T(a){return"string"==typeof a?a:a?.message}function U(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=T(a.inst?._zod.def?.error?.(a))??T(b?.error?.(a))??T(c.customError?.(a))??T(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function V(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function W(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function X(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function Y(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}class Z{constructor(...a){}}}};