(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1776],{77460:(e,s,a)=>{Promise.resolve().then(a.bind(a,90367))},90367:(e,s,a)=>{"use strict";a.d(s,{TrainingDashboard:()=>w});var t=a(95155),i=a(2479),n=a(12115),r=a(83209),c=a(97003),l=a(67812),d=a(55850),o=a(90923),x=a(32559),m=a(52056),h=a(80534),j=a(1473),g=a(42529),u=a(26983),p=a(39867),f=a(17666),N=a(85921),v=a(39347),y=a(30814),b=a(1524);function w(){let[e,s]=(0,n.useState)(null),[a,w]=(0,n.useState)({}),[S,R]=(0,n.useState)([]),[T,A]=(0,n.useState)(!0),[Z,B]=(0,n.useState)("roxy"),[I,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{C()},[]);let C=async()=>{try{A(!0);let e=await fetch("/api/custom-agents/training?action=metrics"),a=await e.json();a.success&&s(a.metrics);let t={};for(let e of["roxy","blaze","echo","lumi","vex","lexi","nova","glitch"]){let s=await fetch("/api/custom-agents/training?action=agent-performance&agentId=".concat(e)),a=await s.json();a.success&&(t[e]=a.performance)}w(t);let i=await fetch("/api/custom-agents/training?action=fine-tuning-jobs"),n=await i.json();n.success&&R(n.jobs)}catch(e){(0,i.vV)("Error loading training data:",e)}finally{A(!1)}},F=async()=>{try{if(k(!0),!e||e.totalInteractions<5)return void alert("Insufficient training data. Please interact with your agents more to collect training data before starting fine-tuning.");let s=await fetch("/api/custom-agents/training",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"create-fine-tuning-job",agentId:Z,parameters:{model:"gpt-4o",epochs:3,learningRate:.001,batchSize:32,temperature:.7,customPrompts:[],dataFilters:{minRating:3,minConfidence:.7,successOnly:!0}}})}),a=await s.json();a.success?(await C(),alert("Training job started successfully!")):alert("Failed to start training: ".concat(a.error))}catch(e){(0,i.vV)("Error starting training:",e),alert("Failed to start training. Please try again.")}finally{k(!1)}},z=async()=>{try{let e=await fetch("/api/custom-agents/training",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"export-data",format:"json"})}),s=await e.json();if(s.success){let e=new Blob([s.data],{type:"application/json"}),a=window.URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="training-data-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(a),document.body.removeChild(t)}else alert("Failed to export data: ".concat(s.error))}catch(e){(0,i.vV)("Error exporting data:",e),alert("Failed to export data. Please try again.")}},E=e=>{switch(e){case"completed":return"bg-green-500";case"training":return"bg-blue-500";case"failed":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}};if(T)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})});let O=a[Z];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Agent Training Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Monitor and optimize your AI agents' performance"})]}),(0,t.jsxs)(c.$,{onClick:C,variant:"outline",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]}),e&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Interactions"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.totalInteractions.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all agents"})]})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Success Rate"}),(0,t.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[e.successRate.toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average across agents"})]})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"User Rating"}),(0,t.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[e.averageRating.toFixed(1),"/5"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average user satisfaction"})]})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.ZB,{className:"text-sm font-medium",children:"Response Time"}),(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[(e.averageResponseTime/1e3).toFixed(1),"s"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]})]}),(0,t.jsxs)(o.tU,{defaultValue:"overview",className:"space-y-4",children:[(0,t.jsxs)(o.j7,{children:[(0,t.jsx)(o.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(o.Xi,{value:"agents",children:"Agent Performance"}),(0,t.jsx)(o.Xi,{value:"training",children:"Fine-tuning"}),(0,t.jsx)(o.Xi,{value:"insights",children:"Insights"})]}),(0,t.jsx)(o.av,{value:"overview",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Top Performing Agents"}),(0,t.jsx)(r.BT,{children:"Agents ranked by success rate and user satisfaction"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:null==e?void 0:e.topPerformingAgents.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(l.E,{variant:"outline",children:["#",s+1]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium capitalize",children:e.agentId}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.totalInteractions," interactions"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-medium",children:[e.successRate.toFixed(1),"%"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.averageRating.toFixed(1),"★"]})]})]},e.agentId))})})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Recent Fine-tuning Jobs"}),(0,t.jsx)(r.BT,{children:"Latest training and optimization activities"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===S.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No fine-tuning jobs yet"}):S.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium capitalize",children:e.agentId}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.trainingDataSize," samples"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(E(e.status))}),(0,t.jsx)("span",{className:"text-sm capitalize",children:e.status})]})]},e.id))})})]})]})}),(0,t.jsxs)(o.av,{value:"agents",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Select Agent:"}),(0,t.jsx)("select",{value:Z,onChange:e=>B(e.target.value),className:"px-3 py-1 border rounded-md","aria-label":"Select agent to view performance",children:Object.keys(a).map(e=>(0,t.jsx)("option",{value:e,className:"capitalize",children:e},e))})]}),O&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Performance Score"}),(0,t.jsx)(r.BT,{children:"Overall performance rating"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-purple-600",children:O.overallScore.toFixed(0)}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"out of 100"})]}),(0,t.jsx)(d.k,{value:O.overallScore,className:"h-2"}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[O.benchmarkComparison.percentile.toFixed(0),"th percentile"]})]})})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Strengths & Weaknesses"}),(0,t.jsx)(r.BT,{children:"Key performance indicators"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-green-600 mb-2",children:"Strengths"}),(0,t.jsx)("div",{className:"space-y-1",children:O.strengths.map((e,s)=>(0,t.jsx)(l.E,{variant:"outline",className:"bg-green-50 text-green-700",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-red-600 mb-2",children:"Areas for Improvement"}),(0,t.jsx)("div",{className:"space-y-1",children:O.weaknesses.map((e,s)=>(0,t.jsx)(l.E,{variant:"outline",className:"bg-red-50 text-red-700",children:e},s))})]})]})})]}),(0,t.jsxs)(r.Zp,{className:"lg:col-span-2",children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Performance Insights"}),(0,t.jsx)(r.BT,{children:"Detailed analysis and recommendations"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:O.performanceInsights.map((e,s)=>(0,t.jsx)(x.Fc,{className:(e=>{switch(e){case"success":return"border-green-200 bg-green-50";case"warning":return"border-yellow-200 bg-yellow-50";case"error":return"border-red-200 bg-red-50";case"optimization":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}})(e.type),children:(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(e=>{switch(e){case"success":return(0,t.jsx)(g.A,{className:"h-4 w-4 text-green-500"});case"warning":return(0,t.jsx)(m.A,{className:"h-4 w-4 text-yellow-500"});case"error":return(0,t.jsx)(m.A,{className:"h-4 w-4 text-red-500"});case"optimization":return(0,t.jsx)(f.A,{className:"h-4 w-4 text-blue-500"});default:return(0,t.jsx)(y.A,{className:"h-4 w-4"})}})(e.type),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)(x.TN,{children:[(0,t.jsx)("div",{className:"font-medium",children:e.title}),(0,t.jsx)("div",{className:"text-sm mt-1",children:e.description}),(0,t.jsxs)("div",{className:"text-sm mt-2 font-medium",children:["Recommendation: ",e.recommendation]})]})}),(0,t.jsxs)(l.E,{variant:"outline",className:"ml-2",children:[e.impact," impact"]})]})},s))})})]})]})]}),(0,t.jsx)(o.av,{value:"training",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Start Fine-tuning"}),(0,t.jsx)(r.BT,{children:"Configure and start training for your selected agent"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Select Agent:"}),(0,t.jsx)("select",{value:Z,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border rounded-md mt-1","aria-label":"Select agent for training",children:Object.keys(a).map(e=>(0,t.jsx)("option",{value:e,className:"capitalize",children:e},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Training Parameters:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsx)("div",{children:"Epochs: 3"}),(0,t.jsx)("div",{children:"Learning Rate: 0.001"}),(0,t.jsx)("div",{children:"Batch Size: 32"}),(0,t.jsx)("div",{children:"Data Size: 100 samples"})]})]}),(0,t.jsxs)(c.$,{onClick:F,disabled:I||!e||e.totalInteractions<5,className:"w-full",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-2"}),I?"Starting Training...":!e||e.totalInteractions<5?"Need More Data":"Start Training"]}),(!e||e.totalInteractions<5)&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["Need at least 5 interactions to start training.",(0,t.jsx)("br",{}),"Current: ",(null==e?void 0:e.totalInteractions)||0," interactions"]})]})})]}),(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Recent Training Jobs"}),(0,t.jsx)(r.BT,{children:"Track your fine-tuning progress"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===S.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(j.A,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"No training jobs yet"}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"Start your first training job to see progress here"})]}):S.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium capitalize",children:e.agentId}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.trainingDataSize," samples • ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(E(e.status))}),(0,t.jsx)("span",{className:"text-sm capitalize",children:e.status})]})]},e.id))})})]})]})}),(0,t.jsx)(o.av,{value:"insights",className:"space-y-4",children:(0,t.jsxs)(r.Zp,{children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Training Insights"}),(0,t.jsx)(r.BT,{children:"Key insights and recommendations for improving your agents"})]}),(0,t.jsx)(r.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(x.Fc,{children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsxs)(x.TN,{children:[(0,t.jsx)("div",{className:"font-medium",children:"Data Collection"}),(0,t.jsx)("div",{className:"text-sm mt-1",children:"Continue using your agents to collect more training data. More interactions lead to better insights and recommendations."})]})]}),(0,t.jsxs)(x.Fc,{children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsxs)(x.TN,{children:[(0,t.jsx)("div",{className:"font-medium",children:"Performance Monitoring"}),(0,t.jsx)("div",{className:"text-sm mt-1",children:"Monitor agent performance regularly and provide feedback to improve response quality."})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(c.$,{variant:"outline",onClick:z,children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Export Data"]}),(0,t.jsxs)(c.$,{variant:"outline",onClick:F,disabled:I,children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-2"}),I?"Starting Training...":"Start Training"]})]})]})})]})})]})]})}}},e=>{e.O(0,[5848,8861,9701,5147,4961,9168,4774,27,6308,563,4696,9173,9219,4409,3376,9765,7650,8920,871,6680,6975,4228,3848,9809,8061,2807,1198,1159,5159,23,6529,5593,4180,3976,186,8790,7358],()=>e(e.s=77460)),_N_E=e.O()}]);