(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8105],{90273:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(95155),r=t(2479),i=t(12115),l=t(20063),n=t(52619),c=t.n(n),d=t(31322),o=t(35626),x=t(1473),m=t(26983),h=t(26145),j=t(93499),g=t(6191),u=t(89559),p=t(15870),v=t(84972),b=t(83209),y=t(67812),N=t(90923);function f(){var e;let s=(0,l.useParams)(),t=(0,l.useRouter)(),n=s.id,[f,w]=(0,i.useState)(!0),[k,A]=(0,i.useState)(null),[C,S]=(0,i.useState)([]),[E,T]=(0,i.useState)([]),[z,L]=(0,i.useState)([]),[P,_]=(0,i.useState)(!1),[I,R]=(0,i.useState)("overview"),[D,F]=(0,i.useState)("all"),[B,U]=(0,i.useState)("all"),Z=(0,i.useCallback)(async()=>{try{w(!0);let e=localStorage.getItem("auth_token"),s=await fetch("/api/competitors/".concat(n),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to fetch competitor data");let t=await s.json();A(t);let[a,r,i]=await Promise.all([fetch("/api/competitors/".concat(n,"/activities"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("/api/competitors/".concat(n,"/alerts"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("/api/competitors/".concat(n,"/insights"),{headers:{Authorization:"Bearer ".concat(e)}})]);if(a.ok){let e=await a.json();S(e)}if(r.ok){let e=await r.json();T(e)}if(i.ok){let e=await i.json();L(e)}}catch(e){(0,r.vV)("Error fetching competitor data:",e)}finally{w(!1)}},[n]);(0,i.useEffect)(()=>{Z()},[Z]);let M=async()=>{_(!0),await Z(),_(!1)},O=C.filter(e=>"all"===D||e.type===D),X=z.filter(e=>"all"===B||e.type===B);return f?(0,a.jsx)("div",{className:"min-h-screen gradient-background p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading competitor data..."})]})})}):k?(0,a.jsx)("div",{className:"min-h-screen gradient-background p-6",children:(0,a.jsxs)(d.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(c(),{href:"/dashboard/competitors",children:(0,a.jsxs)(v.e2,{variant:"outline",size:"sm",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Back to Competitors"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gradient",children:null==k?void 0:k.name}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null==k?void 0:k.domain})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(v.e2,{variant:"secondary",size:"sm",onClick:M,disabled:P,children:[P?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,a.jsxs)(v.e2,{variant:"secondary",size:"sm",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),(0,a.jsxs)(N.tU,{value:I,onValueChange:R,className:"space-y-6",children:[(0,a.jsxs)(N.j7,{className:"grid w-full grid-cols-6",children:[(0,a.jsx)(N.Xi,{value:"overview",children:"Overview"}),(0,a.jsx)(N.Xi,{value:"activity",children:"Activity"}),(0,a.jsx)(N.Xi,{value:"insights",children:"AI Insights"}),(0,a.jsx)(N.Xi,{value:"threat",children:"Threat Assessment"}),(0,a.jsx)(N.Xi,{value:"actions",children:"Action Plan"}),(0,a.jsx)(N.Xi,{value:"alerts",children:"Alerts"})]}),(0,a.jsx)(N.av,{value:"overview",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(b.Zp,{className:"lg:col-span-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gradient mb-4",children:"Company Overview"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null==k?void 0:k.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Industry"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null==k?void 0:k.industry})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Founded"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null==k?void 0:k.foundedYear})]})]})]})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gradient mb-4",children:"Threat Assessment"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold mb-2 ".concat((null==k?void 0:k.threatLevel)==="high"?"bg-red-100 text-red-800":(null==k?void 0:k.threatLevel)==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[null==k||null==(e=k.threatLevel)?void 0:e.toUpperCase()," THREAT"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null==k?void 0:k.threatLevel)==="high"?"Immediate attention required":(null==k?void 0:k.threatLevel)==="medium"?"Monitor closely":"Low priority monitoring"})]})]})]})}),(0,a.jsx)(N.av,{value:"activity",className:"space-y-6",children:(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"Activity Timeline"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("select",{value:D,onChange:e=>F(e.target.value),"aria-label":"Filter activities by type",className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Activities"}),(0,a.jsx)("option",{value:"website_change",children:"Website Changes"}),(0,a.jsx)("option",{value:"social_post",children:"Social Posts"}),(0,a.jsx)("option",{value:"job_posting",children:"Job Postings"}),(0,a.jsx)("option",{value:"funding",children:"Funding"})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:O.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 glass rounded-lg border-l-4 border-blue-500",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-semibold",children:e.title}),(0,a.jsx)(y.E,{variant:"outline",className:"text-xs",children:e.type.replace("_"," ").toUpperCase()})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 mr-1"}),new Date(e.timestamp).toLocaleString()]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"w-3 h-3 mr-1"}),e.source]})]})]})]},e.id))})]})}),(0,a.jsx)(N.av,{value:"insights",className:"space-y-6",children:(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gradient flex items-center",children:[(0,a.jsx)(x.A,{className:"w-6 h-6 mr-2"}),"AI Insights & Analysis"]}),(0,a.jsxs)("select",{value:B,onChange:e=>U(e.target.value),"aria-label":"Filter insights by type",className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Insights"}),(0,a.jsx)("option",{value:"threat",children:"Threat Analysis"}),(0,a.jsx)("option",{value:"opportunity",children:"Opportunities"}),(0,a.jsx)("option",{value:"trend",children:"Market Trends"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(e=>(0,a.jsxs)("div",{className:"p-4 glass rounded-lg border-l-4 ".concat("threat"===e.type?"border-red-500":"opportunity"===e.type?"border-green-500":"border-blue-500"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold",children:e.title}),(0,a.jsx)(y.E,{variant:"outline",className:"text-xs ".concat("threat"===e.type?"bg-red-100 text-red-800 border-red-200":"opportunity"===e.type?"bg-green-100 text-green-800 border-green-200":"bg-blue-100 text-blue-800 border-blue-200"),children:e.type.toUpperCase()})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)(y.E,{variant:"outline",className:"text-xs ".concat("high"===e.confidence?"bg-green-100 text-green-800 border-green-200":"medium"===e.confidence?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"),children:[e.confidence.toUpperCase()," CONFIDENCE"]})}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleDateString()})]})]},e.id))})]})}),(0,a.jsx)(N.av,{value:"threat",className:"space-y-6",children:(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gradient flex items-center",children:[(0,a.jsx)(h.A,{className:"w-6 h-6 mr-2"}),"Threat Assessment"]}),(0,a.jsxs)(v.e2,{variant:"secondary",size:"sm",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Update Analysis"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 glass rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"Competitive Threats"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm",children:"Market Share Growth"}),(0,a.jsx)(y.E,{variant:"destructive",children:"High Risk"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm",children:"Pricing Pressure"}),(0,a.jsx)(y.E,{variant:"secondary",children:"Medium Risk"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm",children:"Talent Acquisition"}),(0,a.jsx)(y.E,{variant:"outline",children:"Low Risk"})]})]})]}),(0,a.jsxs)("div",{className:"p-4 glass rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"Defensive Strategies"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("h5",{className:"font-medium text-sm",children:"Strengthen Brand Positioning"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Focus on unique value proposition"})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("h5",{className:"font-medium text-sm",children:"Customer Retention Program"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Implement loyalty rewards and better support"})]})]})]})]})]})}),(0,a.jsx)(N.av,{value:"actions",className:"space-y-6",children:(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"Action Plan"}),(0,a.jsxs)(v.e2,{variant:"secondary",size:"sm",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Add Action"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"p-4 glass rounded-lg border-l-4 border-blue-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"Lexi"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold",children:"Monitor competitor activity"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track their latest product releases and marketing campaigns"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.E,{variant:"outline",children:"monitoring"}),(0,a.jsx)(v.e2,{variant:"secondary",size:"sm",children:"Start Action"})]})]})})})]})}),(0,a.jsx)(N.av,{value:"alerts",className:"space-y-6",children:(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gradient",children:"Active Alerts"}),(0,a.jsx)(v.e2,{variant:"secondary",size:"sm",children:"Mark All Read"})]}),(0,a.jsx)("div",{className:"space-y-4",children:E.map(e=>(0,a.jsx)("div",{className:"p-4 glass rounded-lg border-l-4 ".concat("critical"===e.severity?"border-red-500":"urgent"===e.severity?"border-orange-500":"warning"===e.severity?"border-yellow-500":"border-blue-500"," ").concat(e.isRead?"":"bg-opacity-50"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold",children:e.title}),(0,a.jsx)(y.E,{variant:"outline",className:(e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-200";case"urgent":return"bg-orange-100 text-orange-800 border-orange-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e.severity),children:e.severity.toUpperCase()}),!e.isRead&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:new Date(e.timestamp).toLocaleString()})]})]}),(0,a.jsx)(v.e2,{variant:"secondary",size:"sm",children:"View Details"})]})},e.id))})]})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen gradient-background p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Competitor Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The competitor you're looking for doesn't exist."}),(0,a.jsx)(v.e2,{onClick:()=>t.push("/dashboard/competitors"),children:"Back to Competitors"})]})})})}},94089:(e,s,t)=>{Promise.resolve().then(t.bind(t,90273))}},e=>{e.O(0,[6975,4228,3848,9809,8061,2807,1198,1159,5159,23,6529,5593,4180,3976,186,8790,5848,8861,9701,5147,4961,2136,7908,8030,2583,9168,4774,27,6308,563,4696,9173,9219,4409,3376,9765,7650,8920,871,6680,7358],()=>e(e.s=94089)),_N_E=e.O()}]);