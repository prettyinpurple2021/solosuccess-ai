"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5809],{78399:(e,s,t)=>{t.d(s,{A:()=>L});var a=t(95155),i=t(12115),l=t(31322),n=t(97003),r=t(83209),c=t(2479),o=t(79668),d=t(25016);function x(e){let{className:s="",onInstall:t,onDismiss:x}=e,[m,h]=(0,i.useState)(null),[u,p]=(0,i.useState)(!1),[g,j]=(0,i.useState)(!1),[f,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=e=>{e.preventDefault(),h(e),setTimeout(()=>{j(!0)},3e3)},s=()=>{p(!0),j(!1),h(null),null==t||t()};return(()=>{if(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)return p(!0)})(),window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s)}},[t]);let N=async()=>{if(m){v(!0);try{await m.prompt();let{outcome:e}=await m.userChoice;"accepted"===e?(p(!0),j(!1),null==t||t()):(j(!1),null==x||x()),h(null)}catch(e){(0,c.vV)("Error during installation:",e)}finally{v(!1)}}};return!u&&m&&g?(0,a.jsx)(l.Nyo,{children:(0,a.jsx)(l.PY1.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3,ease:"easeOut"},className:(0,d.cn)("fixed bottom-4 left-4 right-4 z-50",s),children:(0,a.jsxs)(r.Zp,{className:"relative overflow-hidden border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 shadow-2xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-cyan-500/10 opacity-50"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)(o.sU,{className:"w-4 h-4 text-purple-500 animate-pulse"})}),(0,a.jsx)(r.aR,{className:"relative pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(o.wO,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Install SoloSuccess AI"}),(0,a.jsx)(r.BT,{className:"text-sm text-gray-600",children:"Get the full mobile experience"})]})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{j(!1),null==x||x()},className:"h-8 w-8 p-0 hover:bg-gray-100",children:(0,a.jsx)(o.X,{className:"w-4 h-4"})})]})}),(0,a.jsxs)(r.Wu,{className:"relative space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(o.MJ,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Offline access"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(o.Kq,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Faster loading"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(o.Oe,{className:"w-4 h-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Full features"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(o.rA,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Push notifications"})]})]}),(0,a.jsx)(n.$,{onClick:N,disabled:f,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-105",children:f?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Installing..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.f5,{className:"w-4 h-4"}),"Install App"]})}),(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"\uD83D\uDCA1 Get instant access to your AI business platform"})]})]})})}):null}var m=t(67812),h=t(55850),u=t(85952);function p(e){let{className:s="",onSyncComplete:t,onSyncError:c}=e,[o,x]=(0,i.useState)({isOnline:navigator.onLine,isSyncing:!1,lastSync:null,pendingActions:0,syncProgress:0,error:null}),[p,g]=(0,i.useState)([]),[j,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>{x(e=>({...e,isOnline:!0,error:null})),b()},s=()=>{x(e=>({...e,isOnline:!1}))};return window.addEventListener("online",e),window.addEventListener("offline",s),v(),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]);let v=(0,i.useCallback)(async()=>{try{let e=(await N()).transaction(["pendingActions"],"readonly").objectStore("pendingActions").getAll();e.onsuccess=()=>{let s=e.result||[];g(s),x(e=>({...e,pendingActions:s.length}))}}catch(e){console.error("Failed to load pending actions:",e)}},[]),N=(0,i.useCallback)(()=>new Promise((e,s)=>{let t=indexedDB.open("SoloSuccessOffline",1);t.onerror=()=>s(t.error),t.onsuccess=()=>e(t.result),t.onupgradeneeded=e=>{let s=e.target.result;if(!s.objectStoreNames.contains("pendingActions")){let e=s.createObjectStore("pendingActions",{keyPath:"id",autoIncrement:!1});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("resource","resource",{unique:!1})}if(!s.objectStoreNames.contains("offlineCache")){let e=s.createObjectStore("offlineCache",{keyPath:"key"});e.createIndex("resource","resource",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1})}}}),[]);(0,i.useCallback)(async e=>{let s={...e,id:"".concat(e.type,"_").concat(e.resource,"_").concat(Date.now()),timestamp:new Date,retries:0};try{let e=(await N()).transaction(["pendingActions"],"readwrite").objectStore("pendingActions");await new Promise((t,a)=>{let i=e.add(s);i.onsuccess=()=>t(),i.onerror=()=>a(i.error)}),g(e=>[...e,s]),x(e=>({...e,pendingActions:e.pendingActions+1}))}catch(e){console.error("Failed to add pending action:",e)}},[N]);let b=(0,i.useCallback)(async()=>{if(!o.isOnline||o.isSyncing||0===p.length)return;x(e=>({...e,isSyncing:!0,syncProgress:0,error:null}));let e=p.length,s=0,a=[];try{for(let t of p)try{await y(t),s++,await w(t.id),x(t=>({...t,syncProgress:s/e*100}))}catch(e){console.error("Failed to sync action ".concat(t.id,":"),e),a.push("".concat(t.type," ").concat(t.resource,": ").concat(e)),await k(t.id,t.retries+1)}0===a.length?(x(e=>({...e,lastSync:new Date,pendingActions:0,error:null})),null==t||t()):(x(e=>({...e,error:"".concat(a.length," actions failed to sync")})),null==c||c(a.join(", ")))}finally{x(e=>({...e,isSyncing:!1,syncProgress:0})),v()}},[o.isOnline,p,t,c,v]),y=async e=>{let{type:s,resource:t,data:a}=e;switch(s){case"create":return fetch("/api/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case"update":return fetch("/api/".concat(t,"/").concat(a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case"delete":return fetch("/api/".concat(t,"/").concat(a.id),{method:"DELETE"});default:throw Error("Unknown action type: ".concat(s))}},w=async e=>{try{let s=(await N()).transaction(["pendingActions"],"readwrite").objectStore("pendingActions");await new Promise((t,a)=>{let i=s.delete(e);i.onsuccess=()=>t(),i.onerror=()=>a(i.error)}),g(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Failed to remove pending action:",e)}},k=async(e,s)=>{try{let t=(await N()).transaction(["pendingActions"],"readwrite").objectStore("pendingActions"),a=p.find(s=>s.id===e);a&&(a.retries=s,await new Promise((e,s)=>{let i=t.put(a);i.onsuccess=()=>e(),i.onerror=()=>s(i.error)}))}catch(e){console.error("Failed to update pending action retries:",e)}};return(0,i.useCallback)(async(e,s,t)=>{try{let a=(await N()).transaction(["offlineCache"],"readwrite").objectStore("offlineCache"),i={key:e,resource:s,data:t,timestamp:new Date};await new Promise((e,s)=>{let t=a.put(i);t.onsuccess=()=>e(),t.onerror=()=>s(t.error)})}catch(e){console.error("Failed to cache data:",e)}},[N]),(0,i.useCallback)(async e=>{try{let s=(await N()).transaction(["offlineCache"],"readonly").objectStore("offlineCache");return new Promise((t,a)=>{let i=s.get(e);i.onsuccess=()=>{var e;return t((null==(e=i.result)?void 0:e.data)||null)},i.onerror=()=>a(i.error)})}catch(e){return console.error("Failed to get cached data:",e),null}},[N]),(0,a.jsxs)("div",{className:(0,d.cn)("space-y-4",s),children:[(0,a.jsxs)(r.Zp,{className:"border-2 border-gray-200",children:[(0,a.jsx)(r.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,d.cn)("w-10 h-10 rounded-full flex items-center justify-center",o.isOnline?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:o.isOnline?(0,a.jsx)(u.MJ,{className:"w-5 h-5"}):(0,a.jsx)(u.RQ,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{className:"text-lg",children:o.isOnline?"Online":"Offline"}),(0,a.jsx)(r.BT,{children:o.pendingActions>0?"".concat(o.pendingActions," actions pending sync"):"All data synced"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o.pendingActions>0&&(0,a.jsxs)(m.E,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,a.jsx)(u.zD,{className:"w-3 h-3 mr-1"}),o.pendingActions]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>f(!j),className:"h-8 w-8 p-0",children:(0,a.jsx)(u.Wm,{className:"w-4 h-4"})})]})]})}),o.isSyncing&&(0,a.jsx)(r.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{children:"Syncing data..."}),(0,a.jsxs)("span",{children:[Math.round(o.syncProgress),"%"]})]}),(0,a.jsx)(h.k,{value:o.syncProgress,className:"h-2"})]})}),o.error&&(0,a.jsx)(r.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[(0,a.jsx)(u.hc,{className:"w-4 h-4"}),o.error]})}),(0,a.jsx)(r.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.$,{size:"sm",onClick:b,disabled:!o.isOnline||o.isSyncing||0===o.pendingActions,className:"flex-1",children:[(0,a.jsx)(u.e9,{className:(0,d.cn)("w-4 h-4 mr-2",o.isSyncing&&"animate-spin")}),"Sync Now"]}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",onClick:v,disabled:o.isSyncing,children:(0,a.jsx)(u.e9,{className:"w-4 h-4"})})]})})]}),(0,a.jsx)(l.Nyo,{children:j&&(0,a.jsx)(l.PY1.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{className:"text-lg",children:"Sync Details"}),(0,a.jsx)(r.BT,{children:"Manage offline data and pending actions"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Last sync:"}),(0,a.jsx)("span",{className:"font-medium",children:(e=>{if(!e)return"Never";let s=Math.floor((new Date().getTime()-e.getTime())/6e4);if(s<1)return"Just now";if(s<60)return"".concat(s,"m ago");let t=Math.floor(s/60);if(t<24)return"".concat(t,"h ago");let a=Math.floor(t/24);return"".concat(a,"d ago")})(o.lastSync)})]}),p.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Pending Actions:"}),(0,a.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:p.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs bg-gray-50 p-2 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,d.cn)("w-2 h-2 rounded-full","create"===e.type&&"bg-green-500","update"===e.type&&"bg-blue-500","delete"===e.type&&"bg-red-500")}),(0,a.jsx)("span",{className:"capitalize",children:e.type}),(0,a.jsx)("span",{className:"text-gray-600",children:e.resource})]}),e.retries>0&&(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:[e.retries," retries"]})]},e.id))})]})]})]})})})]})}function g(e){let{onSwipe:s,onDoubleTap:t,onLongPress:l,onPinch:n,onRefresh:r,onBack:c,onMenu:o,children:d,className:x="",enablePullToRefresh:m=!0,enableSwipeBack:h=!0,enableEdgeSwipe:u=!0}=e,[p,g]=(0,i.useState)(null),[j,f]=(0,i.useState)(null),[v,N]=(0,i.useState)(0),[b,y]=(0,i.useState)(null),[w,k]=(0,i.useState)(!1),[S,_]=(0,i.useState)(!1),[C,A]=(0,i.useState)(""),E=(0,i.useRef)(null),P=(0,i.useCallback)(e=>{let s=e.touches[0],a=Date.now();g({x:s.clientX,y:s.clientY,time:a}),f(null),k(!1),_(!0),y(setTimeout(()=>{k(!0),A("Long Press"),null==l||l(),"vibrate"in navigator&&navigator.vibrate(50)},500)),a-v<300&&(A("Double Tap"),null==t||t(),"vibrate"in navigator&&navigator.vibrate([25,25,25])),N(a)},[t,l,v]),D=(0,i.useCallback)(e=>{if(!p)return;let s=e.touches[0];f({x:s.clientX,y:s.clientY,time:Date.now()}),b&&(clearTimeout(b),y(null));let t=s.clientX-p.x,a=s.clientY-p.y;Math.sqrt(t*t+a*a)>20&&(Math.abs(t)>Math.abs(a)?A(t>0?"Swipe Right →":"Swipe Left ←"):A(a>0?"Swipe Down ↓":"Swipe Up ↑"))},[p,b]),z=(0,i.useCallback)(()=>{if(!p||!j||w){_(!1),A("");return}b&&(clearTimeout(b),y(null));let e=j.x-p.x,t=j.y-p.y,a=Math.sqrt(e*e+t*t),i=j.time-p.time;a>50&&(null==s||s({direction:Math.abs(e)>Math.abs(t)?e>0?"right":"left":t>0?"down":"up",distance:a,velocity:a/i,duration:i}),"vibrate"in navigator&&navigator.vibrate(30));setTimeout(()=>{_(!1),A("")},1e3)},[p,j,w,b,s]);return(0,a.jsxs)("div",{ref:E,className:"relative touch-manipulation ".concat(x),onTouchStart:P,onTouchMove:D,onTouchEnd:z,children:[d,S&&C&&(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-black/80 text-white px-4 py-2 rounded-full font-bold text-sm animate-pulse",children:C})})]})}t(35833);var j=t(19161);let f=(0,i.createContext)(null);function v(e){let{children:s,className:t=""}=e,[c,o]=(0,i.useState)(!1),[h,u]=(0,i.useState)(navigator.onLine),[v,N]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),[w,k]=(0,i.useState)(null),[S,_]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=e=>{e.preventDefault(),k(e),N(!0)},s=()=>{o(!0),y(!1),k(null),N(!1)},t=()=>u(!0),a=()=>u(!1);return(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)&&o(!0),window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),window.addEventListener("online",t),window.addEventListener("offline",a),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s),window.removeEventListener("online",t),window.removeEventListener("offline",a)}},[]);let C=async()=>{if(!w)return!1;try{await w.prompt();let{outcome:e}=await w.userChoice;return"accepted"===e}catch(e){return console.error("Installation failed:",e),!1}},A=()=>{window.location.reload()};return(0,a.jsx)(f.Provider,{value:{isInstalled:c,isOnline:h,canInstall:v,install:C,refresh:A,showInstallPrompt:()=>y(!0),hideInstallPrompt:()=>y(!1)},children:(0,a.jsxs)(g,{onSwipe:e=>{switch(e.direction){case"down":e.distance>100&&A();break;case"right":e.distance>100&&!h&&_(!0)}},onDoubleTap:()=>{v&&!c&&y(!0)},onLongPress:()=>{_(!0)},enablePullToRefresh:!0,enableSwipeBack:!0,enableEdgeSwipe:!0,className:(0,d.cn)("min-h-screen",t),children:[(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 z-40 bg-white/90 backdrop-blur-sm border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.wO,{className:"w-4 h-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"SoloSuccess AI"}),c&&(0,a.jsx)(m.E,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:"Installed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,d.cn)("w-6 h-6 rounded-full flex items-center justify-center",h?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:h?(0,a.jsx)(j.MJ,{className:"w-3 h-3"}):(0,a.jsx)(j.RQ,{className:"w-3 h-3"})}),v&&!c&&(0,a.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>y(!0),className:"h-6 px-2 text-xs",children:[(0,a.jsx)(j.f5,{className:"w-3 h-3 mr-1"}),"Install"]})]})]})}),(0,a.jsx)("div",{className:"pt-12",children:s}),(0,a.jsx)(l.Nyo,{children:b&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center p-4",children:(0,a.jsx)(l.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"w-full max-w-sm",children:(0,a.jsx)(x,{onInstall:()=>y(!1),onDismiss:()=>y(!1)})})})}),(0,a.jsx)(l.Nyo,{children:S&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:(0,a.jsx)(l.PY1.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md",children:(0,a.jsxs)(r.Zp,{className:"max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Mobile Settings"}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:"✕"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(p,{})})]})})})}),!h&&(0,a.jsx)("div",{className:"fixed bottom-20 right-4 z-30 space-y-2",children:(0,a.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>_(!0),className:"h-10 w-10 p-0 bg-white/90 backdrop-blur-sm shadow-lg",children:(0,a.jsx)(j.wB,{className:"w-4 h-4"})})}),(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-30",children:(0,a.jsx)(r.Zp,{className:"bg-white/90 backdrop-blur-sm shadow-lg border-gray-200",children:(0,a.jsx)(r.Wu,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-around",children:[(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/dashboard",className:"flex flex-col items-center gap-1 h-auto py-2",children:[(0,a.jsx)(j.ww,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:A,className:"flex flex-col items-center gap-1 h-auto py-2",children:[(0,a.jsx)(j.e9,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs",children:"Refresh"})]}),(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>_(!0),className:"flex flex-col items-center gap-1 h-auto py-2",children:[(0,a.jsx)(j.Ir,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs",children:"Sync"})]}),v&&!c&&(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>y(!0),className:"flex flex-col items-center gap-1 h-auto py-2",children:[(0,a.jsx)(j.f5,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs",children:"Install"})]})]})})})})]})})}var N=t(7588),b=t(33884),y=t(87762);let w={type:"spring",stiffness:300,damping:30};function k(e){let{widgets:s,onWidgetAction:t,onWidgetReorder:c,className:o=""}=e,[x,u]=(0,i.useState)(null),[p,g]=(0,i.useState)(!1),j=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=setInterval(()=>{t("all","refresh")},3e4);return()=>clearInterval(e)},[t]),(0,a.jsxs)("div",{className:(0,d.cn)("space-y-4 pb-4",o),ref:j,children:[p&&(0,a.jsxs)(l.PY1.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Drag widgets to reorder"}),(0,a.jsx)(n.$,{size:"sm",onClick:()=>g(!1),className:"touch-target",children:"Done"})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.sort((e,s)=>e.priority-s.priority).map(e=>{let s={layout:!0,drag:!!p&&"y",dragConstraints:{top:0,bottom:0},dragElastic:.2,onDragStart:()=>u(e.id),onDragEnd:(s,a)=>{p||((e,s,a)=>{let{offset:i,velocity:l}=s;i.x>100||l.x>500?t(a,"quick_action"):i.x<-100||l.x<-500?t(a,"secondary_action"):Math.abs(i.y)>Math.abs(i.x)&&(i.y<-100?t(a,"expand"):i.y>100&&t(a,"collapse"))})(0,a,e.id),u(null)},animate:(0,l.sMZ)(),whileDrag:{scale:1.05,rotate:2},transition:w,onLongPress:()=>{var s;return s=e.id,void(g(!0),u(s),"vibrate"in navigator&&navigator.vibrate([50,30,50]))},className:(0,d.cn)("cursor-pointer select-none",x===e.id&&"z-10",p&&"cursor-move")};return(0,a.jsxs)(l.PY1.div,{...s,children:["stats"===e.type&&(e=>{let s=e.data;return(0,a.jsxs)(r.Zp,{className:"touch-friendly-card bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200",children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Today's Progress"}),(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:[s.completion_rate,"%"]})]})}),(0,a.jsxs)(r.Wu,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-white/50 rounded-lg touch-target",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:s.tasks_completed}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Tasks Done"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-white/50 rounded-lg touch-target",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.focus_minutes}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Focus Mins"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:"Daily Goal"}),(0,a.jsxs)("span",{children:[s.tasks_completed,"/",s.total_tasks]})]}),(0,a.jsx)(h.k,{value:s.completion_rate,className:"h-2"})]})]})]})})(e),"tasks"===e.type&&(e=>{let s=e.data;return(0,a.jsxs)(r.Zp,{className:"touch-friendly-card bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Quick Tasks"}),(0,a.jsx)(n.$,{size:"sm",className:"h-6 w-6 p-0 touch-target",onClick:()=>t(e.id,"add_task"),children:(0,a.jsx)(y.FW,{className:"h-3 w-3"})})]})}),(0,a.jsxs)(r.Wu,{className:"space-y-2",children:[s.slice(0,3).map((s,i)=>(0,a.jsxs)(l.PY1.div,{className:"flex items-center gap-3 p-2 bg-white/50 rounded-lg touch-target",whileTap:{scale:.98},onTap:()=>t(e.id,"complete_task",s.id),children:[(0,a.jsx)("div",{className:(0,d.cn)("w-4 h-4 rounded-full border-2 flex-shrink-0",s.completed?"bg-green-500 border-green-500":"border-gray-300"),children:s.completed&&(0,a.jsx)(y.rA,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:(0,d.cn)("text-xs font-medium truncate",s.completed&&"line-through text-gray-500"),children:s.title}),"high"===s.priority&&(0,a.jsx)(m.E,{variant:"destructive",className:"text-xs h-4",children:"High"})]})]},s.id)),s.length>3&&(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",className:"w-full text-xs touch-target",onClick:()=>t(e.id,"view_all"),children:["View ",s.length-3," more tasks",(0,a.jsx)(y.c_,{className:"h-3 w-3 ml-1"})]})]})]})})(e),"goals"===e.type&&(e=>{let s=e.data;return(0,a.jsxs)(r.Zp,{className:"touch-friendly-card bg-gradient-to-br from-orange-50 to-red-50 border-orange-200",children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Active Goals"}),(0,a.jsx)(n.$,{size:"sm",className:"h-6 w-6 p-0 touch-target",onClick:()=>t(e.id,"add_goal"),children:(0,a.jsx)(y.We,{className:"h-3 w-3"})})]})}),(0,a.jsx)(r.Wu,{className:"space-y-3",children:s.slice(0,2).map((s,i)=>(0,a.jsxs)(l.PY1.div,{className:"p-3 bg-white/50 rounded-lg touch-target",whileTap:{scale:.98},onTap:()=>t(e.id,"view_goal",s.id),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"text-xs font-medium truncate flex-1",children:s.title}),(0,a.jsxs)("div",{className:"text-xs text-orange-600 font-bold",children:[s.progress,"%"]})]}),(0,a.jsx)(h.k,{value:s.progress,className:"h-2"}),s.due_date&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,a.jsx)(y.Vv,{className:"h-3 w-3 text-gray-500"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Due ",new Date(s.due_date).toLocaleDateString()]})]})]},s.id))})]})})(e),"agents"===e.type&&(e=>{let s=e.data;return(0,a.jsxs)(r.Zp,{className:"touch-friendly-card bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200",children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"AI Squad"}),(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:[s.length," Active"]})]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map((s,i)=>(0,a.jsxs)(l.PY1.div,{className:"flex-shrink-0 p-3 bg-white/50 rounded-lg touch-target min-w-[80px] text-center",whileTap:{scale:.95},onTap:()=>t(e.id,"chat_agent",s.id),children:[(0,a.jsx)(b.eu,{className:"w-8 h-8 mx-auto mb-2",children:(0,a.jsx)(b.q5,{style:{backgroundColor:"var(--bg-color-".concat(Math.random().toString(36).substr(2,9),")")},className:"text-white text-xs",children:s.display_name.charAt(0)})}),(0,a.jsx)("div",{className:"text-xs font-medium truncate",children:s.display_name}),s.has_new_messages&&(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mx-auto mt-1"})]},s.id))})})]})})(e),"insights"===e.type&&(e=>{let s=e.data;return(0,a.jsxs)(r.Zp,{className:"touch-friendly-card bg-gradient-to-br from-teal-50 to-cyan-50 border-teal-200",children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"AI Insights"}),(0,a.jsx)(n.$,{size:"sm",className:"h-6 w-6 p-0 touch-target",onClick:()=>t(e.id,"refresh_insights"),children:(0,a.jsx)(y.e9,{className:"h-3 w-3"})})]})}),(0,a.jsx)(r.Wu,{className:"space-y-2",children:s.slice(0,2).map((s,i)=>(0,a.jsx)(l.PY1.div,{className:"p-3 bg-white/50 rounded-lg touch-target",whileTap:{scale:.98},onTap:()=>t(e.id,"view_insight",s),children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-teal-500 rounded-full mt-2 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-medium mb-1",children:s.title}),(0,a.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:s.description})]})]})},i))})]})})(e),"focus"===e.type&&(e=>{let s=e.data;return(0,a.jsxs)(r.Zp,{className:"touch-friendly-card bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200",children:[(0,a.jsx)(r.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Focus Session"}),(0,a.jsx)(m.E,{variant:"outline",className:"text-xs",children:s.is_active?"Active":"Ready"})]})}),(0,a.jsxs)(r.Wu,{className:"text-center space-y-3",children:[(0,a.jsxs)("div",{className:"relative w-24 h-24 mx-auto",children:[(0,a.jsxs)("svg",{className:"w-24 h-24 transform -rotate-90",children:[(0,a.jsx)("circle",{cx:"48",cy:"48",r:"40",fill:"transparent",stroke:"#f3f4f6",strokeWidth:"6"}),(0,a.jsx)("circle",{cx:"48",cy:"48",r:"40",fill:"transparent",stroke:"#f59e0b",strokeWidth:"6",strokeDasharray:"".concat(2*Math.PI*40),strokeDashoffset:"".concat(2*Math.PI*40*(1-s.progress/100)),className:"transition-all duration-300"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-600",children:s.remaining_time}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"mins"})]})})]}),(0,a.jsxs)(n.$,{className:(0,d.cn)("w-full touch-target",s.is_active?"bg-red-500 hover:bg-red-600":"bg-yellow-500 hover:bg-yellow-600"),onClick:()=>t(e.id,s.is_active?"stop_focus":"start_focus"),children:[(0,a.jsx)(y.zD,{className:"w-4 h-4 mr-2"}),s.is_active?"Stop Focus":"Start Focus"]})]})]})})(e)]},e.id)})}),(0,a.jsx)(l.PY1.div,{className:"sticky bottom-0 bg-white/90 backdrop-blur-sm border-t p-4 -mx-4",initial:!1,children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex-col h-12 touch-target",onClick:()=>t("quick","add_task"),children:[(0,a.jsx)(y.FW,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"Task"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex-col h-12 touch-target",onClick:()=>t("quick","chat_ai"),children:[(0,a.jsx)(y.zW,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"AI Chat"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex-col h-12 touch-target",onClick:()=>t("quick","start_focus"),children:[(0,a.jsx)(y.zD,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"Focus"})]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",className:"flex-col h-12 touch-target",onClick:()=>t("quick","view_analytics"),children:[(0,a.jsx)(y.VH,{className:"h-4 w-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs",children:"Stats"})]})]})})]})}var S=t(95245),_=t(20063);let C=[{id:"dashboard",label:"Command Center",icon:S.ww,href:"/dashboard",color:"text-purple-600",quickActions:[{id:"overview",label:"Overview",icon:S.VH,action:()=>{}},{id:"insights",label:"Insights",icon:S.Kq,action:()=>{}}]},{id:"tasks",label:"SlayList",icon:S.SE,href:"/dashboard/slaylist",color:"text-green-600",quickActions:[{id:"add_task",label:"New Task",icon:S.FW,action:()=>{}},{id:"today",label:"Today's Tasks",icon:S.Vv,action:()=>{}}]},{id:"goals",label:"Empire Goals",icon:S.We,href:"/dashboard/goals",color:"text-orange-600",quickActions:[{id:"add_goal",label:"New Goal",icon:S.We,action:()=>{}},{id:"progress",label:"Progress",icon:S.VH,action:()=>{}}]},{id:"agents",label:"AI Squad",icon:S.zW,href:"/dashboard/agents",color:"text-blue-600",badge:2,quickActions:[{id:"roxy",label:"Chat Roxy",icon:S.oF,action:()=>{}},{id:"blaze",label:"Chat Blaze",icon:S.Kq,action:()=>{}}]},{id:"briefcase",label:"Briefcase",icon:S.ZH,href:"/dashboard/briefcase",color:"text-indigo-600",quickActions:[{id:"upload",label:"Upload File",icon:S.FW,action:()=>{}},{id:"recent",label:"Recent Files",icon:S.zD,action:()=>{}}]},{id:"analytics",label:"Analytics",icon:S.VH,href:"/dashboard/analytics",color:"text-teal-600",quickActions:[{id:"overview",label:"Overview",icon:S.ww,action:()=>{}},{id:"reports",label:"Reports",icon:S.iU,action:()=>{}}]}];function A(e){var s,t,r;let{user:c,notifications:o=0,onNotificationClick:x,className:h=""}=e,[u,p]=(0,i.useState)(!1),[g,j]=(0,i.useState)(null),[f,v]=(0,i.useState)(null),N=(0,_.useRouter)(),y=(0,_.usePathname)(),w=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{w.current&&!w.current.contains(e.target)&&(p(!1),v(null))};return u&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[u]),(0,i.useEffect)(()=>{let e=C.find(e=>y.startsWith(e.href));j((null==e?void 0:e.id)||null)},[y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.PY1.div,{className:(0,d.cn)("lg:hidden sticky top-0 z-40 w-full bg-white/90 backdrop-blur-sm border-b border-gray-200",h),initial:!1,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 touch-target",onClick:()=>p(!0),children:(0,a.jsx)(S.W1,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(S.Oe,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-bold text-lg boss-heading",children:"SoloSuccess AI"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:(null==(s=C.find(e=>e.id===g))?void 0:s.label)||"Dashboard"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 touch-target",children:(0,a.jsx)(S.vj,{className:"h-5 w-5"})}),(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 relative touch-target",onClick:x,children:[(0,a.jsx)(S.Ir,{className:"h-5 w-5"}),o>0&&(0,a.jsx)(m.E,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs bg-red-500 text-white rounded-full flex items-center justify-center",children:o>9?"9+":o})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 touch-target",children:(0,a.jsxs)(b.eu,{className:"h-8 w-8",children:[(0,a.jsx)(b.BK,{src:null==c?void 0:c.avatar,alt:null==c?void 0:c.name}),(0,a.jsx)(b.q5,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white text-xs",children:(null==c||null==(t=c.name)?void 0:t.charAt(0))||(0,a.jsx)(S.KJ,{className:"h-4 w-4"})})]})})]})]}),(0,a.jsx)(l.PY1.div,{className:"absolute left-0 top-0 w-6 h-full",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(e,s)=>{s.offset.x>150&&s.velocity.x>0?p(!0):s.offset.x<-150&&s.velocity.x<0&&p(!1)}})]}),(0,a.jsx)(l.Nyo,{children:u&&(0,a.jsx)(l.PY1.div,{initial:"closed",animate:"open",exit:"closed",variants:{closed:{opacity:0,pointerEvents:"none"},open:{opacity:1,pointerEvents:"auto"}},className:"lg:hidden fixed inset-0 z-50 bg-black/20 backdrop-blur-sm",onClick:()=>p(!1)})}),(0,a.jsx)(l.Nyo,{children:u&&(0,a.jsx)(l.PY1.div,{ref:w,initial:"closed",animate:"open",exit:"closed",variants:{closed:{x:-320,transition:{type:"spring",stiffness:300,damping:30}},open:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},className:"lg:hidden fixed left-0 top-0 z-50 h-full w-80 bg-white shadow-2xl",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(b.eu,{className:"h-10 w-10",children:[(0,a.jsx)(b.BK,{src:null==c?void 0:c.avatar,alt:null==c?void 0:c.name}),(0,a.jsx)(b.q5,{className:"bg-white/20 text-white",children:(null==c||null==(r=c.name)?void 0:r.charAt(0))||(0,a.jsx)(S.KJ,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:(null==c?void 0:c.name)||"Welcome!"}),(0,a.jsxs)("div",{className:"text-xs opacity-90",children:["Level ",(null==c?void 0:c.level)||1," • ",(null==c?void 0:c.points)||0," points"]})]})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-white hover:bg-white/20",onClick:()=>p(!1),children:(0,a.jsx)(S.X,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:(0,a.jsx)("div",{className:"space-y-1 px-4",children:C.map(e=>(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(l.PY1.button,{className:(0,d.cn)("w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors touch-target",g===e.id?"bg-purple-50 text-purple-700 border-l-4 border-purple-600":"text-gray-700 hover:bg-gray-50",e.isNew&&"relative"),onClick:()=>{e.quickActions&&e.quickActions.length>0?v(f===e.id?null:e.id):(N.push(e.href),p(!1))},whileTap:{scale:.98},children:[(0,a.jsx)(e.icon,{className:(0,d.cn)("h-5 w-5",e.color)}),(0,a.jsx)("span",{className:"flex-1 font-medium",children:e.label}),e.badge&&(0,a.jsx)(m.E,{className:"h-5 px-2 text-xs bg-red-500 text-white",children:e.badge}),e.isNew&&(0,a.jsx)(m.E,{className:"h-5 px-2 text-xs bg-green-500 text-white",children:"New"}),e.quickActions&&(0,a.jsx)(S.c_,{className:(0,d.cn)("h-4 w-4 transition-transform",f===e.id&&"rotate-90")})]}),(0,a.jsx)(l.Nyo,{children:f===e.id&&e.quickActions&&(0,a.jsx)(l.PY1.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden ml-8 space-y-1",children:e.quickActions.map(e=>(0,a.jsxs)(l.PY1.button,{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors touch-target",onClick:()=>{e.action(),p(!1),v(null)},whileTap:{scale:.98},children:[(0,a.jsx)(e.icon,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]},e.id))})})]},e.id))})}),(0,a.jsxs)("div",{className:"border-t p-4 space-y-3",children:[(0,a.jsxs)(n.$,{variant:"ghost",className:"w-full justify-start gap-3 touch-target",onClick:()=>{N.push("/dashboard/settings"),p(!1)},children:[(0,a.jsx)(S.wB,{className:"h-5 w-5"}),"Settings"]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center text-xs",children:[(0,a.jsxs)("div",{className:"p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"font-bold text-purple-600",children:"12"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Tasks"})]}),(0,a.jsxs)("div",{className:"p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"font-bold text-green-600",children:"87%"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Progress"})]}),(0,a.jsxs)("div",{className:"p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"font-bold text-blue-600",children:"5"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Goals"})]})]})]})]})})}),(0,a.jsx)(l.PY1.div,{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 safe-area-pb",initial:!1,children:(0,a.jsx)("div",{className:"grid grid-cols-5 gap-1 p-2",children:C.slice(0,5).map(e=>(0,a.jsxs)(l.PY1.button,{className:(0,d.cn)("flex flex-col items-center gap-1 p-2 rounded-lg transition-colors touch-target",g===e.id?"bg-purple-50 text-purple-700":"text-gray-600 hover:bg-gray-50"),onClick:()=>{N.push(e.href)},whileTap:{scale:.95},children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),e.badge&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,a.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.label.split(" ")[0]})]},e.id))})})]})}var E=t(13402),P=t(71663),D=t(73900);function z(e){let{user:s,dashboardData:t,className:o=""}=e,x=(0,N.a)(),{data:m,loading:h,error:u}=(0,P.e)(),[p,j]=(0,i.useState)(!1),[f,v]=(0,i.useState)(3),[b,y]=(0,i.useState)(!0),[w,S]=(0,i.useState)(new Date),_=t||m||null,C=[{id:"stats",type:"stats",title:"Today's Progress",priority:1,data:{completion_rate:_?Math.round(_.todaysStats.tasks_completed/Math.max(1,_.todaysStats.total_tasks)*100):0,tasks_completed:(null==_?void 0:_.todaysStats.tasks_completed)||0,focus_minutes:(null==_?void 0:_.todaysStats.focus_minutes)||0,total_tasks:(null==_?void 0:_.todaysStats.total_tasks)||0}},{id:"tasks",type:"tasks",title:"Quick Tasks",priority:2,data:((null==_?void 0:_.todaysTasks)||[]).map(e=>({...e,completed:"completed"===e.status}))},{id:"goals",type:"goals",title:"Active Goals",priority:3,data:((null==_?void 0:_.activeGoals)||[]).map(e=>({...e,progress:e.progress_percentage,due_date:e.target_date}))},{id:"agents",type:"agents",title:"AI Squad",priority:4,data:((null==_?void 0:_.recentConversations)||[]).map(e=>({id:e.id,display_name:e.agent.display_name,has_new_messages:!1}))},{id:"insights",type:"insights",title:"AI Insights",priority:5,data:(null==_?void 0:_.insights)||[]},{id:"focus",type:"focus",title:"Focus Session",priority:6,data:{is_active:!1,progress:0,remaining_time:25}}];return((0,i.useEffect)(()=>{let e=()=>y(!0),s=()=>y(!1);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]),x)?(0,a.jsxs)("div",{className:(0,d.cn)("min-h-screen bg-gray-50",o),children:[(0,a.jsx)(A,{user:s||(_?{name:_.user.full_name||"Boss",email:_.user.email}:void 0),notifications:f,onNotificationClick:()=>v(0)}),(0,a.jsx)(g,{onSwipe:e=>{switch((0,c.fH)("Swipe gesture detected",{direction:e.direction,velocity:e.velocity}),e.direction){case"up":case"left":break;case"down":S(new Date)}},onDoubleTap:()=>{j(!0)},onLongPress:()=>{(0,c.fH)("Widget reorder mode activated",{method:"long_press"})},className:"flex-1",children:(0,a.jsxs)("div",{className:"pb-20 pt-4 px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,d.cn)("w-2 h-2 rounded-full",b?"bg-green-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:b?"Online":"Offline"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Last sync: ",w.toLocaleTimeString()]})]}),(0,a.jsx)(l.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:(0,a.jsx)(r.Zp,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white border-0",children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:h?"Loading your dashboard…":"Welcome back, ".concat((null==s?void 0:s.name)||(null==_?void 0:_.user.full_name)||"Boss","! \uD83D\uDC51")}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:h?"Fetching stats…":"Level ".concat((null==s?void 0:s.level)||(_?_.user.level:1)," • ").concat((null==s?void 0:s.points)||(_?_.user.total_points:0)," points")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.Oe,{className:"h-6 w-6"}),(0,a.jsx)(D.sU,{className:"h-5 w-5"})]})]})})})}),h?(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"})]})]})})}):(0,a.jsx)(k,{widgets:C,onWidgetAction:(e,s,t)=>{switch((0,c.fH)("Widget action triggered",{widgetId:e,action:s,data:t}),s){case"add_task":j(!0);break;case"chat_agent":case"start_focus":break;case"refresh":S(new Date)}},onWidgetReorder:e=>{(0,c.fH)("Widgets reordered",{newOrder:e.map(e=>e.id)})}}),(0,a.jsx)(l.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-6",children:(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null==_?void 0:_.todaysStats.tasks_completed)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Tasks Done"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==_?void 0:_.todaysStats.focus_minutes)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Focus Mins"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==_?void 0:_.todaysStats.goals_achieved)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Goals Hit"})]})]})})})})]})}),(0,a.jsx)(l.PY1.div,{className:"fixed bottom-20 right-4 z-30",initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:300},children:(0,a.jsx)(n.$,{onClick:()=>j(!0),className:"h-14 w-14 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-lg",children:(0,a.jsx)(D.GO,{className:"h-6 w-6"})})}),(0,a.jsx)(E.A,{isOpen:p,onClose:()=>j(!1),onTaskCreate:e=>{(0,c.fH)("Task created via voice",{taskId:e.id,title:e.title}),j(!1)}}),(0,a.jsx)(l.PY1.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"fixed bottom-2 left-2 right-2 z-20",children:(0,a.jsx)(r.Zp,{className:"bg-black/80 text-white border-0",children:(0,a.jsx)(r.Wu,{className:"p-2",children:(0,a.jsxs)("div",{className:"text-center text-xs",children:[(0,a.jsx)("span",{className:"mr-4",children:"\uD83D\uDC46 Double tap for voice"}),(0,a.jsx)("span",{className:"mr-4",children:"\uD83D\uDC46 Long press to reorder"}),(0,a.jsx)("span",{children:"\uD83D\uDC46 Swipe to navigate"})]})})})})]}):null}var T=t(78461);function W(e){let{user:s,dashboardData:t,className:c=""}=e,{isInstalled:o,isOnline:x,canInstall:u,install:p,refresh:g}=function(){let e=(0,i.useContext)(f);if(!e)throw Error("usePWAMobile must be used within a MobilePWAProvider");return e}(),[j,v]=(0,i.useState)(!1),[N,b]=(0,i.useState)(!1),y=async()=>{v(!0),await g(),setTimeout(()=>v(!1),1e3)},w=async()=>{await p()},k=[{id:"voice-task",label:"Voice Task",icon:T.Kq,action:()=>{let e=document.querySelector("[data-voice-task]");e&&e.click()},color:"bg-purple-500"},{id:"focus-session",label:"Focus",icon:T.We,action:()=>{window.location.href="/dashboard/focus"},color:"bg-blue-500"},{id:"ai-chat",label:"AI Chat",icon:T.sU,action:()=>{window.location.href="/dashboard/agents"},color:"bg-pink-500"},{id:"analytics",label:"Stats",icon:T.nt,action:()=>{window.location.href="/dashboard/analytics"},color:"bg-green-500"}];return(0,a.jsxs)("div",{className:(0,d.cn)("min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",c),children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(T.Oe,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[x?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[(0,a.jsx)(T.MJ,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Online"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-red-600",children:[(0,a.jsx)(T.RQ,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Offline"})]}),o&&(0,a.jsx)(m.E,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:"PWA"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:y,disabled:j,className:"h-8 w-8 p-0",children:(0,a.jsx)(T.e9,{className:(0,d.cn)("w-4 h-4",j&&"animate-spin")})}),u&&!o&&(0,a.jsxs)(n.$,{size:"sm",onClick:w,className:"h-8 px-3 text-xs bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[(0,a.jsx)(T.f5,{className:"w-3 h-3 mr-1"}),"Install"]})]})]})}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(r.Zp,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.rA,{className:"w-4 h-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tasks"})]}),(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:[(null==t?void 0:t.todaysStats.tasks_completed)||0,"/",(null==t?void 0:t.todaysStats.total_tasks)||0]})]}),(0,a.jsx)(h.k,{value:((null==t?void 0:t.todaysStats.tasks_completed)||0)/Math.max((null==t?void 0:t.todaysStats.total_tasks)||1,1)*100,className:"h-2"})]})}),(0,a.jsx)(r.Zp,{className:"border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-cyan-50",children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.zD,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Focus"})]}),(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs",children:[(null==t?void 0:t.todaysStats.focus_minutes)||0,"m"]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(null==t?void 0:t.todaysStats.focus_minutes)||0," minutes today"]})]})}),(0,a.jsx)(r.Zp,{className:"border-2 border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.nt,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Score"})]}),(0,a.jsxs)(m.E,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:[(null==t?void 0:t.todaysStats.productivity_score)||0,"%"]})]}),(0,a.jsx)(h.k,{value:(null==t?void 0:t.todaysStats.productivity_score)||0,className:"h-2"})]})}),(0,a.jsx)(r.Zp,{className:"border-2 border-pink-200 bg-gradient-to-br from-pink-50 to-rose-50",children:(0,a.jsxs)(r.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.sU,{className:"w-4 h-4 text-pink-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"AI Chat"})]}),(0,a.jsx)(m.E,{variant:"outline",className:"text-xs",children:(null==t?void 0:t.todaysStats.ai_interactions)||0})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Conversations today"})]})})]}),(0,a.jsxs)(r.Zp,{className:"border-2 border-gray-200",children:[(0,a.jsx)(r.aR,{className:"pb-3",children:(0,a.jsxs)(r.ZB,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(T.Kq,{className:"w-5 h-5 text-purple-600"}),"Quick Actions"]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:k.map(e=>(0,a.jsxs)(n.$,{variant:"outline",onClick:e.action,className:"h-16 flex flex-col items-center justify-center gap-2 hover:scale-105 transition-transform",children:[(0,a.jsx)("div",{className:(0,d.cn)("w-8 h-8 rounded-full flex items-center justify-center text-white",e.color),children:(0,a.jsx)(e.icon,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.id))})})]}),(0,a.jsx)(z,{user:s,dashboardData:t,className:"border-2 border-gray-200"})]}),(0,a.jsx)(l.Nyo,{children:N&&(0,a.jsx)(l.PY1.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-24 right-4 z-40 space-y-2",children:k.map((e,s)=>(0,a.jsx)(l.PY1.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:(0,a.jsx)(n.$,{size:"sm",onClick:e.action,className:(0,d.cn)("h-12 w-12 rounded-full shadow-lg text-white",e.color,"hover:scale-110 transition-transform"),children:(0,a.jsx)(e.icon,{className:"w-5 h-5"})})},e.id))})}),(0,a.jsx)(n.$,{size:"lg",onClick:()=>b(!N),className:"fixed bottom-4 right-4 z-50 h-14 w-14 rounded-full shadow-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:(0,a.jsx)(T.Kq,{className:"w-6 h-6"})})]})}function L(e){return(0,a.jsx)(v,{children:(0,a.jsx)(W,{...e})})}}}]);