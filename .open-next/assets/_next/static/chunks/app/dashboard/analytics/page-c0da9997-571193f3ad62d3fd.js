"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7433],{8587:(e,a,s)=>{s.d(a,{v:()=>b});var t=s(95155),l=s(12115),i=s(31322),c=s(83209),n=s(97003),r=s(83550),d=s(90923),o=s(67812),h=s(27346),m=s(46163),x=s(53050),p=s(59600),g=s(23523),u=s(28171),j=s(2479);let f={purple:["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE","#EDE9FE"],blue:["#3B82F6","#60A5FA","#93C5FD","#BFDBFE","#DBEAFE"],green:["#10B981","#34D399","#6EE7B7","#A7F3D0","#D1FAE5"],orange:["#F59E0B","#FBBF24","#FCD34D","#FDE68A","#FEF3C7"],red:["#EF4444","#F87171","#FCA5A5","#FECACA","#FEE2E2"],pink:["#EC4899","#F472B6","#F9A8D4","#FBCFE8","#FCE7F3"],indigo:["#6366F1","#818CF8","#A5B4FC","#C7D2FE","#E0E7FF"],teal:["#14B8A6","#5EEAD4","#99F6E4","#CCFBF1","#F0FDFA"]},v=[{id:"bar",name:"Bar Chart",icon:m.VH,description:"Compare values across categories"},{id:"line",name:"Line Chart",icon:m.bl,description:"Show trends over time"},{id:"pie",name:"Pie Chart",icon:m.rW,description:"Show proportions of a whole"},{id:"area",name:"Area Chart",icon:m.nt,description:"Show cumulative values over time"},{id:"scatter",name:"Scatter Plot",icon:m.We,description:"Show relationships between variables"},{id:"funnel",name:"Funnel Chart",icon:m.zW,description:"Show conversion through stages"},{id:"gauge",name:"Gauge Chart",icon:m.Il,description:"Show progress towards a goal"},{id:"heatmap",name:"Heatmap",icon:m.Il,description:"Show data density and patterns"},{id:"treemap",name:"Treemap",icon:m.We,description:"Show hierarchical data"},{id:"sankey",name:"Sankey Diagram",icon:m.nt,description:"Show flow between entities"}],N=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=[];switch(e){case"bar":case"line":case"area":for(let e=0;e<a;e++)s.push({x:"Item ".concat(e+1),y:Math.floor(100*Math.random())+10,label:"Data Point ".concat(e+1),metadata:{category:"Category ".concat(Math.floor(e/3)+1)}});break;case"pie":["Desktop","Mobile","Tablet","Other"].forEach((e,a)=>{s.push({x:e,y:Math.floor(40*Math.random())+10,label:e,color:f.purple[a%f.purple.length]})});break;case"scatter":for(let e=0;e<a;e++)s.push({x:Math.floor(100*Math.random()),y:Math.floor(100*Math.random()),label:"Point ".concat(e+1),metadata:{size:Math.floor(20*Math.random())+5}});break;case"funnel":let t=1e3;["Visitors","Leads","Opportunities","Customers"].forEach((e,a)=>{let l=Math.floor(t*(.6+.3*Math.random()));s.push({x:e,y:l,label:e,metadata:{conversion:a>0?(l/s[a-1].y*100).toFixed(1)+"%":"100%"}}),t=l});break;default:for(let e=0;e<a;e++)s.push({x:e,y:Math.floor(100*Math.random()),label:"Data ".concat(e+1)})}return s};function b(e){var a;let{data:s=[],onDataUpdate:b,onExport:y,className:w=""}=e,[C,F]=(0,l.useState)(s),[k,E]=(0,l.useState)(null),[S,D]=(0,l.useState)(!1),[B,A]=(0,l.useState)(!1),[M,z]=(0,l.useState)(!1),[T,P]=(0,l.useState)("charts"),{toast:U}=(0,u.dj)(),V=(0,l.useRef)(null),W=(0,l.useCallback)(e=>{var a,s;let t={id:crypto.randomUUID(),config:{type:e,title:"New ".concat((null==(a=v.find(a=>a.id===e))?void 0:a.name)||"Chart"),xAxis:{field:"x",label:"X Axis",type:"category"},yAxis:{field:"y",label:"Y Axis",type:"number"},colorScheme:"purple",animation:!0,interactive:!0,showLegend:!0,showGrid:!0,showTooltip:!0,responsive:!0},data:N(e),filters:{},metadata:{lastUpdated:new Date,dataSource:"sample",recordCount:0,processingTime:0}};F(e=>[...e,t]),E(t),D(!1),U({title:"Visualization Created",description:"New ".concat(null==(s=v.find(a=>a.id===e))?void 0:s.name," has been created"),variant:"success"}),(0,j.fH)("New visualization created:",{type:e,id:t.id})},[U]),R=(0,l.useCallback)((e,a)=>{F(s=>s.map(s=>s.id===e?{...s,...a,metadata:{...s.metadata,lastUpdated:new Date}}:s)),(null==k?void 0:k.id)===e&&E(e=>e?{...e,...a,metadata:{...e.metadata,lastUpdated:new Date}}:null),null==b||b(C)},[k,C,b]),I=(0,l.useCallback)(e=>{F(a=>a.filter(a=>a.id!==e)),(null==k?void 0:k.id)===e&&E(null),U({title:"Visualization Deleted",description:"The visualization has been removed",variant:"success"})},[k,U]),L=(0,l.useCallback)(async e=>{let a=C.find(a=>a.id===e);if(a){A(!0);try{await new Promise(e=>setTimeout(e,1e3));let s=N(a.config.type,a.data.length);R(e,{data:s,metadata:{...a.metadata,lastUpdated:new Date,recordCount:s.length,processingTime:Math.floor(500*Math.random())+100}}),U({title:"Data Refreshed",description:"Visualization data has been updated",variant:"success"})}catch(e){(0,j.vV)("Failed to refresh data:",e),U({title:"Refresh Failed",description:"Failed to refresh visualization data",variant:"destructive"})}finally{A(!1)}}},[C,R,U]),G=(0,l.useCallback)((e,a)=>{let s=C.find(a=>a.id===e);s&&(null==y||y(a,[s]),U({title:"Export Started",description:"Exporting visualization as ".concat(a.toUpperCase(),"..."),variant:"success"}))},[C,y,U]),H=(0,l.useCallback)(e=>{let a=V.current;if(!a)return;let s=a.getContext("2d");if(!s)return;let{width:t,height:l}=a;s.clearRect(0,0,t,l);let i=f[e.config.colorScheme];switch(e.config.type){case"bar":let c=t/e.data.length*.8,n=Math.max(...e.data.map(e=>e.y));e.data.forEach((a,r)=>{let d=a.y/n*l*.8,o=r*t/e.data.length+(t/e.data.length-c)/2;s.fillStyle=i[r%i.length],s.fillRect(o,l-d-20,c,d)});break;case"line":s.strokeStyle=i[0],s.lineWidth=3,s.beginPath(),e.data.forEach((a,i)=>{let c=i/(e.data.length-1)*t,n=l-a.y/Math.max(...e.data.map(e=>e.y))*l*.8-20;0===i?s.moveTo(c,n):s.lineTo(c,n)}),s.stroke();break;case"pie":let r=t/2,d=l/2,o=Math.min(t,l)/2-20,h=e.data.reduce((e,a)=>e+a.y,0),m=0;e.data.forEach((e,a)=>{let t=e.y/h*2*Math.PI;s.fillStyle=i[a%i.length],s.beginPath(),s.moveTo(r,d),s.arc(r,d,o,m,m+t),s.closePath(),s.fill(),m+=t});break;default:let x=t/e.data.length*.8,p=Math.max(...e.data.map(e=>e.y));e.data.forEach((a,c)=>{let n=a.y/p*l*.8,r=c*t/e.data.length+(t/e.data.length-x)/2;s.fillStyle=i[c%i.length],s.fillRect(r,l-n-20,x,n)})}},[]);return(0,l.useEffect)(()=>{k&&V.current&&H(k)},[k,H]),(0,t.jsxs)("div",{className:"space-y-6 ".concat(w),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold boss-heading",children:"Advanced Data Visualization"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Create interactive charts and dashboards with real-time data"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(x.lB,{variant:"outline",onClick:()=>z(!M),className:"flex items-center gap-2",children:[M?(0,t.jsx)(m.xq,{className:"h-4 w-4"}):(0,t.jsx)(m.h1,{className:"h-4 w-4"}),M?"Exit Fullscreen":"Fullscreen"]}),(0,t.jsxs)(x.lB,{onClick:()=>D(!0),className:"flex items-center gap-2",children:[(0,t.jsx)(m.Kq,{className:"h-4 w-4"}),"New Chart"]})]})]}),(0,t.jsxs)(d.tU,{value:T,onValueChange:e=>P(e),children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(d.Xi,{value:"charts",className:"flex items-center gap-2",children:[(0,t.jsx)(m.VH,{className:"h-4 w-4"}),"Charts"]}),(0,t.jsxs)(d.Xi,{value:"dashboards",className:"flex items-center gap-2",children:[(0,t.jsx)(m.Il,{className:"h-4 w-4"}),"Dashboards"]}),(0,t.jsxs)(d.Xi,{value:"templates",className:"flex items-center gap-2",children:[(0,t.jsx)(m.We,{className:"h-4 w-4"}),"Templates"]})]}),(0,t.jsx)(d.av,{value:"charts",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Your Charts"}),(0,t.jsx)(o.E,{variant:"secondary",children:C.length})]}),(0,t.jsx)(h.F,{className:"h-96",children:(0,t.jsx)("div",{className:"space-y-3",children:C.map(e=>{var a,s;return(0,t.jsx)(p.p,{className:"cursor-pointer transition-all ".concat((null==k?void 0:k.id)===e.id?"ring-2 ring-purple-500":""),onClick:()=>E(e),children:(0,t.jsxs)(c.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(null==(a=v.find(a=>a.id===e.config.type))?void 0:a.icon)&&l.createElement(v.find(a=>a.id===e.config.type).icon,{className:"h-4 w-4 text-purple-500"}),(0,t.jsx)("span",{className:"font-medium text-sm",children:e.config.title})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),L(e.id)},disabled:B,children:B?(0,t.jsx)(g.cZ,{size:"sm"}):(0,t.jsx)(m.e9,{className:"h-3 w-3"})}),(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),I(e.id)},children:(0,t.jsx)(m.M6,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,t.jsxs)("div",{children:["Type: ",null==(s=v.find(a=>a.id===e.config.type))?void 0:s.name]}),(0,t.jsxs)("div",{children:["Data Points: ",e.data.length]}),(0,t.jsxs)("div",{children:["Updated: ",e.metadata.lastUpdated.toLocaleTimeString()]})]})]})},e.id)})})})]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:k?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(p.p,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.ZB,{children:k.config.title}),(0,t.jsx)(c.BT,{children:null==(a=v.find(e=>e.id===k.config.type))?void 0:a.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>L(k.id),disabled:B,children:B?(0,t.jsx)(g.cZ,{size:"sm"}):(0,t.jsx)(m.e9,{className:"h-4 w-4"})}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>G(k.id,"png"),children:(0,t.jsx)(m.f5,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("canvas",{ref:V,width:800,height:400,className:"w-full h-96 border rounded-lg bg-white"}),B&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg",children:(0,t.jsx)(g.cZ,{text:"Rendering chart..."})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,t.jsx)("input",{type:"text",value:k.config.title,onChange:e=>R(k.id,{config:{...k.config,title:e.target.value}}),className:"w-full p-2 border rounded-md",placeholder:"Enter chart title...","aria-label":"Chart title"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Color Scheme"}),(0,t.jsxs)(r.l6,{value:k.config.colorScheme,onValueChange:e=>R(k.id,{config:{...k.config,colorScheme:e}}),children:[(0,t.jsx)(r.bq,{children:(0,t.jsx)(r.yv,{})}),(0,t.jsx)(r.gC,{children:Object.keys(f).map(e=>(0,t.jsx)(r.eb,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex gap-1",children:f[e].slice(0,3).map((e,a)=>(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e},"aria-label":"Color ".concat(a+1)},a))}),e.charAt(0).toUpperCase()+e.slice(1)]})},e))})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.config.animation,onChange:e=>R(k.id,{config:{...k.config,animation:e.target.checked}})}),(0,t.jsx)("span",{className:"text-sm",children:"Animation"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.config.interactive,onChange:e=>R(k.id,{config:{...k.config,interactive:e.target.checked}})}),(0,t.jsx)("span",{className:"text-sm",children:"Interactive"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.config.showLegend,onChange:e=>R(k.id,{config:{...k.config,showLegend:e.target.checked}})}),(0,t.jsx)("span",{className:"text-sm",children:"Show Legend"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:k.config.showGrid,onChange:e=>R(k.id,{config:{...k.config,showGrid:e.target.checked}})}),(0,t.jsx)("span",{className:"text-sm",children:"Show Grid"})]})]})]})]}),(0,t.jsxs)(p.p,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Data Preview"}),(0,t.jsxs)(c.BT,{children:[k.data.length," data points"]})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)(h.F,{className:"h-48",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-2",children:"X"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Y"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Label"})]})}),(0,t.jsxs)("tbody",{children:[k.data.slice(0,10).map((e,a)=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-2",children:e.x}),(0,t.jsx)("td",{className:"p-2",children:e.y}),(0,t.jsx)("td",{className:"p-2",children:e.label})]},a)),k.data.length>10&&(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:3,className:"p-2 text-center text-gray-500",children:["... and ",k.data.length-10," more rows"]})})]})]})})})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(m.VH,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Chart Selected"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Select a chart from the list or create a new one"}),(0,t.jsxs)(x.lB,{onClick:()=>D(!0),children:[(0,t.jsx)(m.Kq,{className:"h-4 w-4 mr-2"}),"Create Chart"]})]})})]})}),(0,t.jsx)(d.av,{value:"dashboards",className:"space-y-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(m.Il,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Dashboard Builder"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Create interactive dashboards with multiple visualizations"}),(0,t.jsxs)(x.lB,{children:[(0,t.jsx)(m.sU,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})]})}),(0,t.jsx)(d.av,{value:"templates",className:"space-y-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(m.We,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Chart Templates"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Pre-built chart templates for common use cases"}),(0,t.jsxs)(x.lB,{children:[(0,t.jsx)(m.sU,{className:"h-4 w-4 mr-2"}),"Coming Soon"]})]})})]}),S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)(i.PY1.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create New Chart"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.map(e=>(0,t.jsxs)("button",{onClick:()=>W(e.id),className:"p-4 border rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors text-left",children:[(0,t.jsx)(e.icon,{className:"h-6 w-6 text-purple-500 mb-2"}),(0,t.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.description})]},e.id))}),(0,t.jsx)("div",{className:"flex justify-end mt-6",children:(0,t.jsx)(n.$,{variant:"outline",onClick:()=>D(!1),children:"Cancel"})})]})})]})}}}]);