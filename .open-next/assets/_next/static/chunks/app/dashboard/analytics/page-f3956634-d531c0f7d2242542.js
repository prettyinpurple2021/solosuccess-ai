(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93],{11305:(e,s,a)=>{Promise.resolve().then(a.bind(a,44221))},33482:(e,s,a)=>{"use strict";a.d(s,{FW:()=>o.A,Il:()=>t.A,TB:()=>p.A,VH:()=>l.A,Vv:()=>i.A,We:()=>j.A,bl:()=>d.A,dJ:()=>n.A,eM:()=>m.A,kU:()=>c.A,nt:()=>u.A,rA:()=>r.A,rW:()=>x.A,wB:()=>h.A,zW:()=>A.A});var t=a(50906),l=a(80534),i=a(16485),r=a(42529),c=a(57828),n=a(66955),d=a(82214),x=a(87454),o=a(6191),m=a(46046),h=a(15870),j=a(30814),p=a(71360),u=a(1524),A=a(91169)},44221:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(95155),l=a(12115),i=a(83209),r=a(90923),c=a(67812),n=a(55850),d=a(27346),x=a(50906),o=a(6132),m=a(80534),h=a(85710),j=a(39867),p=a(89715),u=a(89559),A=a(15870),N=a(53050),f=a(59600),v=a(23523),g=a(42789),b=a(81257),y=a(8587),w=a(4192),k=a(28171),E=a(2479);function C(){let{user:e,loading:s}=(0,w.A)(),{toast:a}=(0,k.dj)(),[C,z]=(0,l.useState)("overview"),[W,B]=(0,l.useState)(null),[S,R]=(0,l.useState)([]),[I,V]=(0,l.useState)(!0),[U,H]=(0,l.useState)(!1),[q,D]=(0,l.useState)(null),F=(0,l.useCallback)(async()=>{if(!s){V(!0),D(null);try{var e,a;let[s,t]=await Promise.all([fetch("/api/analytics"),fetch("/api/analytics/export")]);if(s.ok){let a=await s.json();B((null==(e=a.data)?void 0:e.businessMetrics)||null)}if(t.ok){let e=await t.json();R((null==(a=e.data)?void 0:a.exports)||[])}}catch(e){(0,E.vV)("Failed to load analytics data:",e),D(e instanceof Error?e.message:"Failed to load analytics data")}finally{V(!1)}}},[s]),P=(0,l.useCallback)(async()=>{H(!0),await F(),H(!1),a({title:"Data Refreshed",description:"Analytics data has been updated",variant:"success"})},[F,a]);return((0,l.useEffect)(()=>{F()},[F]),(0,l.useEffect)(()=>{let e=setInterval(F,3e5);return()=>clearInterval(e)},[F]),s||I)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 to-black",children:(0,t.jsx)(v.cZ,{text:"Loading Analytics Dashboard...",size:"lg"})}):e?q?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 to-black",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(o.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Error Loading Analytics"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:q}),(0,t.jsxs)(N.lB,{onClick:F,children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-black text-white",children:[(0,t.jsx)("div",{className:"border-b border-purple-800/30 bg-black/20 backdrop-blur-sm",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold boss-heading",children:"Analytics Dashboard"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",children:"Comprehensive insights into your SoloSuccess AI platform"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(N.lB,{variant:"outline",onClick:P,disabled:U,className:"flex items-center gap-2",children:[U?(0,t.jsx)(v.cZ,{size:"sm"}):(0,t.jsx)(u.A,{className:"h-4 w-4"}),"Refresh"]}),(0,t.jsxs)(N.lB,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Export All"]})]})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)(r.tU,{value:C,onValueChange:e=>z(e),children:[(0,t.jsxs)(r.j7,{className:"grid w-full grid-cols-4 mb-6",children:[(0,t.jsxs)(r.Xi,{value:"overview",className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4"}),"Overview"]}),(0,t.jsxs)(r.Xi,{value:"reports",className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),"Reports"]}),(0,t.jsxs)(r.Xi,{value:"visualizations",className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),"Visualizations"]}),(0,t.jsxs)(r.Xi,{value:"exports",className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Exports"]})]}),(0,t.jsx)(r.av,{value:"overview",className:"space-y-6",children:(0,t.jsx)(g.A,{})}),(0,t.jsx)(r.av,{value:"reports",className:"space-y-6",children:(0,t.jsx)(b.H,{onSave:e=>{(0,E.fH)("Custom report saved:",{reportId:e.id,name:e.name}),a({title:"Report Saved",description:'"'.concat(e.name,'" has been saved successfully'),variant:"success"})},onExport:(e,s)=>{(0,E.fH)("Report export initiated:",{reportId:e.id,format:s}),a({title:"Export Started",description:'Exporting "'.concat(e.name,'" as ').concat(s.toUpperCase(),"..."),variant:"success"})}})}),(0,t.jsx)(r.av,{value:"visualizations",className:"space-y-6",children:(0,t.jsx)(y.v,{onDataUpdate:e=>{(0,E.fH)("Visualization data updated:",{count:e.length})},onExport:(e,s)=>{(0,E.fH)("Visualization export initiated:",{format:e,count:s.length}),a({title:"Export Started",description:"Exporting ".concat(s.length," visualizations as ").concat(e.toUpperCase(),"..."),variant:"success"})}})}),(0,t.jsx)(r.av,{value:"exports",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(f.p,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-5 w-5"}),"Export Jobs"]}),(0,t.jsx)(i.BT,{children:"Track your export requests and download completed files"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)(d.F,{className:"h-96",children:(0,t.jsx)("div",{className:"space-y-3",children:0===S.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(j.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No export jobs yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Create reports to generate exports"})]}):S.map(e=>(0,t.jsxs)(f.p,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c.E,{variant:"secondary",className:"capitalize",children:e.format}),(0,t.jsxs)("span",{className:"font-medium text-sm",children:["Export #",e.id.slice(-8)]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{variant:"completed"===e.status?"default":"failed"===e.status?"destructive":"processing"===e.status?"secondary":"outline",children:e.status}),"completed"===e.status&&e.downloadUrl&&(0,t.jsx)(N.lB,{size:"sm",onClick:()=>window.open(e.downloadUrl,"_blank"),children:(0,t.jsx)(j.A,{className:"h-3 w-3"})})]})]}),"processing"===e.status&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[e.progress,"%"]})]}),(0,t.jsx)(n.k,{value:e.progress,className:"h-2"})]}),"failed"===e.status&&e.error&&(0,t.jsxs)("div",{className:"text-xs text-red-500 mt-2",children:["Error: ",e.error]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Created: ",e.createdAt.toLocaleString()]})]},e.id))})})})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(f.p,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),"Export Statistics"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"Total Exports"}),(0,t.jsx)("span",{className:"font-semibold",children:S.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"Completed"}),(0,t.jsx)("span",{className:"font-semibold text-green-400",children:S.filter(e=>"completed"===e.status).length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"In Progress"}),(0,t.jsx)("span",{className:"font-semibold text-yellow-400",children:S.filter(e=>"processing"===e.status).length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"Failed"}),(0,t.jsx)("span",{className:"font-semibold text-red-400",children:S.filter(e=>"failed"===e.status).length})]})]})]}),(0,t.jsxs)(f.p,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"h-5 w-5"}),"Quick Actions"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)(N.lB,{variant:"outline",className:"w-full justify-start",onClick:()=>z("reports"),children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Create Report"]}),(0,t.jsxs)(N.lB,{variant:"outline",className:"w-full justify-start",onClick:()=>z("visualizations"),children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"New Visualization"]}),(0,t.jsxs)(N.lB,{variant:"outline",className:"w-full justify-start",onClick:P,children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})]})]})]})})]})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 to-black",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(o.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Authentication Required"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"Please sign in to access analytics"}),(0,t.jsx)(N.lB,{onClick:()=>window.location.href="/signin",children:"Sign In"})]})})}},44223:(e,s,a)=>{"use strict";a.d(s,{Kq:()=>j.A,TB:()=>o.A,VH:()=>t.A,We:()=>x.A,XI:()=>d.A,bl:()=>r.A,eM:()=>n.A,kU:()=>i.A,nt:()=>m.A,rW:()=>c.A,zD:()=>l.A,zW:()=>h.A});var t=a(80534),l=a(26983),i=a(57828),r=a(82214),c=a(87454),n=a(46046),d=a(41669),x=a(30814),o=a(71360),m=a(1524),h=a(91169),j=a(56154)},46163:(e,s,a)=>{"use strict";a.d(s,{Il:()=>t.A,Kq:()=>u.A,M6:()=>m.A,VH:()=>l.A,We:()=>h.A,bl:()=>r.A,e9:()=>x.A,f5:()=>i.A,h1:()=>c.A,nt:()=>j.A,rW:()=>d.A,sU:()=>o.A,xq:()=>n.A,zW:()=>p.A});var t=a(50906),l=a(80534),i=a(39867),r=a(82214),c=a(37354),n=a(97624),d=a(87454),x=a(89559),o=a(95740),m=a(59e3),h=a(30814),j=a(1524),p=a(91169),u=a(56154)},51884:(e,s,a)=>{"use strict";a.d(s,{G9:()=>i.A,Il:()=>t.A,We:()=>d.A,e9:()=>n.A,f5:()=>r.A,g5:()=>c.A,jy:()=>l.A,zW:()=>x.A});var t=a(50906),l=a(1473),i=a(91761),r=a(39867),c=a(17666),n=a(89559),d=a(30814),x=a(91169)},94760:(e,s,a)=>{"use strict";a.d(s,{Kq:()=>A.A,Oe:()=>n.A,Qp:()=>l.A,VH:()=>i.A,We:()=>h.A,bl:()=>o.A,dJ:()=>x.A,e9:()=>m.A,hc:()=>t.A,jy:()=>r.A,kU:()=>d.A,kl:()=>j.A,nt:()=>p.A,rA:()=>c.A,zW:()=>u.A});var t=a(52056),l=a(52987),i=a(80534),r=a(1473),c=a(42529),n=a(68854),d=a(57828),x=a(66955),o=a(82214),m=a(89559),h=a(30814),j=a(26921),p=a(1524),u=a(91169),A=a(56154)}}]);