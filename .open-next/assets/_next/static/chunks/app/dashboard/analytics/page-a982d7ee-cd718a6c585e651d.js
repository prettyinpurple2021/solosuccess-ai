"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6802],{42789:(e,s,a)=>{a.d(s,{A:()=>f});var r=a(95155),i=a(12115),t=a(83209),l=a(90923),n=a(97003),c=a(67812),d=a(55850),o=a(51884),m=a(18720),h=a(2479),x=a(95423),u=a(33789),p=a(90235),j=a(83550),g=a(62281),v=a(44223),y=a(25016);function N(e){var s,a,d;let{className:o="",onSave:m,onExport:x}=e,[N,f]=(0,i.useState)({name:"",description:"",timeframe:{start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0],granularity:"day"},metrics:[],filters:[],visualizations:[]}),[b,w]=(0,i.useState)([]),[C,k]=(0,i.useState)([]),[T,R]=(0,i.useState)([]),[S,B]=(0,i.useState)(null),[F,z]=(0,i.useState)(!1),P=[{id:"user_count",name:"Total Users",type:"number",category:"user",description:"Total number of registered users",icon:v.zW},{id:"active_users",name:"Active Users",type:"number",category:"user",description:"Users active in the selected timeframe",icon:v.zW},{id:"engagement_rate",name:"Engagement Rate",type:"percentage",category:"engagement",description:"Percentage of users who are actively engaged",icon:v.nt},{id:"task_completion_rate",name:"Task Completion Rate",type:"percentage",category:"productivity",description:"Percentage of tasks completed successfully",icon:v.We},{id:"avg_session_duration",name:"Average Session Duration",type:"duration",category:"engagement",description:"Average time users spend in sessions",icon:v.zD},{id:"revenue",name:"Revenue",type:"currency",category:"business",description:"Total revenue generated",icon:v.nt},{id:"churn_rate",name:"Churn Rate",type:"percentage",category:"business",description:"Percentage of users who stopped using the service",icon:v.nt},{id:"feature_adoption",name:"Feature Adoption",type:"percentage",category:"engagement",description:"Percentage of users using specific features",icon:v.Kq}],W=e=>{w(b.filter(s=>s!==e))},_=async()=>{z(!0);try{await new Promise(e=>setTimeout(e,1e3)),B({metrics:b.map(e=>{let s=P.find(s=>s.id===e);return{id:e,name:(null==s?void 0:s.name)||e,value:Math.floor(1e3*Math.random()),change:Math.floor(20*Math.random())-10,changePercent:Math.floor(40*Math.random())-20}}),charts:T.map(e=>({id:e.id,type:e.type,data:U(e.type)}))})}catch(e){(0,h.vV)("Error generating preview:",e)}finally{z(!1)}},U=e=>{let s=[];for(let e=0;e<7;e++)s.push({date:new Date(Date.now()-(6-e)*864e5).toISOString().split("T")[0],value:Math.floor(100*Math.random())});return s};return(0,r.jsxs)("div",{className:(0,y.cn)("space-y-6",o),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)(v.VH,{className:"w-4 h-4 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Custom Report Builder"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create personalized analytics reports"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(n.$,{variant:"outline",onClick:_,disabled:F,children:[(0,r.jsx)(v.kU,{className:"w-4 h-4 mr-2"}),"Preview"]}),(0,r.jsxs)(n.$,{onClick:()=>{if(!N.name)return void alert("Please enter a report name");let e={id:"report_".concat(Date.now()),name:N.name,description:N.description||"",timeframe:N.timeframe,metrics:b,filters:C,visualizations:T,isPublic:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};null==m||m(e)},children:[(0,r.jsx)(v.eM,{className:"w-4 h-4 mr-2"}),"Save Report"]})]})]}),(0,r.jsxs)(l.tU,{defaultValue:"setup",className:"space-y-6",children:[(0,r.jsxs)(l.j7,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(l.Xi,{value:"setup",children:"Setup"}),(0,r.jsx)(l.Xi,{value:"metrics",children:"Metrics"}),(0,r.jsx)(l.Xi,{value:"visualizations",children:"Visualizations"}),(0,r.jsx)(l.Xi,{value:"preview",children:"Preview"})]}),(0,r.jsx)(l.av,{value:"setup",className:"space-y-6",children:(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Report Configuration"}),(0,r.jsx)(t.BT,{children:"Configure the basic settings for your custom report"})]}),(0,r.jsxs)(t.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p.J,{htmlFor:"report-name",children:"Report Name"}),(0,r.jsx)(u.p,{id:"report-name",placeholder:"Enter report name",value:N.name,onChange:e=>f({...N,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p.J,{htmlFor:"report-description",children:"Description"}),(0,r.jsx)(u.p,{id:"report-description",placeholder:"Enter report description",value:N.description,onChange:e=>f({...N,description:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p.J,{htmlFor:"start-date",children:"Start Date"}),(0,r.jsx)(u.p,{id:"start-date",type:"date",value:null==(s=N.timeframe)?void 0:s.start,onChange:e=>f({...N,timeframe:{...N.timeframe,start:e.target.value}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p.J,{htmlFor:"end-date",children:"End Date"}),(0,r.jsx)(u.p,{id:"end-date",type:"date",value:null==(a=N.timeframe)?void 0:a.end,onChange:e=>f({...N,timeframe:{...N.timeframe,end:e.target.value}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p.J,{htmlFor:"granularity",children:"Granularity"}),(0,r.jsxs)(j.l6,{value:null==(d=N.timeframe)?void 0:d.granularity,onValueChange:e=>f({...N,timeframe:{...N.timeframe,granularity:e}}),children:[(0,r.jsx)(j.bq,{children:(0,r.jsx)(j.yv,{placeholder:"Select granularity"})}),(0,r.jsxs)(j.gC,{children:[(0,r.jsx)(j.eb,{value:"day",children:"Daily"}),(0,r.jsx)(j.eb,{value:"week",children:"Weekly"}),(0,r.jsx)(j.eb,{value:"month",children:"Monthly"}),(0,r.jsx)(j.eb,{value:"quarter",children:"Quarterly"}),(0,r.jsx)(j.eb,{value:"year",children:"Yearly"})]})]})]})]})]})]})}),(0,r.jsx)(l.av,{value:"metrics",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Available Metrics"}),(0,r.jsx)(t.BT,{children:"Select metrics to include in your report"})]}),(0,r.jsx)(t.Wu,{className:"space-y-3",children:P.map(e=>(0,r.jsxs)("div",{className:(0,y.cn)("flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors",b.includes(e.id)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{var s;return b.includes(e.id)?W(e.id):(s=e.id,void(!b.includes(s)&&w([...b,s])))},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(e.icon,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(c.E,{variant:"outline",className:(e=>{switch(e){case"user":return"bg-blue-100 text-blue-700 border-blue-200";case"engagement":return"bg-green-100 text-green-700 border-green-200";case"productivity":return"bg-purple-100 text-purple-700 border-purple-200";case"business":return"bg-orange-100 text-orange-700 border-orange-200";case"performance":return"bg-pink-100 text-pink-700 border-pink-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}})(e.category),children:[(e=>{switch(e){case"user":return(0,r.jsx)(v.zW,{className:"w-4 h-4"});case"engagement":return(0,r.jsx)(v.nt,{className:"w-4 h-4"});case"productivity":return(0,r.jsx)(v.We,{className:"w-4 h-4"});case"business":default:return(0,r.jsx)(v.VH,{className:"w-4 h-4"});case"performance":return(0,r.jsx)(v.zD,{className:"w-4 h-4"})}})(e.category),(0,r.jsx)("span",{className:"ml-1",children:e.category})]}),(0,r.jsx)(g.S,{checked:b.includes(e.id),onChange:()=>{}})]})]},e.id))})]}),(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{children:["Selected Metrics (",b.length,")"]}),(0,r.jsx)(t.BT,{children:"Metrics that will be included in your report"})]}),(0,r.jsx)(t.Wu,{children:0===b.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,r.jsx)(v.VH,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No metrics selected"}),(0,r.jsx)("p",{className:"text-sm",children:"Select metrics from the left panel"})]}):(0,r.jsx)("div",{className:"space-y-2",children:b.map(e=>{let s=P.find(s=>s.id===e);return s?(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s.icon,{className:"w-4 h-4 text-gray-500"}),(0,r.jsx)("span",{className:"font-medium",children:s.name})]}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>W(e),children:(0,r.jsx)(v.TB,{className:"w-4 h-4"})})]},e):null})})})]})]})}),(0,r.jsx)(l.av,{value:"visualizations",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Add Visualizations"}),(0,r.jsx)(t.BT,{children:"Choose how to display your data"})]}),(0,r.jsx)(t.Wu,{className:"grid grid-cols-2 gap-3",children:[{type:"bar",label:"Bar Chart",icon:v.VH},{type:"line",label:"Line Chart",icon:v.bl},{type:"pie",label:"Pie Chart",icon:v.rW},{type:"table",label:"Table",icon:v.XI},{type:"metric",label:"Metric Cards",icon:v.We}].map(e=>{let{type:s,label:a,icon:i}=e;return(0,r.jsxs)(n.$,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>{R([...T,{id:"viz_".concat(Date.now()),type:s,title:"".concat(s.charAt(0).toUpperCase()+s.slice(1)," Chart"),metrics:b,filters:C.map(e=>e.id),config:{color:"#8B5CF6",showLegend:!0,showGrid:!0,stacked:!1}}])},children:[(0,r.jsx)(i,{className:"w-6 h-6"}),(0,r.jsx)("span",{className:"text-sm",children:a})]},s)})})]}),(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{children:["Report Visualizations (",T.length,")"]}),(0,r.jsx)(t.BT,{children:"Visualizations in your report"})]}),(0,r.jsx)(t.Wu,{children:0===T.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,r.jsx)(v.kU,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No visualizations added"}),(0,r.jsx)("p",{className:"text-sm",children:"Add visualizations from the left panel"})]}):(0,r.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["bar"===e.type&&(0,r.jsx)(v.VH,{className:"w-4 h-4 text-blue-500"}),"line"===e.type&&(0,r.jsx)(v.bl,{className:"w-4 h-4 text-green-500"}),"pie"===e.type&&(0,r.jsx)(v.rW,{className:"w-4 h-4 text-purple-500"}),"table"===e.type&&(0,r.jsx)(v.XI,{className:"w-4 h-4 text-orange-500"}),"metric"===e.type&&(0,r.jsx)(v.We,{className:"w-4 h-4 text-pink-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.metrics.length," metrics"]})]})]}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void R(T.filter(e=>e.id!==s))},children:(0,r.jsx)(v.TB,{className:"w-4 h-4"})})]},e.id))})})]})]})}),(0,r.jsx)(l.av,{value:"preview",className:"space-y-6",children:F?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Generating preview..."})]}):S?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(t.Zp,{children:[(0,r.jsx)(t.aR,{children:(0,r.jsx)(t.ZB,{children:"Metrics Overview"})}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.metrics.map(e=>(0,r.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.name}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:e.value}),(0,r.jsxs)("p",{className:(0,y.cn)("text-sm",e.changePercent>0?"text-green-600":"text-red-600"),children:[e.changePercent>0?"+":"",e.changePercent,"%"]})]},e.id))})})]}),S.charts.map(e=>(0,r.jsxs)(t.Zp,{children:[(0,r.jsx)(t.aR,{children:(0,r.jsxs)(t.ZB,{className:"capitalize",children:[e.type," Chart"]})}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Chart preview will be rendered here"})})})]},e.id))]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(v.kU,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No preview available"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Configure your report and click Preview"})]})})]})]})}function f(){let[e,s]=(0,i.useState)("overview"),[a,u]=(0,i.useState)(!1),p=async()=>{u(!0);try{await new Promise(e=>setTimeout(e,1e3)),m.oR.success("Analytics data refreshed!",{icon:"✅"}),(0,h.fH)("Analytics dashboard refreshed")}catch(e){m.oR.error("Failed to refresh analytics data",{icon:"❌"}),h.vF.error("Analytics refresh error:",e)}finally{u(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gradient",children:"Analytics Dashboard"}),(0,r.jsx)("p",{className:"text-purple-200 mt-1",children:"Comprehensive insights into your business performance"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{variant:"outline",onClick:p,disabled:a,className:"text-purple-200 hover:text-white border-purple-700",children:[(0,r.jsx)(o.e9,{className:"w-4 h-4 mr-2 ".concat(a?"animate-spin":"")}),"Refresh"]}),(0,r.jsxs)(n.$,{variant:"outline",onClick:()=>{m.oR.info("Exporting analytics as ".concat("CSV","..."),{icon:"\uD83D\uDCCA"}),(0,h.fH)("Analytics exported as ".concat("csv"))},className:"text-purple-200 hover:text-white border-purple-700",children:[(0,r.jsx)(o.f5,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),(0,r.jsxs)(l.tU,{value:e,onValueChange:s,className:"space-y-6",children:[(0,r.jsxs)(l.j7,{className:"grid w-full grid-cols-5 bg-purple-900/50 border border-purple-700",children:[(0,r.jsx)(l.Xi,{value:"overview",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:"Overview"}),(0,r.jsx)(l.Xi,{value:"performance",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:"Performance"}),(0,r.jsxs)(l.Xi,{value:"predictive",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:[(0,r.jsx)(o.jy,{className:"w-4 h-4 mr-2"}),"Predictive"]}),(0,r.jsxs)(l.Xi,{value:"reports",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:[(0,r.jsx)(o.g5,{className:"w-4 h-4 mr-2"}),"Reports"]}),(0,r.jsx)(l.Xi,{value:"insights",className:"data-[state=active]:bg-cyan-500 data-[state=active]:text-white",children:"Insights"})]}),(0,r.jsxs)(l.av,{value:"overview",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(t.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,r.jsx)(o.zW,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(t.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"2,350"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("span",{className:"text-green-600",children:"+12%"})," from last month"]})]})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(t.ZB,{className:"text-sm font-medium",children:"Revenue"}),(0,r.jsx)(o.G9,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(t.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"$45,231"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("span",{className:"text-green-600",children:"+8%"})," from last month"]})]})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(t.ZB,{className:"text-sm font-medium",children:"Active Sessions"}),(0,r.jsx)(o.Il,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(t.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"1,234"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("span",{className:"text-green-600",children:"+23%"})," from last month"]})]})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(t.ZB,{className:"text-sm font-medium",children:"Conversion Rate"}),(0,r.jsx)(o.We,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(t.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"3.2%"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("span",{className:"text-red-600",children:"-2%"})," from last month"]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"User Growth"}),(0,r.jsx)(t.BT,{children:"Monthly user acquisition and retention"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"User growth chart will be rendered here"})})})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Revenue Trends"}),(0,r.jsx)(t.BT,{children:"Monthly revenue and subscription metrics"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Revenue chart will be rendered here"})})})]})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Recent Activity"}),(0,r.jsx)(t.BT,{children:"Latest user interactions and system events"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"New user registration"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"2 minutes ago"})]}),(0,r.jsx)(c.E,{variant:"secondary",children:"User"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"AI task completed"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"5 minutes ago"})]}),(0,r.jsx)(c.E,{variant:"secondary",children:"AI"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Goal milestone reached"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"10 minutes ago"})]}),(0,r.jsx)(c.E,{variant:"secondary",children:"Goal"})]})]})})]})]}),(0,r.jsx)(l.av,{value:"performance",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Performance Metrics"}),(0,r.jsx)(t.BT,{children:"Key performance indicators"})]}),(0,r.jsxs)(t.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Page Load Time"}),(0,r.jsx)("span",{children:"1.2s"})]}),(0,r.jsx)(d.k,{value:80,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"API Response Time"}),(0,r.jsx)("span",{children:"245ms"})]}),(0,r.jsx)(d.k,{value:90,className:"mt-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Uptime"}),(0,r.jsx)("span",{children:"99.9%"})]}),(0,r.jsx)(d.k,{value:99,className:"mt-1"})]})]})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card lg:col-span-2",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"System Performance"}),(0,r.jsx)(t.BT,{children:"Real-time system metrics and health"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Performance charts will be rendered here"})})})]})]})}),(0,r.jsx)(l.av,{value:"predictive",className:"space-y-6",children:(0,r.jsx)(x.A,{})}),(0,r.jsx)(l.av,{value:"reports",className:"space-y-6",children:(0,r.jsx)(N,{onSave:e=>{m.oR.success("Report saved successfully!",{icon:"\uD83D\uDCBE"}),(0,h.fH)("Custom report saved:",e.name)},onExport:(e,s)=>{m.oR.info('Exporting "'.concat(e.name,'" as ').concat(s.toUpperCase(),"..."),{icon:"\uD83D\uDCE4"}),(0,h.fH)("Custom report exported: ".concat(e.name," as ").concat(s))}})}),(0,r.jsxs)(l.av,{value:"insights",className:"space-y-6",children:[(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Business Insights"}),(0,r.jsx)(t.BT,{children:"AI-powered insights and recommendations"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900",children:"Growth Opportunity"}),(0,r.jsx)("p",{className:"text-blue-700 text-sm mt-1",children:"Your user engagement has increased by 23% this month. Consider launching a referral program to capitalize on this momentum."})]}),(0,r.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-900",children:"Performance Insight"}),(0,r.jsx)("p",{className:"text-green-700 text-sm mt-1",children:"AI task completion rates are highest between 9-11 AM. Consider scheduling important tasks during this peak period."})]}),(0,r.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,r.jsx)("h4",{className:"font-semibold text-yellow-900",children:"Optimization Suggestion"}),(0,r.jsx)("p",{className:"text-yellow-700 text-sm mt-1",children:"Users who complete onboarding within 3 days have 40% higher retention. Consider streamlining the onboarding process."})]})]})})]}),(0,r.jsxs)(t.Zp,{className:"holographic-card",children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Historical Trends"}),(0,r.jsx)(t.BT,{children:"Historical performance data and trends"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Performance charts will be rendered here"})})})]})]})]})]})}},81257:(e,s,a)=>{a.d(s,{H:()=>C});var r=a(95155),i=a(12115),t=a(83209),l=a(97003),n=a(33789),c=a(90235),d=a(67001),o=a(83550),m=a(62281),h=a(67812),x=a(90923),u=a(54679),p=a(27346),j=a(33482),g=a(53050),v=a(59600),y=a(23523),N=a(28171),f=a(2479);let b=[{id:"total_users",name:"Total Users",type:"metric",dataType:"number",category:"Users",description:"Total number of registered users",aggregation:"count"},{id:"active_users",name:"Active Users",type:"metric",dataType:"number",category:"Users",description:"Users active in the last 30 days",aggregation:"count"},{id:"new_users",name:"New Users",type:"metric",dataType:"number",category:"Users",description:"Users who signed up in the selected period",aggregation:"count"},{id:"retention_rate",name:"Retention Rate",type:"calculated",dataType:"number",category:"Users",description:"Percentage of users who remain active",formula:"(active_users / total_users) * 100"},{id:"session_duration",name:"Session Duration",type:"metric",dataType:"number",category:"Engagement",description:"Average time spent per session",aggregation:"avg"},{id:"page_views",name:"Page Views",type:"metric",dataType:"number",category:"Engagement",description:"Total number of page views",aggregation:"sum"},{id:"bounce_rate",name:"Bounce Rate",type:"calculated",dataType:"number",category:"Engagement",description:"Percentage of single-page sessions",formula:"(single_page_sessions / total_sessions) * 100"},{id:"revenue",name:"Revenue",type:"metric",dataType:"number",category:"Business",description:"Total revenue generated",aggregation:"sum"},{id:"mrr",name:"Monthly Recurring Revenue",type:"metric",dataType:"number",category:"Business",description:"Monthly recurring revenue",aggregation:"sum"},{id:"conversion_rate",name:"Conversion Rate",type:"calculated",dataType:"number",category:"Business",description:"Percentage of users who convert",formula:"(converted_users / total_users) * 100"},{id:"ai_interactions",name:"AI Interactions",type:"metric",dataType:"number",category:"Features",description:"Total AI agent interactions",aggregation:"sum"},{id:"goals_created",name:"Goals Created",type:"metric",dataType:"number",category:"Features",description:"Number of goals created by users",aggregation:"sum"},{id:"tasks_completed",name:"Tasks Completed",type:"metric",dataType:"number",category:"Features",description:"Number of tasks completed",aggregation:"sum"},{id:"user_id",name:"User ID",type:"dimension",dataType:"string",category:"Dimensions",description:"Unique user identifier"},{id:"date",name:"Date",type:"dimension",dataType:"date",category:"Dimensions",description:"Event date"},{id:"feature_name",name:"Feature Name",type:"dimension",dataType:"string",category:"Dimensions",description:"Name of the feature used"},{id:"user_segment",name:"User Segment",type:"dimension",dataType:"string",category:"Dimensions",description:"User segmentation category"}],w=[{id:"bar",name:"Bar Chart",icon:j.VH,description:"Compare values across categories"},{id:"line",name:"Line Chart",icon:j.bl,description:"Show trends over time"},{id:"pie",name:"Pie Chart",icon:j.rW,description:"Show proportions of a whole"},{id:"area",name:"Area Chart",icon:j.nt,description:"Show cumulative values over time"},{id:"scatter",name:"Scatter Plot",icon:j.We,description:"Show relationships between variables"},{id:"table",name:"Data Table",icon:j.Il,description:"Display raw data in tabular format"},{id:"kpi",name:"KPI Card",icon:j.rA,description:"Display key performance indicators"},{id:"funnel",name:"Funnel Chart",icon:j.zW,description:"Show conversion through stages"}];function C(e){let{onSave:s,onExport:a,initialReport:C,className:k=""}=e,[T,R]=(0,i.useState)(C||{id:crypto.randomUUID(),name:"",description:"",category:"General",tags:[],isPublic:!1,isTemplate:!1,visualizations:[],globalFilters:[],createdAt:new Date,updatedAt:new Date,createdBy:"current-user"}),[S,B]=(0,i.useState)("design"),[F,z]=(0,i.useState)(null),[P,W]=(0,i.useState)(!1),[_,U]=(0,i.useState)(!1),[V,A]=(0,i.useState)(!1),{toast:Z}=(0,N.dj)(),D=(0,i.useMemo)(()=>b.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{}),[]),E=(0,i.useCallback)(()=>{let e={id:crypto.randomUUID(),type:"bar",title:"New Chart",metrics:[],filters:[],config:{}};R(s=>({...s,visualizations:[...s.visualizations,e]})),z(e),B("visualize")},[]),M=(0,i.useCallback)((e,s)=>{R(a=>({...a,visualizations:a.visualizations.map(a=>a.id===e?{...a,...s}:a)})),(null==F?void 0:F.id)===e&&z(e=>e?{...e,...s}:null)},[F]),q=(0,i.useCallback)(e=>{R(s=>({...s,visualizations:s.visualizations.filter(s=>s.id!==e)})),(null==F?void 0:F.id)===e&&z(null)},[F]),I=(0,i.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={id:crypto.randomUUID(),field:"",operator:"equals",value:""};s?R(e=>({...e,globalFilters:[...e.globalFilters,a]})):M(e,{filters:[...(null==F?void 0:F.filters)||[],a]})},[F,M]),J=(0,i.useCallback)(function(e,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a?R(a=>({...a,globalFilters:a.globalFilters.map(a=>a.id===e?{...a,...s}:a)})):F&&M(F.id,{filters:F.filters.map(a=>a.id===e?{...a,...s}:a)})},[F,M]),H=(0,i.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s?R(s=>({...s,globalFilters:s.globalFilters.filter(s=>s.id!==e)})):F&&M(F.id,{filters:F.filters.filter(s=>s.id!==e)})},[F,M]),G=(0,i.useCallback)(async()=>{if(!T.name.trim())return void Z({title:"Validation Error",description:"Report name is required",variant:"destructive"});U(!0);try{let e={...T,updatedAt:new Date};R(e),null==s||s(e),Z({title:"Report Saved",description:"Your custom report has been saved successfully",variant:"success"}),(0,f.fH)("Custom report saved:",{reportId:e.id,name:e.name})}catch(e){(0,f.vV)("Failed to save report:",e),Z({title:"Save Failed",description:"Failed to save the report. Please try again.",variant:"destructive"})}finally{U(!1)}},[T,s,Z]),$=(0,i.useCallback)(async e=>{A(!0);try{null==a||a(T,e),Z({title:"Export Started",description:"Exporting report as ".concat(e.toUpperCase(),"..."),variant:"success"}),(0,f.fH)("Report export initiated:",{reportId:T.id,format:e})}catch(e){(0,f.vV)("Failed to export report:",e),Z({title:"Export Failed",description:"Failed to export the report. Please try again.",variant:"destructive"})}finally{A(!1)}},[T,a,Z]);return(0,r.jsxs)("div",{className:"space-y-6 ".concat(k),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold boss-heading",children:"Custom Report Builder"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create powerful analytics reports with drag-and-drop visualization"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(g.lB,{variant:"outline",onClick:()=>W(!0),className:"flex items-center gap-2",children:[(0,r.jsx)(j.kU,{className:"h-4 w-4"}),"Preview"]}),(0,r.jsx)(g.lB,{onClick:G,disabled:_,className:"flex items-center gap-2",children:_?(0,r.jsx)(y.cZ,{size:"sm",text:"Saving..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.eM,{className:"h-4 w-4"}),"Save Report"]})})]})]}),(0,r.jsx)(v.p,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"report-name",children:"Report Name"}),(0,r.jsx)(n.p,{id:"report-name",value:T.name,onChange:e=>R(s=>({...s,name:e.target.value})),placeholder:"Enter report name...",className:"holographic-input"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"report-category",children:"Category"}),(0,r.jsxs)(o.l6,{value:T.category,onValueChange:e=>R(s=>({...s,category:e})),children:[(0,r.jsx)(o.bq,{className:"holographic-input",children:(0,r.jsx)(o.yv,{placeholder:"Select category..."})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"General",children:"General"}),(0,r.jsx)(o.eb,{value:"Users",children:"Users"}),(0,r.jsx)(o.eb,{value:"Engagement",children:"Engagement"}),(0,r.jsx)(o.eb,{value:"Business",children:"Business"}),(0,r.jsx)(o.eb,{value:"Features",children:"Features"}),(0,r.jsx)(o.eb,{value:"Performance",children:"Performance"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,r.jsx)(c.J,{htmlFor:"report-description",children:"Description"}),(0,r.jsx)(d.T,{id:"report-description",value:T.description,onChange:e=>R(s=>({...s,description:e.target.value})),placeholder:"Describe what this report shows...",className:"holographic-input",rows:3})]})]})}),(0,r.jsxs)(x.tU,{value:S,onValueChange:e=>B(e),children:[(0,r.jsxs)(x.j7,{className:"grid w-full grid-cols-4",children:[(0,r.jsxs)(x.Xi,{value:"design",className:"flex items-center gap-2",children:[(0,r.jsx)(j.wB,{className:"h-4 w-4"}),"Design"]}),(0,r.jsxs)(x.Xi,{value:"visualize",className:"flex items-center gap-2",children:[(0,r.jsx)(j.VH,{className:"h-4 w-4"}),"Visualize"]}),(0,r.jsxs)(x.Xi,{value:"schedule",className:"flex items-center gap-2",children:[(0,r.jsx)(j.Vv,{className:"h-4 w-4"}),"Schedule"]}),(0,r.jsxs)(x.Xi,{value:"preview",className:"flex items-center gap-2",children:[(0,r.jsx)(j.kU,{className:"h-4 w-4"}),"Preview"]})]}),(0,r.jsx)(x.av,{value:"design",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(v.p,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(j.We,{className:"h-5 w-5"}),"Available Fields"]}),(0,r.jsx)(t.BT,{children:"Drag fields to create visualizations"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)(p.F,{className:"h-96",children:Object.entries(D).map(e=>{let[s,a]=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:s}),(0,r.jsx)("div",{className:"space-y-1",children:a.map(e=>(0,r.jsxs)("div",{className:"p-2 bg-gray-50 rounded-md cursor-move hover:bg-gray-100 transition-colors",draggable:!0,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,r.jsx)(h.E,{variant:"secondary",className:"text-xs",children:e.type})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]},e.id))})]},s)})})})]}),(0,r.jsxs)(v.p,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(j.dJ,{className:"h-5 w-5"}),"Global Filters"]}),(0,r.jsx)(t.BT,{children:"Apply filters to all visualizations"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[T.globalFilters.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md",children:[(0,r.jsxs)(o.l6,{value:e.field,onValueChange:s=>J(e.id,{field:s},!0),children:[(0,r.jsx)(o.bq,{className:"flex-1",children:(0,r.jsx)(o.yv,{placeholder:"Select field..."})}),(0,r.jsx)(o.gC,{children:b.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}),(0,r.jsxs)(o.l6,{value:e.operator,onValueChange:s=>J(e.id,{operator:s},!0),children:[(0,r.jsx)(o.bq,{className:"w-32",children:(0,r.jsx)(o.yv,{})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"equals",children:"Equals"}),(0,r.jsx)(o.eb,{value:"not_equals",children:"Not Equals"}),(0,r.jsx)(o.eb,{value:"contains",children:"Contains"}),(0,r.jsx)(o.eb,{value:"not_contains",children:"Not Contains"}),(0,r.jsx)(o.eb,{value:"greater_than",children:"Greater Than"}),(0,r.jsx)(o.eb,{value:"less_than",children:"Less Than"}),(0,r.jsx)(o.eb,{value:"between",children:"Between"})]})]}),(0,r.jsx)(n.p,{value:e.value,onChange:s=>J(e.id,{value:s.target.value},!0),placeholder:"Value...",className:"flex-1"}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>H(e.id,!0),children:(0,r.jsx)(j.TB,{className:"h-4 w-4"})})]},e.id)),(0,r.jsxs)(l.$,{variant:"outline",onClick:()=>I("",!0),className:"w-full",children:[(0,r.jsx)(j.FW,{className:"h-4 w-4 mr-2"}),"Add Global Filter"]})]})})]})]})}),(0,r.jsxs)(x.av,{value:"visualize",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Visualizations"}),(0,r.jsxs)(g.lB,{onClick:E,children:[(0,r.jsx)(j.FW,{className:"h-4 w-4 mr-2"}),"Add Visualization"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"space-y-4",children:T.visualizations.map(e=>{var s,a;return(0,r.jsx)(v.p,{className:"cursor-pointer transition-all ".concat((null==F?void 0:F.id)===e.id?"ring-2 ring-purple-500":""),onClick:()=>z(e),children:(0,r.jsx)(t.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(null==(s=w.find(s=>s.id===e.type))?void 0:s.icon)&&i.createElement(w.find(s=>s.id===e.type).icon,{className:"h-5 w-5 text-purple-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:null==(a=w.find(s=>s.id===e.type))?void 0:a.name})]})]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),q(e.id)},children:(0,r.jsx)(j.TB,{className:"h-4 w-4"})})]})})},e.id)})}),F&&(0,r.jsxs)(v.p,{children:[(0,r.jsx)(t.aR,{children:(0,r.jsx)(t.ZB,{children:"Edit Visualization"})}),(0,r.jsxs)(t.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Title"}),(0,r.jsx)(n.p,{value:F.title,onChange:e=>M(F.id,{title:e.target.value}),placeholder:"Enter visualization title..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Type"}),(0,r.jsxs)(o.l6,{value:F.type,onValueChange:e=>M(F.id,{type:e}),children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{})}),(0,r.jsx)(o.gC,{children:w.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(e.icon,{className:"h-4 w-4"}),e.name]})},e.id))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Metrics"}),(0,r.jsxs)(o.l6,{value:"",onValueChange:e=>{F.metrics.includes(e)||M(F.id,{metrics:[...F.metrics,e]})},children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{placeholder:"Add metric..."})}),(0,r.jsx)(o.gC,{children:b.filter(e=>"metric"===e.type).map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.metrics.map(e=>{var s;return(0,r.jsxs)(h.E,{variant:"secondary",className:"flex items-center gap-1",children:[null==(s=b.find(s=>s.id===e))?void 0:s.name,(0,r.jsx)("button",{onClick:()=>M(F.id,{metrics:F.metrics.filter(s=>s!==e)}),className:"ml-1 hover:text-red-500",children:"\xd7"})]},e)})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Filters"}),(0,r.jsxs)("div",{className:"space-y-2",children:[F.filters.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.l6,{value:e.field,onValueChange:s=>J(e.id,{field:s}),children:[(0,r.jsx)(o.bq,{className:"flex-1",children:(0,r.jsx)(o.yv,{placeholder:"Field..."})}),(0,r.jsx)(o.gC,{children:b.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}),(0,r.jsxs)(o.l6,{value:e.operator,onValueChange:s=>J(e.id,{operator:s}),children:[(0,r.jsx)(o.bq,{className:"w-24",children:(0,r.jsx)(o.yv,{})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"equals",children:"="}),(0,r.jsx)(o.eb,{value:"not_equals",children:"≠"}),(0,r.jsx)(o.eb,{value:"contains",children:"⊃"}),(0,r.jsx)(o.eb,{value:"greater_than",children:">"}),(0,r.jsx)(o.eb,{value:"less_than",children:"<"})]})]}),(0,r.jsx)(n.p,{value:e.value,onChange:s=>J(e.id,{value:s.target.value}),placeholder:"Value...",className:"flex-1"}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>H(e.id),children:(0,r.jsx)(j.TB,{className:"h-4 w-4"})})]},e.id)),(0,r.jsxs)(l.$,{variant:"outline",onClick:()=>I(F.id),className:"w-full",children:[(0,r.jsx)(j.FW,{className:"h-4 w-4 mr-2"}),"Add Filter"]})]})]})]})]})]})]}),(0,r.jsx)(x.av,{value:"schedule",className:"space-y-6",children:(0,r.jsxs)(v.p,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"Automated Reporting"}),(0,r.jsx)(t.BT,{children:"Schedule automatic report generation and delivery"})]}),(0,r.jsxs)(t.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.S,{id:"enable-schedule",checked:!!T.schedule,onCheckedChange:e=>{e?R(e=>({...e,schedule:{frequency:"weekly",time:"09:00",recipients:[],format:"pdf"}})):R(e=>({...e,schedule:void 0}))}}),(0,r.jsx)(c.J,{htmlFor:"enable-schedule",children:"Enable automated reporting"})]}),T.schedule&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Frequency"}),(0,r.jsxs)(o.l6,{value:T.schedule.frequency,onValueChange:e=>R(s=>({...s,schedule:s.schedule?{...s.schedule,frequency:e}:void 0})),children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"daily",children:"Daily"}),(0,r.jsx)(o.eb,{value:"weekly",children:"Weekly"}),(0,r.jsx)(o.eb,{value:"monthly",children:"Monthly"}),(0,r.jsx)(o.eb,{value:"quarterly",children:"Quarterly"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Time"}),(0,r.jsx)(n.p,{type:"time",value:T.schedule.time,onChange:e=>R(s=>({...s,schedule:s.schedule?{...s.schedule,time:e.target.value}:void 0}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Format"}),(0,r.jsxs)(o.l6,{value:T.schedule.format,onValueChange:e=>R(s=>({...s,schedule:s.schedule?{...s.schedule,format:e}:void 0})),children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{})}),(0,r.jsxs)(o.gC,{children:[(0,r.jsx)(o.eb,{value:"pdf",children:"PDF"}),(0,r.jsx)(o.eb,{value:"excel",children:"Excel"}),(0,r.jsx)(o.eb,{value:"csv",children:"CSV"}),(0,r.jsx)(o.eb,{value:"json",children:"JSON"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{children:"Recipients (Email addresses)"}),(0,r.jsx)(d.T,{value:T.schedule.recipients.join(", "),onChange:e=>R(s=>({...s,schedule:s.schedule?{...s.schedule,recipients:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}:void 0})),placeholder:"Enter email addresses separated by commas...",rows:3})]})]})]})]})}),(0,r.jsx)(x.av,{value:"preview",className:"space-y-6",children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(j.VH,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Report Preview"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Preview your report with sample data"}),(0,r.jsxs)(g.lB,{onClick:()=>W(!0),children:[(0,r.jsx)(j.kU,{className:"h-4 w-4 mr-2"}),"Open Preview"]})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Export as:"}),(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>$("pdf"),disabled:V,children:"PDF"}),(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>$("excel"),disabled:V,children:"Excel"}),(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>$("csv"),disabled:V,children:"CSV"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.S,{id:"is-public",checked:T.isPublic,onCheckedChange:e=>R(s=>({...s,isPublic:!!e}))}),(0,r.jsx)(c.J,{htmlFor:"is-public",className:"text-sm",children:"Make public"}),(0,r.jsx)(m.S,{id:"is-template",checked:T.isTemplate,onCheckedChange:e=>R(s=>({...s,isTemplate:!!e}))}),(0,r.jsx)(c.J,{htmlFor:"is-template",className:"text-sm",children:"Save as template"})]})]}),(0,r.jsx)(u.lG,{open:P,onOpenChange:W,children:(0,r.jsxs)(u.Cf,{className:"max-w-6xl max-h-[90vh]",children:[(0,r.jsxs)(u.c7,{children:[(0,r.jsx)(u.L3,{children:"Report Preview"}),(0,r.jsx)(u.rr,{children:"Preview of your custom report with sample data"})]}),(0,r.jsx)(p.F,{className:"h-96",children:(0,r.jsx)("div",{className:"space-y-6",children:T.visualizations.map(e=>{var s;return(0,r.jsxs)(v.p,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,r.jsx)(h.E,{variant:"secondary",children:null==(s=w.find(s=>s.id===e.type))?void 0:s.name})]}),(0,r.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(j.VH,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Chart preview would appear here"}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["Metrics: ",e.metrics.length,", Filters: ",e.filters.length]})]})})]},e.id)})})})]})})]})}}}]);