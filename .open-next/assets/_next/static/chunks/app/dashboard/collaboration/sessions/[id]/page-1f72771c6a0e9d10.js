(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{23240:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eu});var t=a(95155),l=a(2479),i=a(12115),n=a(83209),r=a(97003),c=a(67812),d=a(90923),o=a(50906),m=a(35626),x=a(37586),h=a(15870),u=a(91169),j=a(20063),p=a(67001),g=a(33884),v=a(27346),f=a(82180),N=a(6132),b=a(78192),y=a(42529),w=a(26983),A=a(9602),C=a(75426),S=a(39867),k=a(11010),T=a(89715),E=a(42196),z=a(14285),I=a(4861),$=a(18085),Z=a(71360),R=a(20508),L=a(25016),D=a(18720);let O=e=>{var s,a;let{message:l,isOwn:n,showSender:d=!0,onReply:o,onEdit:m,onDelete:x}=e,[h,u]=(0,i.useState)(!1),j=()=>{switch(l.type){case"file":return(0,t.jsx)(T.A,{className:"w-4 h-4"});case"image":return(0,t.jsx)(E.A,{className:"w-4 h-4"});case"code":return(0,t.jsx)(A.A,{className:"w-4 h-4"});case"system":return(0,t.jsx)(N.A,{className:"w-4 h-4"});default:return null}};return(0,t.jsxs)("div",{className:(0,L.cn)("flex gap-3 mb-4",n?"flex-row-reverse":"flex-row"),children:[d&&!n&&(0,t.jsxs)(g.eu,{className:"h-8 w-8 mt-1",children:[(0,t.jsx)(g.BK,{src:"/avatars/".concat(l.senderId,".png")}),(0,t.jsx)(g.q5,{children:"agent"===l.senderType?(0,t.jsx)(b.A,{className:"w-4 h-4"}):(0,t.jsx)(R.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:(0,L.cn)("flex flex-col max-w-[80%]",n?"items-end":"items-start"),children:[d&&(0,t.jsxs)("div",{className:(0,L.cn)("flex items-center gap-2 mb-1 text-xs text-muted-foreground",n?"flex-row-reverse":"flex-row"),children:[(0,t.jsx)("span",{className:"font-medium",children:l.senderName}),(0,t.jsx)("span",{children:new Date(l.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(null==(s=l.metadata)?void 0:s.priority)==="high"&&(0,t.jsx)(c.E,{variant:"destructive",className:"text-xs h-4",children:"Priority"})]}),(0,t.jsxs)("div",{className:(0,L.cn)("relative rounded-lg px-3 py-2 max-w-full","system"===l.type?"bg-muted text-muted-foreground text-center italic":n?"bg-primary text-primary-foreground":"bg-muted","error"===l.status&&"border border-red-200"),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[j()&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[j(),(0,t.jsx)("span",{className:"text-xs font-medium",children:l.type.charAt(0).toUpperCase()+l.type.slice(1)})]}),(0,t.jsx)("div",{className:"text-sm whitespace-pre-wrap break-words",children:l.content}),"code"===l.type&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-black/10 rounded text-xs font-mono",children:[(null==(a=l.metadata)?void 0:a.codeLanguage)&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:l.metadata.codeLanguage}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap",children:l.content})]}),l.attachments&&l.attachments.length>0&&(0,t.jsx)("div",{className:"mt-2 space-y-1",children:l.attachments.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white/10 rounded",children:[(0,t.jsx)(T.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs flex-1 truncate",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(e.size/1024).toFixed(1),"KB"]}),(0,t.jsx)(r.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:(0,t.jsx)(S.A,{className:"w-3 h-3"})})]},e.id))}),h&&"system"!==l.type&&(0,t.jsx)("div",{className:(0,L.cn)("absolute top-0 flex gap-1 bg-background border rounded shadow-sm p-1",n?"-left-20":"-right-20"),children:(0,t.jsxs)(f.Bc,{children:[(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{asChild:!0,children:(0,t.jsx)(r.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>null==o?void 0:o(l),children:(0,t.jsx)(I.A,{className:"w-3 h-3"})})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:"Reply"})})]}),(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{asChild:!0,children:(0,t.jsx)(r.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>navigator.clipboard.writeText(l.content),children:(0,t.jsx)(C.A,{className:"w-3 h-3"})})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:"Copy"})})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{asChild:!0,children:(0,t.jsx)(r.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>null==m?void 0:m(l),children:(0,t.jsx)(k.A,{className:"w-3 h-3"})})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:"Edit"})})]}),(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{asChild:!0,children:(0,t.jsx)(r.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-500",onClick:()=>null==x?void 0:x(l),children:(0,t.jsx)(Z.A,{className:"w-3 h-3"})})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:"Delete"})})]})]})]})})]}),(0,t.jsxs)("div",{className:(0,L.cn)("flex items-center gap-1 mt-1",n?"flex-row-reverse":"flex-row"),children:[(()=>{switch(l.status){case"sending":return(0,t.jsx)(w.A,{className:"w-3 h-3 text-muted-foreground animate-pulse"});case"sent":return(0,t.jsx)(y.A,{className:"w-3 h-3 text-muted-foreground"});case"delivered":return(0,t.jsx)(y.A,{className:"w-3 h-3 text-green-500"});case"error":return(0,t.jsx)(N.A,{className:"w-3 h-3 text-red-500"});default:return null}})(),"error"===l.status&&(0,t.jsx)("span",{className:"text-xs text-red-500",children:"Failed to send"})]})]})]})},F=e=>{let{participants:s}=e,a=s.filter(e=>"typing"===e.status);return 0===a.length?null:(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,t.jsxs)("span",{children:[a.map(e=>e.name).join(", "),1===a.length?" is":" are"," typing..."]})]})},P=e=>{let{sessionId:s}=e,[a,d]=(0,i.useState)([]),[o,m]=(0,i.useState)([]),[h,u]=(0,i.useState)(""),[j,g]=(0,i.useState)("text"),[N,b]=(0,i.useState)(!0),[y,w]=(0,i.useState)(!1),[C,S]=(0,i.useState)(null),k=(0,i.useRef)(null),T=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=async()=>{try{let a=await fetch("/api/collaboration/sessions/".concat(s,"/messages"));if(a.ok){var e;let s=await a.json();d((null==(e=s.data)?void 0:e.messages)||[])}}catch(e){(0,l.vV)("Error fetching messages:",e)}finally{b(!1)}};if(s){e();let s=setInterval(e,5e3);return()=>clearInterval(s)}},[s]),(0,i.useEffect)(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},[a]);let E=async()=>{if(!h.trim())return;w(!0);let e="temp-".concat(Date.now()),a={id:e,content:h,senderId:"current-user",senderName:"You",senderType:"user",timestamp:new Date().toISOString(),type:j,status:"sending",metadata:C?{replyTo:C.id}:void 0};d(e=>[...e,a]),u(""),S(null);try{let a=await fetch("/api/collaboration/sessions/".concat(s,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:h,type:j,priority:"medium",metadata:{replyTo:null==C?void 0:C.id,codeLanguage:"code"===j?"javascript":void 0}})});if(a.ok){let s=await a.json();d(a=>a.map(a=>a.id===e?{...s.data.message,status:"sent"}:a))}else d(s=>s.map(s=>s.id===e?{...s,status:"error"}:s)),D.oR.error("Failed to send message")}catch(s){(0,l.vV)("Error sending message:",s),d(s=>s.map(s=>s.id===e?{...s,status:"error"}:s)),D.oR.error("Failed to send message")}finally{w(!1)}},Z=e=>{var s;S(e),null==(s=T.current)||s.focus()},R=e=>{var s;u(e.content),g(e.type),null==(s=T.current)||s.focus()},P=e=>{d(s=>s.filter(s=>s.id!==e.id)),D.oR.success("Message deleted")};return N?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,t.jsxs)(n.Zp,{className:"flex flex-col h-[600px]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Session Messages"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(c.E,{variant:"secondary",children:[a.length," messages"]}),(0,t.jsxs)(c.E,{variant:"outline",children:[o.filter(e=>"online"===e.status).length," online"]})]})]}),(0,t.jsxs)(v.F,{className:"flex-1 p-4",ref:k,children:[(0,t.jsxs)("div",{className:"space-y-4",children:[a.map((e,s)=>{let l=a[s-1],i=!l||l.senderId!==e.senderId||new Date(e.timestamp).getTime()-new Date(l.timestamp).getTime()>3e5;return(0,t.jsx)(O,{message:e,isOwn:"user"===e.senderType&&"current-user"===e.senderId,showSender:i,onReply:Z,onEdit:R,onDelete:P},e.id)}),0===a.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(x.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,t.jsx)("p",{children:"No messages yet. Start the conversation!"})]})]}),(0,t.jsx)(F,{participants:o})]}),C&&(0,t.jsxs)("div",{className:"px-4 py-2 bg-muted/50 border-l-4 border-primary",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(I.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"font-medium",children:["Replying to ",C.senderName]})]}),(0,t.jsx)(r.$,{size:"sm",variant:"ghost",onClick:()=>S(null),children:"\xd7"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate mt-1",children:C.content})]}),(0,t.jsxs)("div",{className:"p-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(r.$,{size:"sm",variant:"text"===j?"default":"outline",onClick:()=>g("text"),children:"Text"}),(0,t.jsxs)(r.$,{size:"sm",variant:"code"===j?"default":"outline",onClick:()=>g("code"),children:[(0,t.jsx)(A.A,{className:"w-4 h-4 mr-1"}),"Code"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(p.T,{ref:T,value:h,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())},placeholder:"code"===j?"Enter code...":"Type a message...",className:(0,L.cn)("min-h-[60px] resize-none","code"===j&&"font-mono text-sm"),disabled:y})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(f.Bc,{children:(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{asChild:!0,children:(0,t.jsx)(r.$,{size:"sm",variant:"outline",disabled:!0,children:(0,t.jsx)(z.A,{className:"w-4 h-4"})})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:"Attach File"})})]})}),(0,t.jsx)(r.$,{size:"sm",onClick:E,disabled:!h.trim()||y,children:y?(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):(0,t.jsx)($.A,{className:"w-4 h-4"})})]})]})]})]})};var V=a(55850),J=a(54679),M=a(1473),_=a(37772),B=a(1524);let q=e=>{let{status:s,size:a="md"}=e,l={available:{color:"bg-green-500",pulse:!0,label:"Available"},busy:{color:"bg-orange-500",pulse:!0,label:"Busy"},offline:{color:"bg-gray-400",pulse:!1,label:"Offline"},error:{color:"bg-red-500",pulse:!0,label:"Error"}}[s];return(0,t.jsx)(f.Bc,{children:(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{children:(0,t.jsx)("div",{className:(0,L.cn)({sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"}[a],l.color,"rounded-full",l.pulse&&"animate-pulse")})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:l.label})})]})})},U=e=>{let{agent:s,onSelect:a,compact:l=!1}=e,d=s.currentSessions/s.maxSessions*100,[o,m]=(0,i.useState)(!1),u=e=>{switch(e.toLowerCase()){case"coding":case"development":return(0,t.jsx)(A.A,{className:"w-6 h-6"});case"analysis":case"data":return(0,t.jsx)(B.A,{className:"w-6 h-6"});case"creative":case"design":return(0,t.jsx)(M.A,{className:"w-6 h-6"});case"chat":case"communication":return(0,t.jsx)(x.A,{className:"w-6 h-6"});default:return(0,t.jsx)(b.A,{className:"w-6 h-6"})}};return l?(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-accent transition-colors cursor-pointer",onClick:()=>null==a?void 0:a(s),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(g.eu,{className:"h-8 w-8",children:[(0,t.jsx)(g.BK,{src:"/avatars/".concat(s.id,".png")}),(0,t.jsx)(g.q5,{children:u(s.specialization)})]}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,t.jsx)(q,{status:s.status,size:"sm"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold truncate",children:s.name}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:s.specialization})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.currentSessions,"/",s.maxSessions," sessions"]})]})]}):(0,t.jsxs)(n.Zp,{className:"p-4 hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(g.eu,{className:"h-12 w-12",children:[(0,t.jsx)(g.BK,{src:"/avatars/".concat(s.id,".png")}),(0,t.jsx)(g.q5,{className:"bg-primary/10 text-primary",children:u(s.specialization)})]}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,t.jsx)(q,{status:s.status})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:s.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:s.specialization}),s.version&&(0,t.jsxs)(c.E,{variant:"outline",className:"text-xs mt-1",children:["v",s.version]})]})]}),(0,t.jsxs)(J.lG,{children:[(0,t.jsx)(J.zM,{asChild:!0,children:(0,t.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(_.A,{className:"w-4 h-4"})})}),(0,t.jsxs)(J.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(J.c7,{children:(0,t.jsxs)(J.L3,{className:"flex items-center gap-2",children:[u(s.specialization),s.name," - Details"]})}),(0,t.jsx)(K,{agent:s})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Utilization"}),(0,t.jsxs)("span",{className:"font-medium",children:[d.toFixed(0),"%"]})]}),(0,t.jsx)(V.k,{value:d,className:"h-2"}),s.performance&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-green-600",children:[s.performance.successRate,"%"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold",children:[s.performance.avgResponseTime,"s"]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Avg Response"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.capabilities.slice(0,3).map((e,s)=>(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:e},s)),s.capabilities.length>3&&(0,t.jsxs)(c.E,{variant:"secondary",className:"text-xs",children:["+",s.capabilities.length-3]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)(r.$,{size:"sm",className:"flex-1",disabled:"available"!==s.status,onClick:()=>null==a?void 0:a(s),children:"available"===s.status?"Select Agent":"Unavailable"}),(0,t.jsx)(f.Bc,{children:(0,t.jsxs)(f.m_,{children:[(0,t.jsx)(f.k$,{asChild:!0,children:(0,t.jsx)(r.$,{size:"sm",variant:"outline",children:(0,t.jsx)(h.A,{className:"w-4 h-4"})})}),(0,t.jsx)(f.ZI,{children:(0,t.jsx)("p",{children:"Agent Settings"})})]})})]})]})]})},K=e=>{let{agent:s}=e,[a,l]=(0,i.useState)("overview"),[r,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)(()=>{m([{id:"1",timestamp:"2024-01-16T10:30:00Z",action:"Session Joined",sessionId:"sess-123",details:"Joined project collaboration session",status:"success"},{id:"2",timestamp:"2024-01-16T09:15:00Z",action:"Task Completed",details:"Code analysis completed successfully",status:"success"},{id:"3",timestamp:"2024-01-16T08:45:00Z",action:"Error Encountered",details:"Network timeout during API call",status:"error"}]),h([{name:"Code Analysis",description:"Analyze code quality, structure, and potential issues",inputTypes:["text/code","file/source"],outputTypes:["text/report","json/metrics"],estimatedTime:"2-5 minutes",complexity:"medium"},{name:"Documentation Generation",description:"Generate comprehensive documentation from code",inputTypes:["file/source","text/code"],outputTypes:["text/markdown","html/docs"],estimatedTime:"3-8 minutes",complexity:"high"}])},[]),(0,t.jsxs)(d.tU,{value:a,onValueChange:l,className:"space-y-4",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(d.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(d.Xi,{value:"capabilities",children:"Capabilities"}),(0,t.jsx)(d.Xi,{value:"activity",children:"Activity"}),(0,t.jsx)(d.Xi,{value:"performance",children:"Performance"})]}),(0,t.jsxs)(d.av,{value:"overview",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Current Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(q,{status:s.status}),(0,t.jsx)("span",{className:"capitalize",children:s.status})]}),s.lastActive&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Last active: ",new Date(s.lastActive).toLocaleString()]})]}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Session Load"}),(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[s.currentSessions,"/",s.maxSessions]}),(0,t.jsx)(V.k,{value:s.currentSessions/s.maxSessions*100,className:"mt-2"})]})]}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:s.description||"A specialized AI agent designed to assist with various tasks and provide intelligent automation."})]})]}),(0,t.jsx)(d.av,{value:"capabilities",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:x.map((e,s)=>(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsx)(c.E,{variant:"high"===e.complexity?"destructive":"medium"===e.complexity?"default":"secondary",children:e.complexity})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Input Types:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.inputTypes.map((e,s)=>(0,t.jsx)(c.E,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Output Types:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.outputTypes.map((e,s)=>(0,t.jsx)(c.E,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Est. Time:"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.estimatedTime})]})]})]},s))})}),(0,t.jsx)(d.av,{value:"activity",className:"space-y-4",children:(0,t.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,t.jsx)(n.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:(0,L.cn)("mt-1 w-2 h-2 rounded-full","success"===e.status?"bg-green-500":"error"===e.status?"bg-red-500":"bg-yellow-500")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium",children:e.action}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.details}),e.sessionId&&(0,t.jsxs)(c.E,{variant:"outline",className:"text-xs mt-1",children:["Session: ",e.sessionId]})]})]}),(0,t.jsx)("time",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]})},e.id))})}),(0,t.jsx)(d.av,{value:"performance",className:"space-y-4",children:s.performance?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Success Rate"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[s.performance.successRate,"%"]}),(0,t.jsx)(V.k,{value:s.performance.successRate,className:"h-2"})]}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Average Response Time"}),(0,t.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[s.performance.avgResponseTime,"s"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Below 5s is considered excellent"})]}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Tasks Completed"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:s.performance.tasksCompleted}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total successful completions"})]}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"User Rating"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-yellow-600",children:[s.performance.userRating,"/5"]}),(0,t.jsx)("div",{className:"flex gap-1 mt-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("div",{className:(0,L.cn)("w-4 h-4",e<=s.performance.userRating?"text-yellow-500":"text-gray-300"),children:"â˜…"},e))})]})]}):(0,t.jsxs)(n.Zp,{className:"p-8 text-center",children:[(0,t.jsx)(o.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"No Performance Data"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Performance metrics will be available after the agent completes some tasks."})]})})]})},X=()=>{let[e,s]=(0,i.useState)([]),[a,c]=(0,i.useState)(!0),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)("all");(0,i.useEffect)(()=>{let e=async()=>{try{let a=await fetch("/api/collaboration/agents");if(a.ok){var e;let t=await a.json();s((null==(e=t.data)?void 0:e.agents)||[])}}catch(e){(0,l.vV)("Error fetching agents:",e)}finally{c(!1)}};e();let a=setInterval(e,3e4);return()=>clearInterval(a)},[]);let h=e.filter(e=>"all"===m||e.status===m);return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Available Agents"}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","available","busy","offline"].map(e=>(0,t.jsx)(r.$,{variant:m===e?"default":"outline",size:"sm",onClick:()=>x(e),className:"capitalize",children:e},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(e=>(0,t.jsx)(U,{agent:e,onSelect:o},e.id))}),0===h.length&&(0,t.jsxs)(n.Zp,{className:"p-12 text-center",children:[(0,t.jsx)(b.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Agents Found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"all"===m?"No agents are currently registered":"No agents are currently ".concat(m)})]})]})};var G=a(33789),H=a(90235),Y=a(83550),Q=a(52056),W=a(47937),ee=a(68854),es=a(85710),ea=a(53511),et=a(85921),el=a(89559),ei=a(86651),en=a(17910),er=a(45345),ec=a(21786),ed=a(24573),eo=a(96583);let em=e=>{let{sessionId:s}=e,[a,d]=(0,i.useState)(null),[o,m]=(0,i.useState)(!0),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(!1),[v,f]=(0,i.useState)(""),[N,b]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/collaboration/sessions/".concat(s,"/control"));if(e.ok){let s=await e.json();d(s.data)}}catch(e){(0,l.vV)("Error fetching control state:",e)}finally{m(!1)}},a=async()=>{try{let s=await fetch("/api/collaboration/agents");if(s.ok){var e;let a=await s.json();b((null==(e=a.data)?void 0:e.agents)||[])}}catch(e){(0,l.vV)("Error fetching agents:",e)}};if(s){e(),a();let s=setInterval(e,1e4);return()=>clearInterval(s)}},[s]);let y=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(e);try{let t=await fetch("/api/collaboration/sessions/".concat(s,"/control"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,...a})});if(t.ok){let e=await t.json();D.oR.success(e.message||"Action completed successfully");let a=await fetch("/api/collaboration/sessions/".concat(s,"/control"));if(a.ok){let e=await a.json();d(e.data)}}else{let e=await t.json();D.oR.error(e.message||"Action failed")}}catch(e){(0,l.vV)("Error performing action:",e),D.oR.error("Action failed")}finally{j(null),g(!1)}};return o?(0,t.jsx)(n.Zp,{className:"p-4",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-24",children:(0,t.jsx)(el.A,{className:"w-6 h-6 animate-spin"})})}):a?(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"w-5 h-5"}),"Session Controls"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{variant:"active"===a.status?"default":"paused"===a.status?"secondary":"outline",children:a.status}),a.isOwner&&(0,t.jsxs)(c.E,{variant:"outline",className:"text-amber-600",children:[(0,t.jsx)(ee.A,{className:"w-3 h-3 mr-1"}),"Owner"]})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),"Participants (",a.participants.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a.participants.map((e,s)=>(0,t.jsxs)(c.E,{variant:"secondary",className:"text-xs",children:[e.agentId,(0,t.jsx)("span",{className:(0,L.cn)("ml-1 w-2 h-2 rounded-full","active"===e.status?"bg-green-500":"bg-gray-400")})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[a.isOwner&&a.availableActions.includes("pause")&&(0,t.jsxs)(r.$,{size:"sm",variant:"outline",onClick:()=>y("pause",{reason:"Manual pause"}),disabled:"pause"===x,children:["pause"===x?(0,t.jsx)(el.A,{className:"w-4 h-4 animate-spin mr-1"}):(0,t.jsx)(ea.A,{className:"w-4 h-4 mr-1"}),"Pause"]}),a.isOwner&&a.availableActions.includes("resume")&&(0,t.jsxs)(r.$,{size:"sm",onClick:()=>y("resume",{reason:"Manual resume"}),disabled:"resume"===x,children:["resume"===x?(0,t.jsx)(el.A,{className:"w-4 h-4 animate-spin mr-1"}):(0,t.jsx)(et.A,{className:"w-4 h-4 mr-1"}),"Resume"]}),a.availableActions.includes("join")&&(0,t.jsxs)(J.lG,{open:p,onOpenChange:g,children:[(0,t.jsx)(J.zM,{asChild:!0,children:(0,t.jsxs)(r.$,{size:"sm",variant:"outline",children:[(0,t.jsx)(eo.A,{className:"w-4 h-4 mr-1"}),"Join"]})}),(0,t.jsxs)(J.Cf,{children:[(0,t.jsx)(J.c7,{children:(0,t.jsx)(J.L3,{children:"Join Session"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(H.J,{htmlFor:"agent-select",children:"Select Agent"}),(0,t.jsxs)(Y.l6,{value:v,onValueChange:f,children:[(0,t.jsx)(Y.bq,{children:(0,t.jsx)(Y.yv,{placeholder:"Choose an agent to join with"})}),(0,t.jsx)(Y.gC,{children:N.filter(e=>"available"===e.status).map(e=>(0,t.jsxs)(Y.eb,{value:e.id,children:[e.name," - ",e.specialization]},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{onClick:()=>{if(!v)return void D.oR.error("Please select an agent");y("join",{agentId:v,capabilities:["collaboration","communication"]})},disabled:!v||"join"===x,children:["join"===x?(0,t.jsx)(el.A,{className:"w-4 h-4 animate-spin mr-1"}):(0,t.jsx)(eo.A,{className:"w-4 h-4 mr-1"}),"Join Session"]}),(0,t.jsx)(r.$,{variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]})]})]}),a.availableActions.includes("leave")&&(0,t.jsxs)(r.$,{size:"sm",variant:"outline",onClick:()=>y("leave",{agentId:"current-agent",reason:"User requested leave"}),disabled:"leave"===x,children:["leave"===x?(0,t.jsx)(el.A,{className:"w-4 h-4 animate-spin mr-1"}):(0,t.jsx)(ed.A,{className:"w-4 h-4 mr-1"}),"Leave"]})]}),a.isOwner&&(0,t.jsxs)("details",{className:"border rounded p-2",children:[(0,t.jsx)("summary",{className:"cursor-pointer font-medium text-sm",children:"Advanced Controls"}),(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[a.availableActions.includes("transfer")&&(0,t.jsxs)(r.$,{size:"sm",variant:"outline",className:"w-full",onClick:()=>D.oR.info("Transfer functionality coming soon"),children:[(0,t.jsx)(en.A,{className:"w-4 h-4 mr-1"}),"Transfer Ownership"]}),(0,t.jsxs)(r.$,{size:"sm",variant:"outline",className:"w-full",onClick:()=>D.oR.info("Export functionality coming soon"),children:[(0,t.jsx)(S.A,{className:"w-4 h-4 mr-1"}),"Export Session Data"]})]})]})]})]}):(0,t.jsx)(n.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)(Q.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"Unable to load session controls"})]})})},ex=e=>{let{sessionId:s}=e,[a,d]=(0,i.useState)([]),[m,u]=(0,i.useState)(!0),[j,g]=(0,i.useState)(""),[f,N]=(0,i.useState)("all"),[b,y]=(0,i.useState)("all"),[w,A]=(0,i.useState)(!1),[C,S]=(0,i.useState)({key:"",value:"",contextType:"knowledge",priority:"medium",tags:""});(0,i.useEffect)(()=>{let e=async()=>{try{let a=new URLSearchParams({sessionId:s}),t=await fetch("/api/collaboration/context?".concat(a));if(t.ok){var e;let s=await t.json();d((null==(e=s.data)?void 0:e.entries)||[])}}catch(e){(0,l.vV)("Error fetching contexts:",e)}finally{u(!1)}};if(s){e();let s=setInterval(e,15e3);return()=>clearInterval(s)}},[s]);let k=a.filter(e=>{let s=e.key.toLowerCase().includes(j.toLowerCase())||JSON.stringify(e.value).toLowerCase().includes(j.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(j.toLowerCase())),a="all"===f||e.contextType===f,t="all"===b||e.priority===b;return s&&a&&t}),T=async()=>{try{let a=await fetch("/api/collaboration/context",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,agentId:"user",contextType:C.contextType,key:C.key,value:C.value,priority:C.priority,tags:C.tags.split(",").map(e=>e.trim()).filter(Boolean)})});if(a.ok){D.oR.success("Context added successfully"),A(!1),S({key:"",value:"",contextType:"knowledge",priority:"medium",tags:""});let a=await fetch("/api/collaboration/context?sessionId=".concat(s));if(a.ok){var e;let s=await a.json();d((null==(e=s.data)?void 0:e.entries)||[])}}else{let e=await a.json();D.oR.error(e.message||"Failed to add context")}}catch(e){(0,l.vV)("Error adding context:",e),D.oR.error("Failed to add context")}};return m?(0,t.jsx)(n.Zp,{className:"p-4",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-24",children:(0,t.jsx)(el.A,{className:"w-6 h-6 animate-spin"})})}):(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(es.A,{className:"w-5 h-5"}),"Context Management"]}),(0,t.jsxs)(J.lG,{open:w,onOpenChange:A,children:[(0,t.jsx)(J.zM,{asChild:!0,children:(0,t.jsxs)(r.$,{size:"sm",children:[(0,t.jsx)(ec.A,{className:"w-4 h-4 mr-1"}),"Add Context"]})}),(0,t.jsxs)(J.Cf,{children:[(0,t.jsx)(J.c7,{children:(0,t.jsx)(J.L3,{children:"Add Context Entry"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(H.J,{htmlFor:"context-key",children:"Key"}),(0,t.jsx)(G.p,{id:"context-key",value:C.key,onChange:e=>S({...C,key:e.target.value}),placeholder:"e.g., project_requirements"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(H.J,{htmlFor:"context-value",children:"Value"}),(0,t.jsx)(p.T,{id:"context-value",value:C.value,onChange:e=>S({...C,value:e.target.value}),placeholder:"Enter context data...",rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(H.J,{htmlFor:"context-type",children:"Type"}),(0,t.jsxs)(Y.l6,{value:C.contextType,onValueChange:e=>S({...C,contextType:e}),children:[(0,t.jsx)(Y.bq,{children:(0,t.jsx)(Y.yv,{})}),(0,t.jsxs)(Y.gC,{children:[(0,t.jsx)(Y.eb,{value:"conversation",children:"Conversation"}),(0,t.jsx)(Y.eb,{value:"task",children:"Task"}),(0,t.jsx)(Y.eb,{value:"knowledge",children:"Knowledge"}),(0,t.jsx)(Y.eb,{value:"preference",children:"Preference"}),(0,t.jsx)(Y.eb,{value:"state",children:"State"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(H.J,{htmlFor:"context-priority",children:"Priority"}),(0,t.jsxs)(Y.l6,{value:C.priority,onValueChange:e=>S({...C,priority:e}),children:[(0,t.jsx)(Y.bq,{children:(0,t.jsx)(Y.yv,{})}),(0,t.jsxs)(Y.gC,{children:[(0,t.jsx)(Y.eb,{value:"low",children:"Low"}),(0,t.jsx)(Y.eb,{value:"medium",children:"Medium"}),(0,t.jsx)(Y.eb,{value:"high",children:"High"}),(0,t.jsx)(Y.eb,{value:"critical",children:"Critical"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(H.J,{htmlFor:"context-tags",children:"Tags"}),(0,t.jsx)(G.p,{id:"context-tags",value:C.tags,onChange:e=>S({...C,tags:e.target.value}),placeholder:"tag1, tag2, tag3"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.$,{onClick:T,disabled:!C.key||!C.value,children:"Add Context"}),(0,t.jsx)(r.$,{variant:"outline",onClick:()=>A(!1),children:"Cancel"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(ei.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,t.jsx)(G.p,{placeholder:"Search contexts...",value:j,onChange:e=>g(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(Y.l6,{value:f,onValueChange:N,children:[(0,t.jsx)(Y.bq,{className:"w-32",children:(0,t.jsx)(Y.yv,{})}),(0,t.jsxs)(Y.gC,{children:[(0,t.jsx)(Y.eb,{value:"all",children:"All Types"}),(0,t.jsx)(Y.eb,{value:"conversation",children:"Conversation"}),(0,t.jsx)(Y.eb,{value:"task",children:"Task"}),(0,t.jsx)(Y.eb,{value:"knowledge",children:"Knowledge"}),(0,t.jsx)(Y.eb,{value:"preference",children:"Preference"}),(0,t.jsx)(Y.eb,{value:"state",children:"State"})]})]}),(0,t.jsxs)(Y.l6,{value:b,onValueChange:y,children:[(0,t.jsx)(Y.bq,{className:"w-32",children:(0,t.jsx)(Y.yv,{})}),(0,t.jsxs)(Y.gC,{children:[(0,t.jsx)(Y.eb,{value:"all",children:"All Priority"}),(0,t.jsx)(Y.eb,{value:"critical",children:"Critical"}),(0,t.jsx)(Y.eb,{value:"high",children:"High"}),(0,t.jsx)(Y.eb,{value:"medium",children:"Medium"}),(0,t.jsx)(Y.eb,{value:"low",children:"Low"})]})]})]}),(0,t.jsx)(v.F,{className:"h-96",children:(0,t.jsxs)("div",{className:"space-y-3",children:[k.map(e=>(0,t.jsxs)(n.Zp,{className:"p-3 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"conversation":return(0,t.jsx)(x.A,{className:"w-4 h-4"});case"task":return(0,t.jsx)(o.A,{className:"w-4 h-4"});case"knowledge":return(0,t.jsx)(W.A,{className:"w-4 h-4"});case"preference":return(0,t.jsx)(h.A,{className:"w-4 h-4"});case"state":return(0,t.jsx)(es.A,{className:"w-4 h-4"});default:return(0,t.jsx)(M.A,{className:"w-4 h-4"})}})(e.contextType),(0,t.jsx)("span",{className:"font-medium",children:e.key}),(0,t.jsx)(c.E,{className:(0,L.cn)("text-xs",(e=>{switch(e){case"critical":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}})(e.priority)),children:e.priority})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:"string"==typeof e.value?e.value:JSON.stringify(e.value,null,2)}),e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,t.jsxs)(c.E,{variant:"outline",className:"text-xs",children:[(0,t.jsx)(er.A,{className:"w-3 h-3 mr-1"}),e]},e))})]},e.id)),0===k.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(es.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"No Context Found"}),(0,t.jsx)("p",{className:"text-sm",children:0===a.length?"No context has been stored yet":"No context matches your filters"})]})]})})]})},eh=e=>{let{sessionId:s}=e;return(0,t.jsxs)(d.tU,{defaultValue:"controls",className:"space-y-4",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(d.Xi,{value:"controls",children:"Session Controls"}),(0,t.jsx)(d.Xi,{value:"context",children:"Context Management"})]}),(0,t.jsx)(d.av,{value:"controls",children:(0,t.jsx)(em,{sessionId:s})}),(0,t.jsx)(d.av,{value:"context",children:(0,t.jsx)(ex,{sessionId:s})})]})};function eu(e){let{params:s}=e,a=(0,j.useRouter)(),[p,g]=(0,i.useState)(null),[v,f]=(0,i.useState)(!0),[N,b]=(0,i.useState)("messages");return((0,i.useEffect)(()=>{(async()=>{try{let t=await s,l=await fetch("/api/collaboration/sessions/".concat(t.id));if(l.ok){var e;let s=await l.json();g(null==(e=s.data)?void 0:e.session)}else 404===l.status&&a.push("/dashboard/collaboration")}catch(e){(0,l.vV)("Error fetching session:",e)}finally{f(!1)}})()},[s,a]),v)?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard/collaboration"),children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:p.name}),(0,t.jsx)("p",{className:"text-muted-foreground",children:p.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"paused":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(p.status),children:p.status}),(0,t.jsx)(c.E,{variant:"outline",children:p.type}),(0,t.jsxs)(c.E,{variant:"secondary",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1"}),p.participatingAgents.length," agents"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)(d.tU,{value:N,onValueChange:b,className:"space-y-4",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsxs)(d.Xi,{value:"messages",className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),"Messages"]}),(0,t.jsxs)(d.Xi,{value:"agents",className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),"Agents"]}),(0,t.jsxs)(d.Xi,{value:"activity",className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"w-4 h-4"}),"Activity"]})]}),(0,t.jsx)(d.av,{value:"messages",children:(0,t.jsx)(P,{sessionId:p.id})}),(0,t.jsx)(d.av,{value:"agents",children:(0,t.jsx)(X,{})}),(0,t.jsx)(d.av,{value:"activity",children:(0,t.jsxs)(n.Zp,{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4",children:"Session Activity"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Session started"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(p.createdAt).toLocaleString()})]})]}),p.participatingAgents.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Agent ",e," joined"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Estimated join time"})]})]},s)),p.updatedAt!==p.createdAt&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Session updated"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(p.updatedAt).toLocaleString()})]})]})]})]})})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"sticky top-6 space-y-4",children:[(0,t.jsx)(eh,{sessionId:p.id}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),"Session Info"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,t.jsx)("span",{children:new Date(p.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Updated:"}),(0,t.jsx)("span",{children:new Date(p.updatedAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,t.jsx)("span",{className:"capitalize",children:p.type})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,t.jsx)("span",{className:"capitalize",children:p.status})]})]})]}),(0,t.jsxs)(n.Zp,{className:"p-4",children:[(0,t.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"}),"Participants (",p.participatingAgents.length,")"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[p.participatingAgents.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e}),(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]},s)),0===p.participatingAgents.length&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No agents currently participating"})]})]})]})})]})]}):(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)(n.Zp,{className:"p-8 text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Session Not Found"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"The collaboration session you're looking for doesn't exist or you don't have access to it."}),(0,t.jsxs)(r.$,{onClick:()=>a.push("/dashboard/collaboration"),children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Back to Collaboration Hub"]})]})})}},23320:(e,s,a)=>{Promise.resolve().then(a.bind(a,23240))}},e=>{e.O(0,[6975,4228,3848,9809,8061,2807,1198,1159,5159,23,6529,5593,4180,3976,186,8790,5848,8861,9701,5147,4961,9168,4774,27,6308,563,4696,9173,9219,4409,3376,9765,7650,8920,871,6680,7358],()=>e(e.s=23320)),_N_E=e.O()}]);