(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4646],{8831:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var l=a(95155),t=a(2479),r=a(12115),i=a(83209),c=a(97003),n=a(33789),d=a(67812),o=a(39867),x=a(92001),h=a(89715),m=a(22198),j=a(15530),p=a(42196),g=a(80003),u=a(20017),f=a(86651),N=a(35022),w=a(39347),v=a(21786),y=a(84272);function b(){let[e,s]=(0,r.useState)([]),[a,b]=(0,r.useState)([]),[A,C]=(0,r.useState)(!0),[F,S]=(0,r.useState)(""),[k,_]=(0,r.useState)("all"),[B,E]=(0,r.useState)("grid"),[z,T]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{W(),Z()},[]);let W=async()=>{try{let e=localStorage.getItem("auth_token"),a=await fetch("/api/briefcase/files",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){let e=await a.json();s(e.documents||[])}}catch(e){(0,t.vV)("Error loading documents:",e)}finally{C(!1)}},Z=async()=>{try{let e=localStorage.getItem("auth_token"),s=await fetch("/api/briefcase/folders",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(s.ok){let e=await s.json();b(e.folders||[])}}catch(e){(0,t.vV)("Error loading folders:",e)}},$=async e=>{let s=e.target.files;if(s&&0!==s.length)try{let e=localStorage.getItem("auth_token"),a=new FormData;for(let e=0;e<s.length;e++)a.append("files",s[e]);(await fetch("/api/briefcase/upload",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:a})).ok&&await W()}catch(e){(0,t.vV)("Error uploading files:",e)}},I=async()=>{let e=prompt("Enter folder name:");if(e)try{let s=localStorage.getItem("auth_token");(await fetch("/api/briefcase/folders",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({name:e})})).ok&&await Z()}catch(e){(0,t.vV)("Error creating folder:",e)}},M=e.filter(e=>{var s;let a=e.name.toLowerCase().includes(F.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(F.toLowerCase())),l="all"===k||e.category===k;return a&&l}),D=e=>{switch(e.toLowerCase()){case"pdf":return(0,l.jsx)(h.A,{className:"w-5 h-5 text-red-500"});case"jpg":case"jpeg":case"png":case"gif":case"webp":return(0,l.jsx)(p.A,{className:"w-5 h-5 text-blue-500"});default:return(0,l.jsx)(x.A,{className:"w-5 h-5 text-gray-500"})}},L=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},O=["all",...new Set(e.map(e=>e.category))];return A?(0,l.jsx)("div",{className:"container mx-auto p-6",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,l.jsx)("div",{className:"h-48 bg-gray-200 rounded"},e))})]})}):(0,l.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Briefcase"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage your business documents and files"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(c.$,{onClick:I,variant:"outline",children:[(0,l.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"New Folder"]}),(0,l.jsxs)("label",{className:"cursor-pointer",children:[(0,l.jsx)(c.$,{asChild:!0,children:(0,l.jsxs)("span",{children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Upload Files"]})}),(0,l.jsx)("input",{type:"file",multiple:!0,onChange:$,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.webp"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsx)(i.Zp,{children:(0,l.jsx)(i.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Total Files"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:e.length})]}),(0,l.jsx)(x.A,{className:"w-8 h-8 text-blue-500"})]})})}),(0,l.jsx)(i.Zp,{children:(0,l.jsx)(i.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Folders"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:a.length})]}),(0,l.jsx)(m.A,{className:"w-8 h-8 text-green-500"})]})})}),(0,l.jsx)(i.Zp,{children:(0,l.jsx)(i.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Storage Used"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:L(e.reduce((e,s)=>e+s.size,0))})]}),(0,l.jsx)(o.A,{className:"w-8 h-8 text-purple-500"})]})})}),(0,l.jsx)(i.Zp,{children:(0,l.jsx)(i.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Favorites"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:e.filter(e=>e.isFavorite).length})]}),(0,l.jsx)(w.A,{className:"w-8 h-8 text-yellow-500"})]})})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,l.jsx)(n.p,{placeholder:"Search documents...",value:F,onChange:e=>S(e.target.value),className:"pl-10"})]}),(0,l.jsx)("select",{value:k,onChange:e=>_(e.target.value),className:"px-3 py-2 border rounded-md","aria-label":"Filter by category",children:O.map(e=>(0,l.jsx)("option",{value:e,children:"all"===e?"All Categories":e},e))}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(c.$,{variant:"grid"===B?"default":"outline",size:"sm",onClick:()=>E("grid"),children:(0,l.jsx)(j.A,{className:"w-4 h-4"})}),(0,l.jsx)(c.$,{variant:"list"===B?"default":"outline",size:"sm",onClick:()=>E("list"),children:(0,l.jsx)(g.A,{className:"w-4 h-4"})})]})]}),a.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Folders"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(e=>(0,l.jsx)(i.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,l.jsx)(i.Wu,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white ".concat({"#8B5CF6":"bg-purple-500","#EC4899":"bg-pink-500","#6366F1":"bg-indigo-500","#F59E0B":"bg-yellow-500","#10B981":"bg-emerald-500","#EF4444":"bg-red-500","#06B6D4":"bg-cyan-500","#3B82F6":"bg-blue-500","#F97316":"bg-orange-500","#84CC16":"bg-lime-500","#A855F7":"bg-violet-500","#F43F5E":"bg-rose-500"}[e.color]||"bg-gray-500"),children:(0,l.jsx)(m.A,{className:"w-5 h-5"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-medium",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.fileCount," files"]})]})]})})},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Documents"}),0===M.length?(0,l.jsx)(i.Zp,{children:(0,l.jsxs)(i.Wu,{className:"p-12 text-center",children:[(0,l.jsx)(x.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No documents found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:F||"all"!==k?"Try adjusting your search or filter criteria":"Upload your first document to get started"}),!F&&"all"===k&&(0,l.jsxs)("label",{className:"cursor-pointer",children:[(0,l.jsxs)(c.$,{children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Upload Files"]}),(0,l.jsx)("input",{type:"file",multiple:!0,onChange:$,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.webp"})]})]})}):(0,l.jsx)("div",{className:"grid"===B?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-2",children:M.map(e=>(0,l.jsx)(i.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow ".concat(z.has(e.id)?"ring-2 ring-blue-500":""),children:(0,l.jsx)(i.Wu,{className:"grid"===B?"p-4":"p-3",children:"grid"===B?(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[D(e.fileType),(0,l.jsxs)(y.rI,{children:[(0,l.jsx)(y.ty,{asChild:!0,children:(0,l.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,l.jsx)(u.A,{className:"w-4 h-4"})})}),(0,l.jsxs)(y.SQ,{children:[(0,l.jsxs)(y._2,{onClick:()=>window.open("/api/briefcase/files/".concat(e.id,"/download"),"_blank"),children:[(0,l.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,l.jsxs)(y._2,{children:[(0,l.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,l.jsx)(y.mB,{}),(0,l.jsxs)(y._2,{children:[(0,l.jsx)(w.A,{className:"w-4 h-4 mr-2"}),e.isFavorite?"Remove from Favorites":"Add to Favorites"]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-sm truncate",title:e.name,children:e.name}),(0,l.jsx)("p",{className:"text-xs text-gray-600",children:L(e.size)}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)(d.E,{variant:"secondary",className:"text-xs",children:e.category}),e.isFavorite&&(0,l.jsx)(w.A,{className:"w-3 h-3 text-yellow-500 fill-current"})]})]})]}):(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[D(e.fileType),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-medium",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[L(e.size)," â€¢ ",e.category]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(d.E,{variant:"secondary",children:e.fileType.toUpperCase()}),e.isFavorite&&(0,l.jsx)(w.A,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,l.jsxs)(y.rI,{children:[(0,l.jsx)(y.ty,{asChild:!0,children:(0,l.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,l.jsx)(u.A,{className:"w-4 h-4"})})}),(0,l.jsxs)(y.SQ,{children:[(0,l.jsxs)(y._2,{onClick:()=>window.open("/api/briefcase/files/".concat(e.id,"/download"),"_blank"),children:[(0,l.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,l.jsxs)(y._2,{children:[(0,l.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,l.jsx)(y.mB,{}),(0,l.jsxs)(y._2,{children:[(0,l.jsx)(w.A,{className:"w-4 h-4 mr-2"}),e.isFavorite?"Remove from Favorites":"Add to Favorites"]})]})]})]})]})})},e.id))})]})]})}},72197:(e,s,a)=>{Promise.resolve().then(a.bind(a,8831))}},e=>{e.O(0,[5848,8861,9701,5147,4961,9168,4774,27,6308,563,4696,9173,9219,4409,3376,9765,7650,8920,871,6680,6975,4228,3848,9809,8061,2807,1198,1159,5159,23,6529,5593,4180,3976,186,8790,7358],()=>e(e.s=72197)),_N_E=e.O()}]);