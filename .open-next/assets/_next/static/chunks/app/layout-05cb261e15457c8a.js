(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{5653:(e,t,s)=>{"use strict";s.d(t,{ErrorBoundary:()=>d});var a=s(95155),r=s(2479),i=s(12115),n=s(83209),l=s(97003);s(67812),s(32559);var c=s(52056);s(42529),s(26983),s(23327),s(17666);var o=s(89559);function d(e){let{children:t}=e,[s,d]=(0,i.useState)(!1),[m,h]=(0,i.useState)(null);return((0,i.useEffect)(()=>{let e=e=>{(0,r.vV)("Global error caught:",e.error),h(e.error),d(!0)},t=e=>{var t;(0,r.vV)("Unhandled promise rejection:",e.reason),h(Error((null==(t=e.reason)?void 0:t.message)||"Promise rejected")),d(!0)};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},[]),s)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md border-red-200 bg-red-50",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-red-800",children:[(0,a.jsx)(c.A,{className:"h-5 w-5"}),"Something went wrong"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-red-700",children:"We encountered an unexpected error. Please refresh the page or contact support if the problem persists."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{onClick:()=>window.location.reload(),className:"flex-1",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Refresh Page"]}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>window.open("/contact","_blank"),children:"Contact Support"})]})]})]})}):(0,a.jsx)(a.Fragment,{children:t})}s(33738),s(65229)},15502:(e,t,s)=>{"use strict";s.d(t,{PerformanceMonitor:()=>u});var a=s(95155),r=s(12115),i=s(83209),n=s(67812),l=s(55850),c=s(50906),o=s(26983),d=s(1524),m=s(56154),h=s(95704);function u(){let[e,t]=(0,r.useState)(null),[s,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if("true"===h.env.NEXT_PUBLIC_PERFORMANCE_MONITOR&&u(!0),"PerformanceObserver"in window){let e=new PerformanceObserver(e=>{for(let s of e.getEntries())if("largest-contentful-paint"===s.entryType)t(e=>({...e||{fcp:0,lcp:0,fid:0,cls:0,ttfb:0,loadTime:0},lcp:s.startTime}));else if("first-input"===s.entryType){let e=s;t(t=>({...t||{fcp:0,lcp:0,fid:0,cls:0,ttfb:0,loadTime:0},fid:(e.processingStart||e.startTime)-e.startTime}))}else if("layout-shift"===s.entryType){let e=s;t(t=>({...t||{fcp:0,lcp:0,fid:0,cls:0,ttfb:0,loadTime:0},cls:((null==t?void 0:t.cls)||0)+e.value}))}});e.observe({entryTypes:["largest-contentful-paint","first-input","layout-shift"]});let s=performance.getEntriesByType("navigation")[0];s&&t({fcp:0,lcp:0,fid:0,cls:0,ttfb:s.responseStart-s.requestStart,loadTime:s.loadEventEnd-s.loadEventStart});let a=new PerformanceObserver(e=>{let s=e.getEntries(),a=s[s.length-1];t(e=>({...e||{fcp:0,lcp:0,fid:0,cls:0,ttfb:0,loadTime:0},fcp:a.startTime}))});return a.observe({entryTypes:["paint"]}),()=>{e.disconnect(),a.disconnect()}}},[]),!s||!e)return null;let x=(e,t)=>e<=t.good?"good":e<=t.poor?"needs-improvement":"poor",p=e=>{switch(e){case"good":return"bg-green-100 text-green-800";case"needs-improvement":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=x(e.lcp,{good:2500,poor:4e3}),f=x(e.fid,{good:100,poor:300}),v=x(e.cls,{good:.1,poor:.25});return(0,a.jsxs)(i.Zp,{className:"fixed bottom-4 right-4 w-80 z-50 bg-white/95 backdrop-blur-sm border-2",children:[(0,a.jsxs)(i.aR,{className:"pb-2",children:[(0,a.jsxs)(i.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Performance Monitor"]}),(0,a.jsx)(i.BT,{className:"text-xs",children:"Core Web Vitals & Performance Metrics"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:"LCP"}),(0,a.jsx)(n.E,{className:"text-xs ".concat(p(g)),children:g.replace("-"," ")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 text-gray-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:e.lcp?"".concat(Math.round(e.lcp),"ms"):"Measuring..."})]}),(0,a.jsx)(l.k,{value:Math.min(e.lcp/4e3*100,100),className:"h-1"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:"FID"}),(0,a.jsx)(n.E,{className:"text-xs ".concat(p(f)),children:f.replace("-"," ")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 text-gray-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:e.fid?"".concat(Math.round(e.fid),"ms"):"Measuring..."})]}),(0,a.jsx)(l.k,{value:Math.min(e.fid/300*100,100),className:"h-1"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:"CLS"}),(0,a.jsx)(n.E,{className:"text-xs ".concat(p(v)),children:v.replace("-"," ")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-3 h-3 text-gray-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:e.cls?e.cls.toFixed(3):"Measuring..."})]}),(0,a.jsx)(l.k,{value:Math.min(e.cls/.25*100,100),className:"h-1"})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"TTFB:"}),(0,a.jsx)("span",{className:"ml-1 font-medium",children:e.ttfb?"".concat(Math.round(e.ttfb),"ms"):"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Load:"}),(0,a.jsx)("span",{className:"ml-1 font-medium",children:e.loadTime?"".concat(Math.round(e.loadTime),"ms"):"N/A"})]})]})})]})]})}},20666:(e,t,s)=>{"use strict";s.d(t,{ServiceWorkerRegister:()=>h});var a=s(95155),r=s(2479),i=s(12115),n=s(97003),l=s(83209),c=s(67812),o=s(42529),d=s(39867),m=s(89559);function h(){let[e,t]=(0,i.useState)(!1),[s,h]=(0,i.useState)(!1),[u,x]=(0,i.useState)(!0),[p,g]=(0,i.useState)(!1),[f,v]=(0,i.useState)(null);(0,i.useEffect)(()=>("serviceWorker"in navigator&&(t(!0),y()),x(navigator.onLine),window.addEventListener("online",()=>x(!0)),window.addEventListener("offline",()=>x(!1)),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),v(e),g(!0)}),window.matchMedia("(display-mode: standalone)").matches&&h(!0),()=>{window.removeEventListener("online",()=>x(!0)),window.removeEventListener("offline",()=>x(!1))}),[]),(0,i.useEffect)(()=>{fetch("/api/ping-search",{method:"POST"}).catch(()=>{})},[]);let y=async()=>{try{if("serviceWorker"in navigator){if(await navigator.serviceWorker.getRegistration())return void(0,r.fH)("Service Worker already registered");let e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});(0,r.fH)("Service Worker registered successfully:",e)}}catch(e){(0,r.vV)("Service Worker registration failed:",e),(0,r.JE)("Service Worker registration failed - this is not critical for app functionality")}},b=async()=>{if(f){f.prompt();let{outcome:e}=await f.userChoice;"accepted"===e&&((0,r.fH)("PWA installed successfully"),h(!0)),v(null),g(!1)}};return e?(0,a.jsxs)(a.Fragment,{children:[p&&!s&&(0,a.jsxs)(l.Zp,{className:"fixed top-4 right-4 w-80 z-50 bg-white/95 backdrop-blur-sm border-2 border-blue-200",children:[(0,a.jsxs)(l.aR,{className:"pb-2",children:[(0,a.jsxs)(l.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-blue-600"}),"Install SoloSuccess AI"]}),(0,a.jsx)(l.BT,{className:"text-xs",children:"Get the full app experience with offline access"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,a.jsx)("p",{children:"✨ Access your AI squad offline"}),(0,a.jsx)("p",{children:"\uD83D\uDE80 Faster loading times"}),(0,a.jsx)("p",{children:"\uD83D\uDCF1 App-like experience"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{size:"sm",onClick:b,className:"flex-1",children:"Install App"}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>g(!1),children:"Later"})]})]})]}),(0,a.jsx)("div",{className:"fixed bottom-4 left-4 z-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/95 backdrop-blur-sm rounded-full px-3 py-2 border shadow-sm",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(u?"bg-green-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-xs font-medium",children:u?"Online":"Offline"}),s&&(0,a.jsxs)(c.E,{variant:"secondary",className:"text-xs",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"}),"Installed"]}),!u&&(0,a.jsx)(n.$,{size:"sm",variant:"ghost",onClick:()=>{window.location.reload()},children:(0,a.jsx)(m.A,{className:"w-3 h-3"})})]})})]}):null}},34178:(e,t,s)=>{"use strict";s.d(t,{AccessibilityProvider:()=>c});var a=s(95155),r=s(2479),i=s(12115),n=s(33292);s(97003),s(7235),s(90235),s(83209),s(75813),s(76482);let l=(0,i.createContext)(void 0);function c(e){let{children:t}=e,{preferences:s,setPreference:c,loading:o}=(0,n.H)({defaultValues:{accessibility:{highContrast:!1,reducedMotion:!1,screenReader:!1,fontSize:"medium",focusVisible:!1}},fallbackToLocalStorage:!0}),d=s.accessibility||{highContrast:!1,reducedMotion:!1,screenReader:!1,fontSize:"medium",focusVisible:!1},[m,h]=(0,i.useState)(d.highContrast),[u,x]=(0,i.useState)(d.reducedMotion),[p,g]=(0,i.useState)(d.screenReader),[f,v]=(0,i.useState)(d.fontSize),[y,b]=(0,i.useState)(d.focusVisible);return(0,i.useEffect)(()=>{o||(h(d.highContrast),x(d.reducedMotion),g(d.screenReader),v(d.fontSize),b(d.focusVisible))},[o,d]),(0,i.useEffect)(()=>{let e=document.documentElement;m?e.classList.add("high-contrast"):e.classList.remove("high-contrast"),u?e.classList.add("reduced-motion"):e.classList.remove("reduced-motion"),e.style.fontSize="small"===f?"14px":"large"===f?"18px":"16px",o||c("accessibility",{highContrast:m,reducedMotion:u,screenReader:p,fontSize:f,focusVisible:y}).catch(e=>(0,r.vV)("Failed to save accessibility preferences:",e))},[m,u,p,f,y,o,c]),(0,a.jsx)(l.Provider,{value:{highContrast:m,toggleHighContrast:()=>h(!m),reducedMotion:u,toggleReducedMotion:()=>x(!u),screenReader:p,toggleScreenReader:()=>g(!p),fontSize:f,setFontSize:v,focusVisible:y,setFocusVisible:b},children:t})}},38119:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(95155),r=s(2479),i=s(12115),n=s(97003),l=s(4192);function c(){let[e,t]=(0,i.useState)(!1),[s,c]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),[m,h]=(0,i.useState)(""),[u,x]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1),[f,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),[j,w]=(0,i.useState)(!1),[N,S]=(0,i.useState)(!1),{getToken:E}=(0,l.A)();(0,i.useEffect)(()=>{(async()=>{try{let e=await E(),t={"Content-Type":"application/json"};e&&(t.Authorization="Bearer ".concat(e));let s=await fetch("/api/surveys/exit-intent",{method:"GET",headers:t});if(s.ok){let{status:e,canShow:t}=await s.json();if("submitted"===e)v(!0),w(!1);else if("dismissed"===e)b(!0),w(!1);else if(t){let e=setTimeout(()=>{w(!0)},3e3);return S(!0),()=>clearTimeout(e)}}S(!0)}catch(t){(0,r.vV)("Failed to check survey status:",t);let e=setTimeout(()=>{w(!0)},3e3);return S(!0),()=>clearTimeout(e)}})()},[E]),(0,i.useEffect)(()=>{if(f||y||!j||!N)return;let e=e=>{e.clientY<=0&&!f&&!y&&j&&N&&t(!0)};return window.addEventListener("mouseout",e),()=>window.removeEventListener("mouseout",e)},[f,y,j,N]);let k=async()=>{if(!p){g(!0);try{let e=await E(),a={"Content-Type":"application/json"};e&&(a.Authorization="Bearer ".concat(e)),(await fetch("/api/surveys/exit-intent",{method:"POST",headers:a,body:JSON.stringify({role:s,goal:o,blocker:m,email:u})})).ok||(0,r.vV)("Failed to submit survey: Server error"),v(!0),t(!1)}catch(e){(0,r.vV)("Failed to submit survey:",e),v(!0),t(!1)}finally{g(!1)}}},P=async()=>{try{let e=await E(),s={"Content-Type":"application/json"};e&&(s.Authorization="Bearer ".concat(e)),await fetch("/api/surveys/exit-intent",{method:"POST",headers:s,body:JSON.stringify({action:"dismiss"})}),b(!0),t(!1)}catch(e){(0,r.vV)("Failed to dismiss survey:",e),b(!0),t(!1)}};return!e||f||y?null:(0,a.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/30 p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-lg rounded-xl bg-white p-6 shadow-xl border",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Before you go—mind a 1‑minute survey?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Help us tailor SoloSuccess AI for you. Totally optional."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsx)("input",{className:"border rounded-lg px-3 py-2",placeholder:"Your role (e.g., Solo Founder)",value:s,onChange:e=>c(e.target.value)}),(0,a.jsx)("input",{className:"border rounded-lg px-3 py-2",placeholder:"Primary goal (e.g., automate content)",value:o,onChange:e=>d(e.target.value)}),(0,a.jsx)("input",{className:"border rounded-lg px-3 py-2",placeholder:"Top blocker (e.g., time)",value:m,onChange:e=>h(e.target.value)}),(0,a.jsx)("input",{className:"border rounded-lg px-3 py-2",placeholder:"Email (optional)",type:"email",value:u,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"mt-4 flex gap-2 justify-end",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:P,children:"Skip"}),(0,a.jsx)(n.$,{onClick:k,disabled:p,children:p?"Saving…":"Submit"})]})]})})}},41290:()=>{},45365:(e,t,s)=>{"use strict";s.d(t,{StackAuthProvider:()=>i});var a=s(95155),r=s(12115);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{i(!0)},[]),(0,a.jsx)(a.Fragment,{children:t})}},78469:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,41290,23)),Promise.resolve().then(s.bind(s,45365)),Promise.resolve().then(s.bind(s,38119)),Promise.resolve().then(s.bind(s,15502)),Promise.resolve().then(s.bind(s,20666)),Promise.resolve().then(s.bind(s,92072)),Promise.resolve().then(s.bind(s,81901)),Promise.resolve().then(s.bind(s,34178)),Promise.resolve().then(s.bind(s,5653)),Promise.resolve().then(s.bind(s,4192)),Promise.resolve().then(s.t.bind(s,41402,23)),Promise.resolve().then(s.t.bind(s,95144,23)),Promise.resolve().then(s.t.bind(s,80624,23)),Promise.resolve().then(s.t.bind(s,21982,23)),Promise.resolve().then(s.t.bind(s,50760,23))},81901:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>n});var a=s(95155),r=s(5379),i=s(12115);function n(e){let{children:t,...s}=e;return(0,i.useEffect)(()=>{let e=()=>{let e=document.documentElement;e.classList.contains("dark")?(e.style.setProperty("--holo-bg","rgba(0, 0, 0, 0.8)"),e.style.setProperty("--holo-border","rgba(182, 33, 255, 0.3)"),e.style.setProperty("--holo-glow","rgba(182, 33, 255, 0.5)"),e.style.setProperty("--holo-text","rgba(255, 255, 255, 0.9)")):(e.style.setProperty("--holo-bg","rgba(255, 255, 255, 0.1)"),e.style.setProperty("--holo-border","rgba(182, 33, 255, 0.2)"),e.style.setProperty("--holo-glow","rgba(182, 33, 255, 0.3)"),e.style.setProperty("--holo-text","rgba(0, 0, 0, 0.9)"))};e();let t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>t.disconnect()},[]),(0,a.jsx)(r.N,{...s,themes:["light","dark","system"],defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!1,children:t})}},92072:(e,t,s)=>{"use strict";s.d(t,{ChatProvider:()=>C});var a=s(95155),r=s(2479),i=s(12115),n=s(97003),l=s(67812),c=s(5937),o=s(95740),d=s(25016),m=s(31322),h=s(31856),u=s(67001),x=s(27346),p=s(33884),g=s(83209),f=s(24033),v=s(75426),y=s(37586),b=s(18085),j=s(20508);function w(e){let{open:t,onOpenChange:s,agents:c,onSendMessage:w,messages:N,isLoading:S=!1,className:E=""}=e,[k,P]=(0,i.useState)(null),[C,A]=(0,i.useState)(""),[T,M]=(0,i.useState)(!1),_=(0,i.useRef)(null),F=(0,i.useRef)(null),[z,L]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>{L(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[N]),(0,i.useEffect)(()=>{!k&&c.length>0&&P(c[0])},[k,c]);let D=async()=>{if(C.trim()&&k&&!S)try{await w(C.trim(),k.id),A(""),F.current&&(F.current.style.height="44px")}catch(e){(0,r.vV)("Error sending message:",e)}},O=async e=>{try{await navigator.clipboard.writeText(e)}catch(e){(0,r.vV)("Failed to copy message:",e)}},I=()=>N.filter(e=>!k||e.agentId===k.id);return(0,a.jsx)(h.cj,{open:t,onOpenChange:s,children:(0,a.jsxs)(h.h,{side:"right",className:(0,d.cn)("w-full sm:w-[400px] p-0 flex flex-col",z&&"w-full max-w-none",E),children:[(0,a.jsxs)(h.Fm,{className:"flex-shrink-0 p-4 border-b bg-white/80 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[k&&(0,a.jsx)(p.eu,{className:"w-8 h-8",style:{backgroundColor:"var(--bg-color-".concat(Math.random().toString(36).substr(2,9),")")},children:(0,a.jsx)(p.q5,{style:{backgroundColor:"var(--bg-color-".concat(Math.random().toString(36).substr(2,9),")"),color:"white"},className:"text-xs font-bold",children:k.display_name.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(h.qp,{className:"text-lg",children:k?k.display_name:"AI Agents"}),(0,a.jsx)(h.Qs,{className:"text-xs",children:k?k.description:"Choose an AI agent to chat with"})]})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>M(!T),className:"h-8 w-8 p-0",children:(0,a.jsx)(f.A,{className:(0,d.cn)("w-4 h-4 transition-transform",T&&"rotate-180")})})]}),(0,a.jsx)(m.Nyo,{children:T&&(0,a.jsx)(m.PY1.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden mt-3",children:(0,a.jsx)(x.F,{className:"max-h-40",children:(0,a.jsx)("div",{className:"space-y-1",children:c.map(e=>(0,a.jsxs)(n.$,{variant:(null==k?void 0:k.id)===e.id?"default":"ghost",size:"sm",className:"w-full justify-start h-auto p-2 text-left",onClick:()=>{P(e),M(!1)},children:[(0,a.jsx)(p.eu,{className:"w-6 h-6 mr-2",children:(0,a.jsx)(p.q5,{style:{backgroundColor:"var(--bg-color-".concat(Math.random().toString(36).substr(2,9),")"),color:"white"},className:"text-xs",children:e.display_name.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-xs",children:e.display_name}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.description})]})]},e.id))})})})})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,a.jsx)(x.F,{ref:_,className:"flex-1 p-4",children:0===I().length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(y.A,{className:"w-8 h-8 text-purple-600"})}),(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Start a conversation"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:k?"Ask ".concat(k.display_name," anything!"):"Select an agent to begin chatting"}),k&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 justify-center",children:k.capabilities.slice(0,3).map((e,t)=>(0,a.jsx)(l.E,{variant:"outline",className:"text-xs",children:e},t))})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[I().map((e,t)=>(0,a.jsxs)(m.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:(0,d.cn)("flex gap-3","user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&k&&(0,a.jsx)(p.eu,{className:"w-8 h-8 flex-shrink-0",children:(0,a.jsx)(p.q5,{style:{backgroundColor:"var(--bg-color-".concat(Math.random().toString(36).substr(2,9),")"),color:"white"},className:"text-xs",children:k.display_name.charAt(0)})}),(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-col max-w-[80%]","user"===e.role?"items-end":"items-start"),children:[(0,a.jsxs)(g.Zp,{className:(0,d.cn)("relative","user"===e.role?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border border-gray-200"),children:[(0,a.jsx)(g.Wu,{className:"p-3",children:(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content})}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",className:(0,d.cn)("absolute -top-2 -right-2 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity","user"===e.role?"text-white hover:bg-white/20":"text-gray-500 hover:bg-gray-100"),onClick:()=>O(e.content),children:(0,a.jsx)(v.A,{className:"w-3 h-3"})})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1 px-1",children:e.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),"user"===e.role&&(0,a.jsx)(p.eu,{className:"w-8 h-8 flex-shrink-0",children:(0,a.jsx)(p.q5,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white text-xs",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})})})]},e.id)),S&&(0,a.jsxs)(m.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[k&&(0,a.jsx)(p.eu,{className:"w-8 h-8 flex-shrink-0",children:(0,a.jsx)(p.q5,{style:{backgroundColor:"var(--bg-color-".concat(Math.random().toString(36).substr(2,9),")"),color:"white"},className:"text-xs",children:k.display_name.charAt(0)})}),(0,a.jsx)(g.Zp,{className:"bg-white border border-gray-200",children:(0,a.jsx)(g.Wu,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Typing..."})]})})})]})]})}),(0,a.jsxs)("div",{className:"flex-shrink-0 p-4 border-t bg-white/80 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)(u.T,{ref:F,value:C,onChange:e=>{A(e.target.value);let t=e.target;t.style.height="44px",t.style.height=Math.min(t.scrollHeight,120)+"px"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),D())},placeholder:k?"Message ".concat(k.display_name,"..."):"Select an agent first...",disabled:!k||S,className:"min-h-[44px] max-h-[120px] resize-none pr-10 text-sm",rows:1})}),(0,a.jsx)(n.$,{onClick:D,disabled:!C.trim()||!k||S,size:"sm",className:"h-11 w-11 p-0 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:(0,a.jsx)(b.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("div",{className:"flex gap-1",children:k&&k.capabilities.slice(0,2).map((e,t)=>(0,a.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"}),e]},t))}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:(0,a.jsx)("span",{children:"Enter to send"})})]})]})]})]})})}function N(e){let{agents:t,messages:s,onSendMessage:r,isLoading:h=!1,className:u=""}=e,[x,p]=(0,i.useState)(!1),[g,f]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,j]=(0,i.useState)(0);return((0,i.useEffect)(()=>{let e=()=>{f(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{s.length>b&&!x&&y(!0),j(s.length)},[s.length,b,x]),(0,i.useEffect)(()=>{x&&y(!1)},[x]),g)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Nyo,{children:!x&&(0,a.jsx)(m.PY1.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:400,damping:25},className:(0,d.cn)("fixed bottom-4 right-4 z-50",u),children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.$,{onClick:()=>p(!0),size:"lg",className:(0,d.cn)("h-14 w-14 rounded-full shadow-lg","bg-gradient-to-r from-purple-600 to-blue-600","hover:from-purple-700 hover:to-blue-700","transform hover:scale-105 transition-all duration-200","border-2 border-white"),children:(0,a.jsx)(c.A,{className:"w-6 h-6 text-white"})}),v&&(0,a.jsx)(m.PY1.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1",children:(0,a.jsx)(l.E,{className:"h-5 w-5 p-0 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"w-3 h-3"})})}),(0,a.jsx)(m.PY1.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]})})}),(0,a.jsx)(w,{open:x,onOpenChange:p,agents:t,messages:s,onSendMessage:r,isLoading:h})]}):null}var S=s(28171),E=s(33292);let k=(0,i.createContext)(void 0),P=[{id:"roxy",name:"roxy",display_name:"Roxy",description:"Strategic Decision Architect & Executive Assistant",personality:"Efficiently rebellious, organized chaos master, proactively punk",capabilities:["SPADE Framework","Strategic Planning","Schedule Management","Risk Assessment"],accent_color:"#8B5CF6"},{id:"blaze",name:"blaze",display_name:"Blaze",description:"Growth & Sales Strategist",personality:"Energetically rebellious, results-driven with punk rock passion",capabilities:["Cost-Benefit Analysis","Sales Funnels","Market Strategy","Growth Planning"],accent_color:"#F59E0B"},{id:"echo",name:"echo",display_name:"Echo",description:"Marketing Maven & Content Creator",personality:"Creatively rebellious, high-converting with warm punk energy",capabilities:["Content Creation","Brand Strategy","Social Media","Campaign Planning"],accent_color:"#EC4899"},{id:"lumi",name:"lumi",display_name:"Lumi",description:"Guardian AI & Compliance Co-Pilot",personality:"Proactive compliance expert with ethical decision-making",capabilities:["GDPR/CCPA Compliance","Policy Generation","Legal Guidance","Risk Management"],accent_color:"#10B981"},{id:"vex",name:"vex",display_name:"Vex",description:"Technical Architect & Systems Optimizer",personality:"Systems rebel, automation architect, technical problem solver",capabilities:["System Design","Automation","Technical Strategy","Process Optimization"],accent_color:"#3B82F6"},{id:"lexi",name:"lexi",display_name:"Lexi",description:"Strategy Analyst & Data Queen",personality:"Data-driven insights insurgent, analytical powerhouse",capabilities:["Data Analysis","Market Research","Performance Metrics","Strategic Insights"],accent_color:"#6366F1"},{id:"nova",name:"nova",display_name:"Nova",description:"Productivity & Time Management Coach",personality:"Productivity revolutionary, time optimization expert",capabilities:["Time Management","Workflow Optimization","Productivity Systems","Focus Techniques"],accent_color:"#06B6D4"},{id:"glitch",name:"glitch",display_name:"Glitch",description:"Problem-Solving Architect",personality:"Root cause investigator, creative problem solver",capabilities:["Five Whys Analysis","Problem Solving","Innovation","Creative Solutions"],accent_color:"#EF4444"}];function C(e){let{children:t}=e,[s,n]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),{toast:o}=(0,S.dj)(),{preferences:d,setPreference:m,loading:h}=(0,E.H)({defaultValues:{chatMessages:[]},fallbackToLocalStorage:!0});(0,i.useEffect)(()=>{if(!h&&d.chatMessages)try{let e=d.chatMessages;Array.isArray(e)&&e.length>0&&n(e.map(e=>({...e,timestamp:new Date(e.timestamp)})))}catch(e){(0,r.vV)("Error loading cached messages:",e)}},[d.chatMessages,h]),(0,i.useEffect)(()=>{s.length>0&&!h&&m("chatMessages",s).catch(e=>{(0,r.vV)("Failed to save chat messages to preferences:",e);try{localStorage.setItem("solosuccess_chat_messages",JSON.stringify(s))}catch(e){(0,r.vV)("Failed to save to localStorage as fallback:",e)}})},[s,m,h]);let u=e=>{n(t=>[...t,e])},x=async(e,t)=>{u({id:Date.now().toString(),role:"user",content:e,timestamp:new Date,agentId:t}),c(!0);try{let a=localStorage.getItem("authToken"),r=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify({message:e,agentId:t})});if(r.ok){var s;let e=null==(s=r.body)?void 0:s.getReader();if(e){let s=new TextDecoder,a="",r={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date,agentId:t};for(u(r);;){let{done:t,value:i}=await e.read();if(t)break;let l=s.decode(i);a+=l,n(e=>e.map(e=>e.id===r.id?{...e,content:a}:e))}}}else throw Error("Failed to send message")}catch(e){(0,r.vV)("Error sending message:",e),o({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"}),u({id:(Date.now()+2).toString(),role:"assistant",content:"I'm sorry, I'm having trouble connecting right now. Please try again later.",timestamp:new Date,agentId:t})}finally{c(!1)}};return(0,a.jsxs)(k.Provider,{value:{messages:s,addMessage:u,clearMessages:()=>{n([]),m("chatMessages",[]).catch(e=>{(0,r.vV)("Failed to clear chat messages from preferences:",e);try{localStorage.removeItem("solosuccess_chat_messages")}catch(e){(0,r.vV)("Failed to clear localStorage as fallback:",e)}})},isLoading:l,setIsLoading:c},children:[t,(0,a.jsx)(N,{agents:P,messages:s,onSendMessage:x,isLoading:l})]})}}},e=>{e.O(0,[1741,6975,4228,3848,9809,8061,2807,1198,1159,5159,23,6529,5593,4180,3976,186,8790,5848,8861,9701,5147,4961,2136,7908,8030,2583,9168,4774,27,6308,563,4696,9173,9219,4409,3376,9765,7650,8920,871,6680,7358],()=>e(e.s=78469)),_N_E=e.O()}]);