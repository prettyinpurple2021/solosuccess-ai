(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3759],{28919:(e,s,a)=>{Promise.resolve().then(a.bind(a,96304))},96304:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var l=a(95155),t=a(2479),n=a(12115),r=a(97003),i=a(33775),d=a(42529),c=a(68854),o=a(89559),x=a(78874);function h(){let[e,s]=(0,n.useState)(null),[a,h]=(0,n.useState)(null),[m,u]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("authToken");s(e),e&&g(e)},[]);let g=async e=>{N(!0),f(null);try{let s=await fetch("/api/auth/user",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let a=await s.json();h(a);let l=await fetch("/api/dashboard",{headers:{Authorization:"Bearer ".concat(e)}});if(l.ok){let e=await l.json();u(e)}else(0,t.vV)("Dashboard API failed:",l.status,await l.text())}else(0,t.vV)("User API failed:",s.status,await s.text()),f("Token validation failed")}catch(e){(0,t.vV)("Test failed:",e),f("Test failed: "+e.message)}finally{N(!1)}};return(0,l.jsx)("div",{className:"min-h-screen gradient-background p-6",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-4",children:(0,l.jsx)(c.A,{className:"h-8 w-8 text-white"})}),(0,l.jsx)("h1",{className:"text-3xl font-bold boss-heading mb-2",children:"Authentication Debug"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Debug your SoloSuccess AI authentication system"})]}),(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"Token Status"}),(0,l.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:e?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,l.jsx)(d.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"font-medium",children:"Token Found"})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 break-all",children:[e.substring(0,50),"..."]})]}):(0,l.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,l.jsx)(x.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"font-medium",children:"No Token Found"})]})}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(r.$,{onClick:()=>{e&&g(e)},disabled:!e||j,variant:"outline",children:[(0,l.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Test Token"]}),(0,l.jsx)(r.$,{onClick:()=>{localStorage.removeItem("authToken"),s(null),h(null),u(null),f(null)},variant:"outline",children:"Clear Token"})]})]})}),a&&(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"User Data"}),(0,l.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,l.jsx)("pre",{className:"text-sm text-green-800 overflow-auto",children:JSON.stringify(a,null,2)})})]})}),m&&(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"Dashboard Data"}),(0,l.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,l.jsx)("pre",{className:"text-sm text-blue-800 overflow-auto",children:JSON.stringify(m,null,2)})})]})}),p&&(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"Error"}),(0,l.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-red-800",children:p})})]})}),j&&(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"text-center p-6",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),(0,l.jsx)("p",{children:"Testing authentication..."})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(r.$,{onClick:()=>window.location.href="/signin",className:"w-full",variant:"outline",children:"Go to Sign In"}),(0,l.jsx)(r.$,{onClick:()=>window.location.href="/signup",className:"w-full",variant:"outline",children:"Go to Sign Up"}),(0,l.jsx)(r.$,{onClick:()=>window.location.href="/dashboard",className:"w-full",variant:"outline",children:"Go to Dashboard"})]})]})}),(0,l.jsx)(i.EmpowermentCard,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Test Results"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{children:"Token Present:"}),(0,l.jsx)("span",{className:e?"text-green-600":"text-red-600",children:e?"Yes":"No"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{children:"User API:"}),(0,l.jsx)("span",{className:a?"text-green-600":"text-gray-600",children:a?"Working":"Not Tested"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{children:"Dashboard API:"}),(0,l.jsx)("span",{className:m?"text-green-600":"text-gray-600",children:m?"Working":"Not Tested"})]})]})]})})]})]})})}}},e=>{e.O(0,[5848,8861,9701,5147,4961,2136,7908,8030,2583,9168,4774,27,6308,563,4696,9173,9219,4409,3376,9765,7650,8920,871,6680,6975,4228,3848,9809,8061,2807,1198,1159,5159,23,6529,5593,4180,3976,186,8790,7358],()=>e(e.s=28919)),_N_E=e.O()}]);